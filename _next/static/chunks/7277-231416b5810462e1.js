"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7277],{57277:function(l,o,e){e.d(o,{q5:function(){return y},ZX:function(){return h},VR:function(){return t},d4:function(){return p}});var u=e(39574),n=e(72032);let i=(l,o)=>{let e=null==l?void 0:l.reduce((l,e,u)=>{let n=d(o[u]);if(!n)return l;let{a:i="",c:t="",d:a="",b:r="",e:s="",g:c="",k:g="",f:p=""}=e||{},f=[i,t,a,r,s,c,g,p].map((l,o)=>o<7?"".concat(v(l)||"",","):v(l)),h=o[u].includes("Player_")?o[u].split("Player_")[1]:"";return"".concat(l,"\n").concat(n,",").concat(h,",").concat(f.join(""))},"cog type,name,build_rate,flaggy_rate,exp_mult,exp_rate,build_rate_boost,flaggy_rate_boost,flaggy_speed,exp_rate_boost"),u="empties_x,empties_y",n=null==o?void 0:o.slice(0,96);for(let l=0;l<8;l++)for(let o=0;o<12;o++){let e=(7-l)*12+o;"Blank"===n[e]&&(u="".concat(u,"\n").concat(o,",").concat(l))}return{cogData:e,empties:u}},d=l=>{if("Blank"===l)return null;if(l.includes("Player_"))return"Character";if("CogY"===l)return"Yang_Cog";if("CogZ"===l)return"Omni_Cog";let o=Object.entries({ad:"Plus",di:"X",up:"Up",do:"Down",ri:"Right",le:"Left",ro:"Row",co:"Col",cr:"Omni"}).find(o=>{let[e]=o;return l.endsWith(e)});return o?"".concat(o[1],"_Cog"):"Cog"},v=l=>{var o;return(null==l?void 0:null===(o=l.name)||void 0===o?void 0:o.includes("%"))?(null==l?void 0:l.value)>0&&!isNaN((null==l?void 0:l.value)/100)?(null==l?void 0:l.value)/100:"":(null==l?void 0:l.value)||""},t=(l,o)=>{let e=(null==l?void 0:l.CogMap)||(0,u.tryToParse)(null==l?void 0:l.CogM),n=(null==l?void 0:l.CogOrder)||(0,u.tryToParse)(null==l?void 0:l.CogO),d=s(e,null==n?void 0:n.length),v=r(d),t=a(l,v,n,o),c=i(v,n);return{...t,cogstruction:c}},a=(l,o,e,n)=>{let i=(null==l?void 0:l.FlagUnlock)||(0,u.tryToParse)(null==l?void 0:l.FlagU),d=(null==l?void 0:l.FlagsPlaced)||(0,u.tryToParse)(null==l?void 0:l.FlagP);return c(i,d,o,e,n)},r=l=>null==l?void 0:l.map(l=>{var o;return null===(o=Object.entries(l))||void 0===o?void 0:o.reduce((l,o)=>{let[e,u]=o;return(null===n.cogKeyMap||void 0===n.cogKeyMap?void 0:n.cogKeyMap[e])&&(null===n.cogKeyMap||void 0===n.cogKeyMap?void 0:n.cogKeyMap[e])!=="_"?{...l,[e]:{name:null===n.cogKeyMap||void 0===n.cogKeyMap?void 0:n.cogKeyMap[e],value:u}}:{...l,[e]:u}},{})}),s=(l,o)=>{let e=[];for(let u=0;u<o;u++)e[u]=(null==l?void 0:l[u])||{};return e},c=(l,o,e,u,i)=>{var d,v,t,a;let r=null==l?void 0:l.reduce((l,i,d)=>{let v=null==u?void 0:u[d],t=null==e?void 0:e[d];return[...l,{currentAmount:-11===i?null===n.flagsReqs||void 0===n.flagsReqs?void 0:n.flagsReqs[d]:parseFloat(i),requiredAmount:null===n.flagsReqs||void 0===n.flagsReqs?void 0:n.flagsReqs[d],flagPlaced:null==o?void 0:o.includes(d),cog:{name:v,stats:t}}]},[]),s=null==e?void 0:e.map((l,o)=>({...l,name:null==u?void 0:u[o]})).filter(l=>{let{name:o}=l;return null==o?void 0:o.includes("Player_")}).reduce((l,o)=>{let{a:e}=o;return l+((null==e?void 0:e.value)||0)},0),c=Array(96).fill(0);for(let l=0;l<8;l++)for(let o=0;o<12;o++){let e=(7-l)*12+o,u=null==r?void 0:null===(v=r[e])||void 0===v?void 0:null===(t=v.cog)||void 0===t?void 0:t.stats,n=g(null==u?void 0:u.h,o,l);if((null==n?void 0:n.length)>0){n=null==n?void 0:n.map(l=>{let[o,e]=l;return(7-e)*12+o});let{e:l,f:o,g:i}=u||{};(l||o||i)&&(null==n||n.forEach(l=>{var o,u;let{e:n,f:i,g:d}=(null==r?void 0:null===(o=r[e])||void 0===o?void 0:null===(u=o.cog)||void 0===u?void 0:u.stats)||{};if((null==c?void 0:c[l])===0)c[l]={e:n,f:i,g:d};else{let{e:o,f:e,g:u}=c[l]||{};c[l]={e:{...o,value:((null==o?void 0:o.value)||0)+((null==n?void 0:n.value)||0)},f:{...e,value:((null==e?void 0:e.value)||0)+((null==i?void 0:i.value)||0)},g:{...u,value:((null==u?void 0:u.value)||0)+((null==d?void 0:d.value)||0)}}}}))}}let p=0,f=0,h=0,y=null!==(a=null==i?void 0:null===(d=i.gemShopPurchases)||void 0===d?void 0:d.find((l,o)=>118===o))&&void 0!==a?a:0,m=null==r?void 0:r.map((l,o)=>{var e,u,n,i,d,v,t,a,r,s,g,y,m,b,_,k,w,M,P,C,x,T;let{cog:R}=l||{},{e:K,f:q,g:O}=(null==c?void 0:c[o])||{},j=(null==K?void 0:K.value)>0&&(null==R?void 0:null===(e=R.stats)||void 0===e?void 0:null===(u=e.a)||void 0===u?void 0:u.value)>0?(null==R?void 0:null===(n=R.stats)||void 0===n?void 0:null===(i=n.a)||void 0===i?void 0:i.value)+(null==R?void 0:null===(d=R.stats)||void 0===d?void 0:null===(v=d.a)||void 0===v?void 0:v.value)*(null==K?void 0:K.value)/100:(null==R?void 0:null===(t=R.stats)||void 0===t?void 0:null===(a=t.a)||void 0===a?void 0:a.value)||0;p+=j,f+=(null==R?void 0:null===(r=R.stats)||void 0===r?void 0:null===(s=r.d)||void 0===s?void 0:s.value)>0?null==R?void 0:null===(g=R.stats)||void 0===g?void 0:null===(y=g.d)||void 0===y?void 0:y.value:0;let F=(null==O?void 0:O.value)>0&&(null==R?void 0:null===(m=R.stats)||void 0===m?void 0:null===(b=m.c)||void 0===b?void 0:b.value)>0?(null==R?void 0:null===(_=R.stats)||void 0===_?void 0:null===(k=_.c)||void 0===k?void 0:k.value)+(null==R?void 0:null===(w=R.stats)||void 0===w?void 0:null===(M=w.c)||void 0===M?void 0:M.value)*(null==O?void 0:O.value)/100:(null==R?void 0:null===(P=R.stats)||void 0===P?void 0:null===(C=P.c)||void 0===C?void 0:C.value)||0;return h+=F,{...l,cog:{...R,stats:{...null==R?void 0:R.stats,a:{...null==R?void 0:null===(x=R.stats)||void 0===x?void 0:x.a,value:j},c:{...null==R?void 0:null===(T=R.stats)||void 0===T?void 0:T.c,value:F}}}}});return{board:m,totalBuildRate:p,totalExpRate:f,totalFlaggyRate:h*(1+50*y/100),playersBuildRate:s}},g=(l,o,e)=>{let u=[];switch(l){case"diagonal":u.push([o-1,e-1],[o+1,e-1],[o-1,e+1],[o+1,e+1]);break;case"adjacent":u.push([o-1,e],[o,e+1],[o+1,e],[o,e-1]);break;case"up":u.push([o-1,e+2],[o,e+2],[o+1,e+2],[o-1,e+1],[o,e+1],[o+1,e+1]);break;case"right":u.push([o+2,e-1],[o+2,e],[o+2,e+1],[o+1,e-1],[o+1,e],[o+1,e+1]);break;case"down":u.push([o-1,e-2],[o,e-2],[o+1,e-2],[o-1,e-1],[o,e-1],[o+1,e-1]);break;case"left":u.push([o-2,e-1],[o-2,e],[o-2,e+1],[o-1,e-1],[o-1,e],[o-1,e+1]);break;case"row":for(let l=0;l<12;l++)o!==l&&u.push([l,e]);break;case"column":for(let l=0;l<8;l++)e!==l&&u.push([o,l]);break;case"corners":u.push([o-2,e-2],[o+2,e-2],[o-2,e+2],[o+2,e+2]);break;case"around":u.push([o,e-2],[o-1,e-1],[o,e-1],[o+1,e-1],[o-2,e],[o-1,e],[o+1,e],[o+2,e],[o-1,e+1],[o,e+1],[o+1,e+1],[o,e+2]);break;case"everything":for(let l=0;l<8;l++)for(let n=0;n<12;n++)(e!==l||o!==n)&&u.push([n,l])}return u},p=l=>{let o=(null==l?void 0:l.TowerInfo)||(0,u.tryToParse)(null==l?void 0:l.Tower),e=(0,u.tryToParse)(null==l?void 0:l.TotemInfo)||(null==l?void 0:l.TotemInfo);return f(o,e)},f=(l,o)=>{var e;let u=null==o?void 0:o[0],i=null==u?void 0:u.reduce((l,o)=>l+o,0),d=Object.keys(n.towers).length,v=l.slice(54,62),t=0,a=0,r=null===(e=Object.entries(n.towers))||void 0===e?void 0:e.map(o=>{let[e,u]=o,n=null==l?void 0:l[null==u?void 0:u.index];return(null==u?void 0:u.index)>=9&&(null==u?void 0:u.index)<=17&&n>50&&(t+=n-50),a+=n,{...u,name:e,level:n,nextLevel:n+1===l[u.index+d],progress:null==l?void 0:l[(null==u?void 0:u.index)+12+2*d],inProgress:null==v?void 0:v.includes(null==u?void 0:u.index),slot:null==v?void 0:v.findIndex(l=>l===(null==u?void 0:u.index))}});return{data:r,buildMultiplier:null===n.randomList||void 0===n.randomList?void 0:n.randomList[13].split(" "),wizardOverLevels:t,totalLevels:a,totalWaves:i,towersTwo:null==l?void 0:l[2]}},h=(l,o,e,u)=>{if(0===u)return 20*Math.pow(o+1,2)*Math.pow(1.6,o+1);{var n;let i=Number(null==l?void 0:null===(n=l.buildMultiplier)||void 0===n?void 0:n[u]);return i*Math.pow(e,o)}},y=[250,500,750,1e3,1250,1500,2500]}}]);