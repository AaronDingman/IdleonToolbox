"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3542],{20466:function(e,l,n){n.d(l,{Z:function(){return getDay}});var i=n(19013),t=n(13882);function getDay(e){return(0,t.Z)(1,arguments),(0,i.Z)(e).getDay()}},33913:function(e,l,n){n.d(l,{Z:function(){return isPast}});var i=n(19013),t=n(13882);function isPast(e){return(0,t.Z)(1,arguments),(0,i.Z)(e).getTime()<Date.now()}},49352:function(e,l,n){n.d(l,{Z:function(){return isThursday}});var i=n(19013),t=n(13882);function isThursday(e){return(0,t.Z)(1,arguments),4===(0,i.Z)(e).getDay()}},85148:function(e,l,n){n.d(l,{Z:function(){return nextThursday}});var i=n(77349),t=n(20466),o=n(13882);function nextThursday(e){return(0,o.Z)(1,arguments),function(e,l){(0,o.Z)(2,arguments);var n=4-(0,t.Z)(e);return n<=0&&(n+=7),(0,i.Z)(e,n)}(e,4)}},23284:function(e,l,n){n.d(l,{Z:function(){return previousThursday}});var i=n(13882),t=n(20466),o=n(7069);function previousThursday(e){return(0,i.Z)(1,arguments),function(e,l){(0,i.Z)(2,arguments);var n=(0,t.Z)(e)-4;return n<=0&&(n+=7),(0,o.Z)(e,n)}(e,4)}},28366:function(e,l,n){n.d(l,{Z:function(){return startOfToday}});var i=n(69119);function startOfToday(){return(0,i.Z)(Date.now())}},12731:function(e,l,n){n.d(l,{J:function(){return calcTotals},h:function(){return getPrinter}});var i=n(1356),t=n(85285),o=n(56689),r=n(12963),u=n(29529),d=n(34500),a=n(8146);let getPrinter=(e,l,n)=>{let t=(0,i.tryToParse)(null==e?void 0:e.Print)||(null==e?void 0:e.Printer),o=(0,i.tryToParse)(null==e?void 0:e.PrinterXtra)||(null==e?void 0:e.PrinterXtra);return parsePrinter(t,o,l,n)},parsePrinter=(e,l,n,d)=>{var a,v,s,c,f,p,m;let h=(0,t.s8)(d,n,3),y=(0,o.YS)(null==d?void 0:null===(a=d.sailing)||void 0===a?void 0:a.artifacts,"Gold_Relic"),g=(null==y?void 0:y.acquired)===3?null==y?void 0:y.eldritchMultiplier:(null==y?void 0:y.acquired)===2?null==y?void 0:y.ancientMultiplier:0,b=null==d?void 0:null===(c=d.lab)||void 0===c?void 0:null===(s=c.labBonuses)||void 0===s?void 0:null===(v=s.find(e=>"Wired_In"===e.name))||void 0===v?void 0:v.active,S=null==d?void 0:null===(f=d.lab)||void 0===f?void 0:f.connectedPlayers,Z=null==d?void 0:null===(p=d.accountOptions)||void 0===p?void 0:p[125],O=null==d?void 0:null===(m=d.accountOptions)||void 0===m?void 0:m[138],P=null==n?void 0:n.filter(e=>(null==e?void 0:e.class)==="Divine_Knight"),T=null==P?void 0:P.reduce((e,l)=>{let{talents:n}=l,i=(0,r._X)(n,3,"KING_OF_THE_REMEMBERED",!1,!0);return i>e?i:e},0),j=(0,u.fi)(null==d?void 0:d.totalSkillsLevels,null==d?void 0:d.rift,3),R=e.slice(5,e.length);return n.map((e,n)=>{let t=R.slice(14*n,14*n+14);if(l){let e=null==l?void 0:l.slice(10*n,10*n+10);t.splice(-4,0,e),t=t.flat()}return t.reduce((e,l,o,r)=>{if(o%2==0){let l=r.slice(o,o+2).map((e,l)=>e),u=l[1],d=null==S?void 0:S.find(e=>{let{playerId:l}=e;return l===n}),a=(1+Z*(2+g)/100)*(1+T*(0,i.lavaLog)(O)/100)*(1+j/100),v=b&&d?h.includes(n)?6*a:2*a:h.includes(n)?3*a:a;u*=v;let s=[{name:"Lab",value:d&&b?2:0},{name:"Harriep God",value:h.includes(n)?3:0},{name:"Skill Mastery",value:1+j/100},{name:"Divine Knight",value:1+T*(0,i.lavaLog)(O)/100},{name:"Gold Relic",value:1+Z*(2+g)/100}];return[...e,{item:l[0],value:l[1],active:o>=t.length-4,boostedValue:u,breakdown:s}]}return e},[])})},calcTotals=(e,l)=>{var n,i;let{printer:t,storage:o}=e||{},r=(0,a.Xp)(null==e?void 0:null===(n=e.accountOptions)||void 0===n?void 0:n[133]),u=null==t?void 0:t.reduce((e,l)=>(l.forEach(l=>{let{boostedValue:n,item:i,active:t}=l;if("Blank"!==i&&t){if(null==e?void 0:e[i]){var u;e[i]={...e[i],boostedValue:n+(null===(u=e[i])||void 0===u?void 0:u.boostedValue)}}else{let l=(0,d.ju)(o,i,!0,!0);e[i]={boostedValue:n,atomable:l>=r,storageItem:l}}}}),e),{});u=calcAtoms(u,r,l);let v=null===(i=Object.entries(u))||void 0===i?void 0:i.reduce((e,l)=>{var n;let[,i]=l;return e+(null!==(n=null==i?void 0:i.atoms)&&void 0!==n?n:0)},0);return{...u,atom:{boostedValue:v,atoms:v}}},calcAtoms=function(){var e;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return null===(e=Object.entries(l))||void 0===e?void 0:e.reduce((e,l)=>{let t,o,[r,u]=l,{boostedValue:d,atomable:a,storageItem:v}=u;if(null==i?void 0:i.checked)o=a;else{let e=d>=n&&!a,l=d>n-v&&!a;t=e?d-n:l?d-(n-v):d,o=e||l||a}return e[r]={...u,...o?{atoms:t/1e7}:{}},e},{})}},29520:function(e,l,n){n.d(l,{B:function(){return hasMissingMats},w:function(){return getRefinery}});var i=n(1356),t=n(94978),o=n(34500);let getRefinery=(e,l,n)=>{let t=(0,i.tryToParse)(null==e?void 0:e.Refinery)||(null==e?void 0:e.Refinery);return parseRefinery(t,l,n)},parseRefinery=(e,l,n)=>{var i,r,u,d,a,v;let s=null==e?void 0:e[1],c=null==e?void 0:e[2],f=null==s?void 0:s.reduce((e,l,n)=>{var i;return"Blank"!==l?[...e,{rawName:l,name:null===(i=t.items[l])||void 0===i?void 0:i.displayName,amount:null==c?void 0:c[n],owner:"refinery"}]:e},[]),p=[...l,...f],m=null===(i=t.randomList[18])||void 0===i?void 0:i.split(" "),h=null==n?void 0:null===(u=n[2])||void 0===u?void 0:null===(r=u[2])||void 0===r?void 0:r[6],y=null==e?void 0:e.slice(3,3+(null==e?void 0:null===(d=e[0])||void 0===d?void 0:d[0])),g=null==y?void 0:y.reduce((e,l,n)=>{let i="Refinery".concat(n+1),[r,u,,d,a]=l,{saltName:v,cost:s}=null===t.refinery||void 0===t.refinery?void 0:t.refinery[i],c=null==s?void 0:s.map(e=>{let l=(0,o.ju)(p,null==e?void 0:e.name,!0);return{...e,totalAmount:l}});return[...e,{saltName:v,cost:c,rawName:i,powerCap:parseFloat(Math.max(null==m?void 0:m[Math.min(u,(null==m?void 0:m.length)-2)],25)),refined:r,rank:u,active:d,autoRefinePercentage:a}]},[]);return{salts:g,refinerySaltTaskLevel:h,timePastCombustion:null==e?void 0:null===(a=e[0])||void 0===a?void 0:a[1],timePastSynthesis:null==e?void 0:null===(v=e[0])||void 0===v?void 0:v[2],totalLevels:null==g?void 0:g.reduce((e,l)=>{let{rank:n}=l;return e+n},0)}},hasMissingMats=(e,l,n,i)=>null==n?void 0:n.filter(n=>{var t;let{rawName:o,quantity:r,totalAmount:u}=n;return u<Math.floor(Math.pow(l,(null==o?void 0:o.includes("Refinery"))&&e<=(null==i?void 0:null===(t=i.refinery)||void 0===t?void 0:t.refinerySaltTaskLevel)?1.3:1.5))*r})},30778:function(e,l,n){n.d(l,{gN:function(){return getRawShopItems},u6:function(){return getShops}});var i=n(1356),t=n(94978);let getShops=e=>{let l=(null==e?void 0:e.ShopStock)||(0,i.tryToParse)(null==e?void 0:e.ShopStock);return parseShops(l)},parseShops=e=>e.reduce((e,l,n)=>{var i;let r=null===(i=Object.values(l))||void 0===i?void 0:i.reduce((e,l,i)=>{var r,u,d,a;let v=null==o?void 0:null===(r=o[n])||void 0===r?void 0:r[i],s=parseInt(l)||0;return s>0&&v?[...e,{amount:l,...null===(d=t.shops[n])||void 0===d?void 0:null===(u=d.items)||void 0===u?void 0:u[i],shopName:null===(a=t.shops[n])||void 0===a?void 0:a.name}]:e},[]);return[...e,r]},[]),getRawShopItems=()=>{var e;return null===(e=Object.entries(t.shops))||void 0===e?void 0:e.reduce((e,l)=>{var n;let[i,{items:t}]=l,r=null==t?void 0:null===(n=t.filter((e,l)=>{var n;return null==o?void 0:null===(n=o[i])||void 0===n?void 0:n[l]}))||void 0===n?void 0:n.map(e=>{let{rawName:l}=e;return l});return[...e,...r]},[]).toSimpleObject()},o={0:[8,14,17].toSimpleObject(),1:[2,8,9].toSimpleObject(),2:[0,1,2,3,8,9,10].toSimpleObject(),3:[].toSimpleObject(),4:[0,1,2,8,9,10,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject()}}}]);