(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6584],{9602:function(g,b,a){"use strict";var c=a(5318);b.Z=void 0;var d=c(a(4938)),e=a(5893),f=(0,d.default)((0,e.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline");b.Z=f},5969:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/active-exp-calculator",function(){return c(1152)}])},1152:function(k,c,a){"use strict";a.r(c),a.d(c,{"default":function(){return H}});var l=a(5893),d=a(7294),m=a(3133),b=a(5934),n=a(6447),e=a(1903),f=a(8972),o=a(9602),p=a(4674),q=a(865),r="undefined"==typeof window?d.useEffect:d.useLayoutEffect,s=({isPlaying:b,duration:c,startAt:a=0,updateInterval:f=0,onComplete:h,onUpdate:i})=>{let[e,j]=(0,d.useState)(a),k=(0,d.useRef)(0),l=(0,d.useRef)(a),m=(0,d.useRef)(-1e3*a),n=(0,d.useRef)(null),o=(0,d.useRef)(null),p=(0,d.useRef)(null),q=e=>{let b=e/1e3;if(null===o.current){o.current=b,n.current=requestAnimationFrame(q);return}let g=b-o.current,a=k.current+g;o.current=b,k.current=a;let h=l.current+(0===f?a:(a/f|0)*f),i=l.current+a,d="number"==typeof c&&i>=c;j(d?c:h),d||(n.current=requestAnimationFrame(q))},s=()=>{n.current&&cancelAnimationFrame(n.current),p.current&&clearTimeout(p.current),o.current=null},g=(0,d.useCallback)(c=>{s(),k.current=0;let d="number"==typeof c?c:a;l.current=d,j(d),b&&(n.current=requestAnimationFrame(q))},[b,a]);return r(()=>{if(null==i||i(e),c&&e>=c){m.current+=1e3*c;let{shouldRepeat:a=!1,delay:b=0,newStartAt:d}=(null==h?void 0:h(m.current/1e3))||{};a&&(p.current=setTimeout(()=>g(d),1e3*b))}},[e,c]),r(()=>(b&&(n.current=requestAnimationFrame(q)),s),[b,c,f]),{elapsedTime:e,reset:g}},t=(f,g,h)=>{let b=f/2,c=g/2,a=b-c,d=2*a,e="clockwise"===h?"1,0":"0,1";return{path:`m ${b},${c} a ${a},${a} 0 ${e} 0,${d} a ${a},${a} 0 ${e} 0,-${d}`,pathLength:2*Math.PI*a}},u=(a,b)=>0===a||a===b?0:"number"==typeof b?a-b:0,v=a=>({position:"relative",width:a,height:a}),w={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},x=(c,a,d,b)=>0===b?a:a+d*(c/b),y=c=>{var a,b;return null!=(b=null==(a=c.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(d,a,b,c)=>`#${a}${a}${b}${b}${c}${c}`).substring(1).match(/.{2}/g))?void 0:a.map(a=>parseInt(a,16)))?b:[]},z=(e,f)=>{var d;let{colors:b,colorsTime:c,isSmoothColorTransition:g=!0}=e;if("string"==typeof b)return b;let a=null!=(d=null==c?void 0:c.findIndex((a,b)=>a>=f&&f>=c[b+1]))?d:-1;if(!c|| -1===a)return b[0];if(!g)return b[a];let i=c[a]-f,j=c[a]-c[a+1],h=y(b[a]),k=y(b[a+1]);return`rgb(${h.map((a,b)=>0|x(i,a,k[b]-a,j)).join(",")})`},A=c=>{let{duration:a,initialRemainingTime:k,updateInterval:l,size:e=180,strokeWidth:f=12,trailStrokeWidth:g,isPlaying:m=!1,rotation:h="clockwise",onComplete:n,onUpdate:o}=c,q=(0,d.useRef)(),{path:p,pathLength:i}=t(e,Math.max(f,null!=g?g:0),h),{elapsedTime:b}=s({isPlaying:m,duration:a,startAt:u(a,k),updateInterval:l,onUpdate:"function"==typeof o?c=>{let b=Math.ceil(a-c);b!==q.current&&(q.current=b,o(b))}:void 0,onComplete:"function"==typeof n?d=>{var b;let{shouldRepeat:c,delay:e,newInitialRemainingTime:f}=null!=(b=n(d))?b:{};if(c)return{shouldRepeat:c,delay:e,newStartAt:u(a,f)}}:void 0}),j=a-b;return{elapsedTime:b,path:p,pathLength:i,remainingTime:Math.ceil(j),rotation:h,size:e,stroke:z(c,j),strokeDashoffset:x(b,0,i,a),strokeWidth:f}},g=b=>{let{children:c,strokeLinecap:e,trailColor:f,trailStrokeWidth:g}=b,{path:h,pathLength:k,stroke:i,strokeDashoffset:l,remainingTime:m,elapsedTime:n,size:a,strokeWidth:j}=A(b);return d.createElement("div",{style:v(a)},d.createElement("svg",{width:a,height:a,xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:h,fill:"none",stroke:null!=f?f:"#d9d9d9",strokeWidth:null!=g?g:j}),d.createElement("path",{d:h,fill:"none",stroke:i,strokeLinecap:null!=e?e:"round",strokeWidth:j,strokeDasharray:k,strokeDashoffset:l})),"function"==typeof c&&d.createElement("div",{style:w},c({remainingTime:m,elapsedTime:n,color:i})))};g.displayName="CountdownCircleTimer";var B=a(2962);function C(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function D(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function h(){var a=D(["\n  && {\n    width: 230px;\n\n    .MuiSelect-select {\n      display: flex;\n      align-items: center;\n      gap: 15px;\n    }\n\n    label.Mui-focused {\n      color: rgba(255, 255, 255, 0.7);\n    }\n  }\n"]);return h=function(){return a},a}function i(){var a=D(["\n  && {\n    display: flex;\n    gap: 15px\n  }\n"]);return i=function(){return a},a}function j(){var a=D(["\n  padding: 20px;\n  margin-top: 15px;\n  margin-bottom: 25px;\n\n\n  .selection {\n    display: flex;\n    align-items: baseline;\n    gap: 15px;\n  }\n\n\n  .wrapper {\n    display: flex;\n    gap: 50px;\n  }\n\n  .character-wrapper {\n    margin-top: 30px;\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n  }\n\n  .timer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: white;\n  }\n\n  .text {\n    color: white;\n  }\n\n  .value {\n    font-size: 40px;\n  }\n\n  .info {\n    max-width: 360px;\n    margin: 40px auto 0;\n    text-align: center;\n    font-size: 16px;\n  }\n"]);return j=function(){return a},a}var E=(0,b.Z)(e.Z)(h()),F=(0,b.Z)(f.Z)(i()),G=b.Z.div(j()),H=function(){var w=(0,d.useContext)(q.I).state,c=(0,d.useState)([]),r=c[0],x=c[1],e=(0,d.useState)({}),a=e[0],y=e[1],f=(0,d.useState)(0),s=f[0],z=f[1],h=(0,d.useState)(0),t=h[0],A=h[1],i=(0,d.useState)(!1),u=i[0],D=i[1],j=(0,d.useState)(0),v=j[0],H=j[1],k=(0,d.useState)(null),b=k[0],I=k[1];(0,d.useEffect)(function(){var b,c=null==w?void 0:null===(b=w.characters)|| void 0===b?void 0:b.map(function(a){var b=a.name,c=a.skillsInfo,d=a.class;return function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){C(d,a,c[a])})}return d}({name:b,charClass:d},c.character)}),a=null==c?void 0:c[0];y(a),A(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),z(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),x(c)},[]),(0,d.useEffect)(function(){A(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),z(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),I(null)},[a]);var J=function(f,g){var b=a.expReq,d=b*(parseInt(parseFloat(f).toFixed(2).replace(".",""))/1e4),e=b*(parseInt(parseFloat(g).toFixed(2).replace(".",""))/1e4)-d,c=e/10;return{expFarmed:e,expPerMinute:c,expPerHour:60*c,timeLeft:(0,m.splitTime)((b-d)/c/60)}},K=function(b){z(b);var a=J(t,b);I((null==a?void 0:a.expFarmed)>0?a:null),(null==a?void 0:a.expFarmed)>0&&I(a)},L=function(b){A(b);var a=J(b,s);I((null==a?void 0:a.expFarmed)>0?a:null),(null==a?void 0:a.expFarmed)>0&&I(a)};return(0,l.jsxs)(G,{children:[(0,l.jsx)(B.PB,{title:"Idleon Toolbox | Active Exp Calculator",description:"Calculate how much experience you get when playing actively"}),(0,l.jsxs)(n.Z,{gap:5,flexWrap:"wrap",sx:{flexDirection:{xs:"column-reverse",sm:"row"}},children:[(0,l.jsxs)("div",{className:"character-wrapper",children:[(0,l.jsxs)(n.Z,{direction:"row",flexWrap:"wrap",children:[(0,l.jsx)(E,{id:"select",label:"Character",value:a,onChange:function(a){return y(a.target.value)},select:!0,children:r.map(function(a,b){return(0,l.jsxs)(F,{value:a,children:[(0,l.jsx)("img",{src:"".concat(m.prefix,"icons/").concat(null==a?void 0:a.charClass,"_Icon.png"),alt:""}),null==a?void 0:a.name]},(null==a?void 0:a.name)+b)})}),(0,l.jsx)(p.Z,{"aria-label":"delete",onClick:function(){I(null),u?H(function(a){return a+1}):D(!0)},children:(0,l.jsx)(o.Z,{})})]}),(0,l.jsx)(E,{label:"Start Percentage",value:t,type:"number",onChange:function(a){return L(a.target.value)}}),(0,l.jsx)(E,{label:"End Percentage",value:s,type:"number",onChange:function(a){return K(a.target.value)}}),(0,l.jsxs)("div",{className:"details",children:[(0,l.jsxs)("div",{children:["Level: ",null==a?void 0:a.level]}),(0,l.jsxs)("div",{children:["Current percentage: ",((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2),"%"]}),(0,l.jsxs)("div",{children:["Current exp: ",(0,m.kFormatter)(null==a?void 0:a.exp)]}),(0,l.jsxs)("div",{children:["Required exp to level: ",(0,m.kFormatter)(null==a?void 0:a.expReq)]}),b?(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Results"}),(0,l.jsxs)("div",{children:["Exp farmed: ",(0,m.kFormatter)(null==b?void 0:b.expFarmed)]}),(0,l.jsxs)("div",{children:["Exp per minute: ",(0,m.kFormatter)(null==b?void 0:b.expPerMinute)]}),(0,l.jsxs)("div",{children:["Exp per hour: ",(0,m.kFormatter)(null==b?void 0:b.expPerHour)]}),(0,l.jsxs)("div",{children:["Time to lv up: ",null==b?void 0:b.timeLeft]})]}):null]})]}),(0,l.jsx)(g,{isPlaying:u,duration:600,colors:[["#15aee1"]],children:function(b){var a=b.remainingTime;return 0===a?(0,l.jsx)("div",{className:"timer",children:"Done!"}):(0,l.jsxs)("div",{className:"timer",children:[(0,l.jsx)("div",{className:"text",children:"Remaining"}),(0,l.jsx)("div",{className:"value",children:a}),(0,l.jsx)("div",{className:"text",children:"seconds"})]})}},v)]})]})}}},function(a){a.O(0,[9774,2888,179],function(){return a(a.s=5969)}),_N_E=a.O()}])