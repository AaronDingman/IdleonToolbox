(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{9602:function(g,b,a){"use strict";var c=a(5318);b.Z=void 0;var d=c(a(4938)),e=a(5893),f=(0,d.default)((0,e.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline");b.Z=f},1903:function(m,e,a){"use strict";a.d(e,{Z:function(){return M}});var n,o=a(7462),p=a(3366),b=a(7294),q=a(6010),r=a(4780),s=a(7579),c=a(948),t=a(1657),f=a(9332),g=a(6135),h=a(7709),u=a(3841),i=a(4054),v=a(5704),w=a(4423),x=a(8216),y=a(4867),d=a(1588);function z(a){return(0,y.Z)("MuiFormHelperText",a)}const j=(0,d.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var A=j,B=a(5893);const C=["children","className","component","disabled","error","filled","focused","margin","required","variant"],D=b=>{const{classes:c,contained:d,size:a,disabled:e,error:f,filled:g,focused:h,required:i}=b,j={root:["root",e&&"disabled",f&&"error",a&&`size${(0,x.Z)(a)}`,d&&"contained",h&&"focused",g&&"filled",i&&"required"]};return(0,r.Z)(j,z,c)},E=(0,c.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver(c,a){const{ownerState:b}=c;return[a.root,b.size&&a[`size${(0,x.Z)(b.size)}`],b.contained&&a.contained,b.filled&&a.filled]}})(({theme:a,ownerState:b})=>(0,o.Z)({color:(a.vars||a).palette.text.secondary},a.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${A.disabled}`]:{color:(a.vars||a).palette.text.disabled},[`&.${A.error}`]:{color:(a.vars||a).palette.error.main}},"small"===b.size&&{marginTop:4},b.contained&&{marginLeft:14,marginRight:14})),k=b.forwardRef(function(f,g){const b=(0,t.Z)({props:f,name:"MuiFormHelperText"}),{children:c,className:h,component:d="p"}=b,i=(0,p.Z)(b,C),j=(0,w.Z)(),a=(0,v.Z)({props:b,muiFormControl:j,states:["variant","size","disabled","error","filled","focused","required"]}),e=(0,o.Z)({},b,{component:d,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),k=D(e);return(0,B.jsx)(E,(0,o.Z)({as:d,ownerState:e,className:(0,q.Z)(k.root,h),ref:g},i,{children:" "===c?n||(n=(0,B.jsx)("span",{className:"notranslate",children:"\u200B"})):c}))});var F=k,G=a(8360);function H(a){return(0,y.Z)("MuiTextField",a)}(0,d.Z)("MuiTextField",["root"]);const I=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],J={standard:f.Z,filled:g.Z,outlined:h.Z},K=a=>{const{classes:b}=a;return(0,r.Z)({root:["root"]},H,b)},L=(0,c.ZP)(i.Z,{name:"MuiTextField",slot:"Root",overridesResolver:(b,a)=>a.root})({}),l=b.forwardRef(function(C,D){const f=(0,t.Z)({props:C,name:"MuiTextField"}),{autoComplete:E,autoFocus:l=!1,children:H,className:M,color:m="primary",defaultValue:N,disabled:n=!1,error:r=!1,FormHelperTextProps:O,fullWidth:g=!1,helperText:h,id:P,InputLabelProps:d,inputProps:Q,InputProps:R,inputRef:S,label:b,maxRows:T,minRows:U,multiline:v=!1,name:V,onBlur:W,onChange:X,onFocus:Y,placeholder:Z,required:w=!1,rows:$,select:i=!1,SelectProps:j,type:_,value:x,variant:e="outlined"}=f,aa=(0,p.Z)(f,I),y=(0,o.Z)({},f,{autoFocus:l,color:m,disabled:n,error:r,fullWidth:g,multiline:v,required:w,select:i,variant:e}),ab=K(y),c={};"outlined"===e&&(d&& void 0!==d.shrink&&(c.notched=d.shrink),c.label=b),i&&(j&&j.native||(c.id=void 0),c["aria-describedby"]=void 0);const a=(0,s.Z)(P),k=h&&a?`${a}-helper-text`:void 0,z=b&&a?`${a}-label`:void 0,ac=J[e],A=(0,B.jsx)(ac,(0,o.Z)({"aria-describedby":k,autoComplete:E,autoFocus:l,defaultValue:N,fullWidth:g,multiline:v,name:V,rows:$,maxRows:T,minRows:U,type:_,value:x,id:a,inputRef:S,onBlur:W,onChange:X,onFocus:Y,placeholder:Z,inputProps:Q},c,R));return(0,B.jsxs)(L,(0,o.Z)({className:(0,q.Z)(ab.root,M),disabled:n,error:r,fullWidth:g,ref:D,required:w,color:m,variant:e,ownerState:y},aa,{children:[null!=b&&""!==b&&(0,B.jsx)(u.Z,(0,o.Z)({htmlFor:a,id:z},d,{children:b})),i?(0,B.jsx)(G.Z,(0,o.Z)({"aria-describedby":k,id:a,labelId:z,value:x,input:A},j,{children:H})):A,h&&(0,B.jsx)(F,(0,o.Z)({id:k},O,{children:h}))]}))});var M=l},5969:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/active-exp-calculator",function(){return c(1152)}])},1152:function(k,c,a){"use strict";a.r(c),a.d(c,{"default":function(){return G}});var l=a(5893),d=a(7294),m=a(7702),b=a(5934),n=a(6447),e=a(1903),f=a(8972),o=a(9602),p=a(4674),q=a(4897),r="undefined"==typeof window?d.useEffect:d.useLayoutEffect,s=({isPlaying:b,duration:c,startAt:a=0,updateInterval:f=0,onComplete:h,onUpdate:i})=>{let[e,j]=(0,d.useState)(a),k=(0,d.useRef)(0),l=(0,d.useRef)(a),m=(0,d.useRef)(-1e3*a),n=(0,d.useRef)(null),o=(0,d.useRef)(null),p=(0,d.useRef)(null),q=e=>{let b=e/1e3;if(null===o.current){o.current=b,n.current=requestAnimationFrame(q);return}let g=b-o.current,a=k.current+g;o.current=b,k.current=a;let h=l.current+(0===f?a:(a/f|0)*f),i=l.current+a,d="number"==typeof c&&i>=c;j(d?c:h),d||(n.current=requestAnimationFrame(q))},s=()=>{n.current&&cancelAnimationFrame(n.current),p.current&&clearTimeout(p.current),o.current=null},g=(0,d.useCallback)(c=>{s(),k.current=0;let d="number"==typeof c?c:a;l.current=d,j(d),b&&(n.current=requestAnimationFrame(q))},[b,a]);return r(()=>{if(null==i||i(e),c&&e>=c){m.current+=1e3*c;let{shouldRepeat:a=!1,delay:b=0,newStartAt:d}=(null==h?void 0:h(m.current/1e3))||{};a&&(p.current=setTimeout(()=>g(d),1e3*b))}},[e,c]),r(()=>(b&&(n.current=requestAnimationFrame(q)),s),[b,c,f]),{elapsedTime:e,reset:g}},t=(f,g,h)=>{let b=f/2,c=g/2,a=b-c,d=2*a,e="clockwise"===h?"1,0":"0,1";return{path:`m ${b},${c} a ${a},${a} 0 ${e} 0,${d} a ${a},${a} 0 ${e} 0,-${d}`,pathLength:2*Math.PI*a}},u=(a,b)=>0===a||a===b?0:"number"==typeof b?a-b:0,v=a=>({position:"relative",width:a,height:a}),w={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},x=(c,a,d,b)=>0===b?a:a+d*(c/b),y=c=>{var a,b;return null!=(b=null==(a=c.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(d,a,b,c)=>`#${a}${a}${b}${b}${c}${c}`).substring(1).match(/.{2}/g))?void 0:a.map(a=>parseInt(a,16)))?b:[]},z=(e,f)=>{var d;let{colors:b,colorsTime:c,isSmoothColorTransition:g=!0}=e;if("string"==typeof b)return b;let a=null!=(d=null==c?void 0:c.findIndex((a,b)=>a>=f&&f>=c[b+1]))?d:-1;if(!c|| -1===a)return b[0];if(!g)return b[a];let i=c[a]-f,j=c[a]-c[a+1],h=y(b[a]),k=y(b[a+1]);return`rgb(${h.map((a,b)=>0|x(i,a,k[b]-a,j)).join(",")})`},A=c=>{let{duration:a,initialRemainingTime:k,updateInterval:l,size:e=180,strokeWidth:f=12,trailStrokeWidth:g,isPlaying:m=!1,rotation:h="clockwise",onComplete:n,onUpdate:o}=c,q=(0,d.useRef)(),{path:p,pathLength:i}=t(e,Math.max(f,null!=g?g:0),h),{elapsedTime:b}=s({isPlaying:m,duration:a,startAt:u(a,k),updateInterval:l,onUpdate:"function"==typeof o?c=>{let b=Math.ceil(a-c);b!==q.current&&(q.current=b,o(b))}:void 0,onComplete:"function"==typeof n?d=>{var b;let{shouldRepeat:c,delay:e,newInitialRemainingTime:f}=null!=(b=n(d))?b:{};if(c)return{shouldRepeat:c,delay:e,newStartAt:u(a,f)}}:void 0}),j=a-b;return{elapsedTime:b,path:p,pathLength:i,remainingTime:Math.ceil(j),rotation:h,size:e,stroke:z(c,j),strokeDashoffset:x(b,0,i,a),strokeWidth:f}},g=b=>{let{children:c,strokeLinecap:e,trailColor:f,trailStrokeWidth:g}=b,{path:h,pathLength:k,stroke:i,strokeDashoffset:l,remainingTime:m,elapsedTime:n,size:a,strokeWidth:j}=A(b);return d.createElement("div",{style:v(a)},d.createElement("svg",{width:a,height:a,xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:h,fill:"none",stroke:null!=f?f:"#d9d9d9",strokeWidth:null!=g?g:j}),d.createElement("path",{d:h,fill:"none",stroke:i,strokeLinecap:null!=e?e:"round",strokeWidth:j,strokeDasharray:k,strokeDashoffset:l})),"function"==typeof c&&d.createElement("div",{style:w},c({remainingTime:m,elapsedTime:n,color:i})))};function B(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function C(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function h(){var a=C(["\n  && {\n    width: 230px;\n\n    .MuiSelect-select {\n      display: flex;\n      align-items: center;\n      gap: 15px;\n    }\n\n    label.Mui-focused {\n      color: rgba(255, 255, 255, 0.7);\n    }\n  }\n"]);return h=function(){return a},a}function i(){var a=C(["\n  && {\n    display: flex;\n    gap: 15px\n  }\n"]);return i=function(){return a},a}function j(){var a=C(["\n  padding: 20px;\n  margin-top: 15px;\n  margin-bottom: 25px;\n\n\n  .selection {\n    display: flex;\n    align-items: baseline;\n    gap: 15px;\n  }\n\n\n  .wrapper {\n    display: flex;\n    gap: 50px;\n  }\n\n  .character-wrapper {\n    margin-top: 30px;\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n  }\n\n  .timer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: white;\n  }\n\n  .text {\n    color: white;\n  }\n\n  .value {\n    font-size: 40px;\n  }\n\n  .info {\n    max-width: 360px;\n    margin: 40px auto 0;\n    text-align: center;\n    font-size: 16px;\n  }\n"]);return j=function(){return a},a}g.displayName="CountdownCircleTimer";var D=(0,b.Z)(e.Z)(h()),E=(0,b.Z)(f.Z)(i()),F=b.Z.div(j()),G=function(){var w=(0,d.useContext)(q.I).state,c=(0,d.useState)([]),r=c[0],x=c[1],e=(0,d.useState)({}),a=e[0],y=e[1],f=(0,d.useState)(0),s=f[0],z=f[1],h=(0,d.useState)(0),t=h[0],A=h[1],i=(0,d.useState)(!1),u=i[0],C=i[1],j=(0,d.useState)(0),v=j[0],G=j[1],k=(0,d.useState)(null),b=k[0],H=k[1];(0,d.useEffect)(function(){var b,c=null==w?void 0:null===(b=w.characters)|| void 0===b?void 0:b.map(function(a){var b=a.name,c=a.skillsInfo,d=a.class;return function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){B(d,a,c[a])})}return d}({name:b,charClass:d},c.character)}),a=null==c?void 0:c[0];y(a),A(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),z(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),x(c)},[]),(0,d.useEffect)(function(){A(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),z(((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2)),H(null)},[a]);var I=function(f,g){a.exp;var b=a.expReq,c=b*(parseInt(parseFloat(f).toFixed(2).replace(".",""))/1e4),d=b*(parseInt(parseFloat(g).toFixed(2).replace(".",""))/1e4)-c,e=d/10;return{expFarmed:d,expPerMinute:e,timeLeft:(0,m.splitTime)((b-c)/e/60)}},J=function(b){z(b);var a=I(t,b);H((null==a?void 0:a.expFarmed)>0?a:null),(null==a?void 0:a.expFarmed)>0&&H(a)},K=function(b){A(b);var a=I(b,s);H((null==a?void 0:a.expFarmed)>0?a:null),(null==a?void 0:a.expFarmed)>0&&H(a)};return(0,l.jsx)(F,{children:(0,l.jsxs)(n.Z,{gap:5,flexWrap:"wrap",sx:{flexDirection:{xs:"column-reverse",sm:"row"}},children:[(0,l.jsxs)("div",{className:"character-wrapper",children:[(0,l.jsxs)(n.Z,{direction:"row",flexWrap:"wrap",children:[(0,l.jsx)(D,{id:"select",label:"Character",value:a,onChange:function(a){return y(a.target.value)},select:!0,children:r.map(function(a,b){return(0,l.jsxs)(E,{value:a,children:[(0,l.jsx)("img",{src:"".concat(m.prefix,"icons/").concat(null==a?void 0:a.charClass,"_Icon.png"),alt:""}),null==a?void 0:a.name]},(null==a?void 0:a.name)+b)})}),(0,l.jsx)(p.Z,{"aria-label":"delete",onClick:function(){H(null),u?G(function(a){return a+1}):C(!0)},children:(0,l.jsx)(o.Z,{})})]}),(0,l.jsx)(D,{label:"Start Percentage",value:t,type:"number",onChange:function(a){return K(a.target.value)}}),(0,l.jsx)(D,{label:"End Percentage",value:s,type:"number",onChange:function(a){return J(a.target.value)}}),(0,l.jsxs)("div",{className:"details",children:[(0,l.jsxs)("div",{children:["Level: ",null==a?void 0:a.level]}),(0,l.jsxs)("div",{children:["Current percentage: ",((null==a?void 0:a.exp)/(null==a?void 0:a.expReq)*100).toFixed(2),"%"]}),(0,l.jsxs)("div",{children:["Current exp: ",(0,m.kFormatter)(null==a?void 0:a.exp)]}),(0,l.jsxs)("div",{children:["Required exp to level: ",(0,m.kFormatter)(null==a?void 0:a.expReq)]}),b?(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Results"}),(0,l.jsxs)("div",{children:["Exp farmed: ",(0,m.kFormatter)(null==b?void 0:b.expFarmed)]}),(0,l.jsxs)("div",{children:["Exp per minute: ",(0,m.kFormatter)(null==b?void 0:b.expPerMinute)]}),(0,l.jsxs)("div",{children:["Time to lv up: ",null==b?void 0:b.timeLeft]})]}):null]})]}),(0,l.jsx)(g,{isPlaying:u,duration:600,colors:[["#15aee1"]],children:function(b){var a=b.remainingTime;return 0===a?(0,l.jsx)("div",{className:"timer",children:"Done!"}):(0,l.jsxs)("div",{className:"timer",children:[(0,l.jsx)("div",{className:"text",children:"Remaining"}),(0,l.jsx)("div",{className:"value",children:a}),(0,l.jsx)("div",{className:"text",children:"seconds"})]})}},v)]})})}}},function(a){a.O(0,[502,774,888,179],function(){return a(a.s=5969)}),_N_E=a.O()}])