(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4090],{52046:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/god-planner",function(){return t(18814)}])},25164:function(n,e,t){"use strict";t.d(e,{Gr:function(){return W},M5:function(){return j},Wd:function(){return _},iy:function(){return Z},j8:function(){return f},u3:function(){return C},uQ:function(){return v}});var i=t(82729),r=t(85893),l=t(67294),o=t(39574),a=t(51233),c=t(15861),d=t(49425),s=t(61599),u=t(51053),x=t(60510);function h(){let n=(0,i._)(["\n  & .MuiBadge-badge {\n    background-color: #d5d5dc;\n    color: rgba(0, 0, 0, 0.87);\n  }\n"]);return h=function(){return n},n}function p(){let n=(0,i._)(["\n  height: 20px;\n  object-fit: contain;\n"]);return p=function(){return n},n}function g(){let n=(0,i._)(["\n  width: 56px;\n  height: 72px;\n  object-fit: contain;\n  opacity: ",";\n"]);return g=function(){return n},n}function m(){let n=(0,i._)(["\n  position: absolute;\n  left: 50%;\n  top: -3px;\n  pointer-events: none;\n  transform: translateX(-50%);\n"]);return m=function(){return n},n}let j=(0,l.forwardRef)((n,e)=>{let{stat:t,icon:i}=n,{img:l,...d}=n;return(0,r.jsxs)(a.Z,{alignItems:"center",...d,ref:e,style:{position:"relative",width:"fit-content"},children:[(0,r.jsx)("img",{...l,src:"".concat(o.prefix,"data/").concat(i,".png"),alt:""}),(0,r.jsx)(c.Z,{variant:"body1",component:"span",children:t})]})});j.displayName="IconWithText";let v=n=>{let{title:e,value:t,boldTitle:i,titleStyle:l={}}=n;return(0,r.jsxs)(a.Z,{direction:"row",flexWrap:"wrap",alignItems:"center",children:[e?(0,r.jsxs)(c.Z,{style:l,fontWeight:i?"bold":500,component:"span",children:[e,":\xa0"]}):null,(0,r.jsx)(c.Z,{fontSize:15,component:"span",children:t})]})},f=(0,s.Z)(d.Z)(h()),Z=n=>{let{cardName:e,stars:t,cardIndex:i,name:l,variant:a,rawName:c,amount:d,nextLevelReq:s}=n,x="cardSet"===a?"".concat(o.prefix,"data/").concat(c,".png"):"".concat(o.prefix,"data/2Cards").concat(i,".png");return(0,r.jsxs)(r.Fragment,{children:[t>0?(0,r.jsx)(I,{src:"".concat(o.prefix,"data/CardEquipBorder").concat(t,".png"),alt:""}):null,(0,r.jsx)(u.Z,{title:(0,r.jsx)(b,{...n,cardName:"cardSet"===a?l:e,nextLevelReq:s,amount:d}),children:(0,r.jsx)(y,{isCardSet:"cardSet"===a,amount:d,src:x,alt:""})})]})},b=n=>{let{displayName:e,effect:t,bonus:i,stars:l,showInfo:d,nextLevelReq:s,amount:u}=n,h=i;return d&&(h=(0,x.BZ)({bonus:i,stars:l})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{fontWeight:"bold",variant:"h6",children:(0,o.cleanUnderscore)(e)}),(0,r.jsx)(c.Z,{children:(0,o.cleanUnderscore)(t.replace("{",h))}),d?(0,r.jsx)(a.Z,{mt:1,direction:"row",gap:1,flexWrap:"wrap",children:[1,2,3,4,5,6].map((n,t)=>(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[0===t?(0,r.jsx)(c.Z,{children:"Base"}):(0,r.jsx)(w,{src:"".concat(o.prefix,"etc/Star").concat(t,".png"),alt:""}),(0,r.jsx)(c.Z,{children:i*(t+1)})]},"".concat(e,"-").concat(t)))}):null,u>=s?(0,r.jsxs)(a.Z,{children:["You've collected ",(0,o.numberWithCommas)(u)," cards"]}):s>0?(0,r.jsxs)(a.Z,{children:["Progress: ",(0,o.numberWithCommas)(u)," / ",(0,o.numberWithCommas)(s)]}):null]})},w=s.Z.img(p()),y=s.Z.img(g(),n=>{let{amount:e,isCardSet:t}=n;return e||t?1:.5}),I=s.Z.img(m()),C=n=>{let{level:e,funcX:t,x1:i,x2:l,funcY:d,y1:s,y2:u,description:x,name:h,talentId:p}=n,g=e>0?(0,o.growth)(t,e,i,l):0,m=e>0?(0,o.growth)(d,e,s,u):0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,r.jsx)("img",{src:"".concat(o.prefix,"data/UISkillIcon").concat(p,".png"),alt:""}),(0,r.jsx)(c.Z,{fontWeight:"bold",variant:"h6",children:(0,o.cleanUnderscore)(h)})]}),(0,r.jsx)(c.Z,{children:(0,o.cleanUnderscore)(x).replace("{",g).replace("}",m)})]})},_=n=>{let{players:e,characters:t}=n;return(0,r.jsx)(a.Z,{gap:1,direction:"row",children:e.map(n=>{var e;let{index:i}=n;return(0,r.jsx)(u.Z,{title:null==t?void 0:null===(e=t[i])||void 0===e?void 0:e.name,children:(0,r.jsx)("img",{src:"".concat(o.prefix,"data/headBIG.png"),alt:""})},name+"-head-"+i)})})},W=n=>{let{name:e}=n;return(0,r.jsxs)(c.Z,{variant:"h3",children:["Your account is missing data for ",e]})}},18814:function(n,e,t){"use strict";t.r(e);var i=t(85893),r=t(67294),l=t(41422),o=t(15861),a=t(50480),c=t(69368),d=t(51233),s=t(66242),u=t(44267),x=t(39574),h=t(29222),p=t(2962),g=t(50594),m=t(93946),j=t(25164),v=t(51053),f=t(72032);let Z=n=>{let{name:e,bonus:t}=n;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{sx:{fontWeight:"bold"},children:e}),(0,i.jsx)(o.Z,{children:(0,x.cleanUnderscore)(t)})]})};e.default=()=>{var n;let{dispatch:e,state:t}=(0,r.useContext)(l.I),{characters:b,account:w}=t,[y,I]=(0,r.useState)([]),[C,_]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(null==t?void 0:t.godPlanner)&&I((0,x.tryToParse)(null==t?void 0:t.godPlanner))},[]);let W=n=>{let{charName:t,playerId:i,godName:r}=n,l=[...y],o={charName:t,playerId:i,godName:r},a=null==l?void 0:l.findIndex(n=>(null==n?void 0:n.charName)===t);-1!==a?l.splice(a,1,o):l.push(o),l.sort((n,e)=>(null==n?void 0:n.playerId)-(null==e?void 0:e.playerId)),e({type:"godPlanner",data:l}),I(l)},k=n=>{let t=[...y].filter((e,t)=>t!==n);e({type:"godPlanner",data:t}),I(t)};return(null==t?void 0:null===(n=t.account)||void 0===n?void 0:n.divinity)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.PB,{title:"Idleon Toolbox | God Planner",description:"Watch all of your character's gods minor bonuses"}),(0,i.jsx)(o.Z,{variant:"h2",mb:3,children:"God Planner"}),(0,i.jsx)(o.Z,{variant:"caption",component:"div",children:"* Click on a god to add it to the build"}),(0,i.jsx)(a.Z,{control:(0,i.jsx)(c.Z,{name:"mini",checked:C,size:"small",onChange:()=>_(!C)}),label:"Apply big p bubble"}),(0,i.jsx)(d.Z,{direction:"row",sx:{gap:{xs:1,sm:2},minHeight:80},my:2,flexWrap:"wrap",children:null==y?void 0:y.map((n,e)=>{let{charName:t,godName:r}=n;return(0,i.jsx)(s.Z,{sx:{overflow:"visible",position:"relative",minWidth:150},children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(m.Z,{sx:{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)"},size:"small",onClick:()=>k(e),children:(0,i.jsx)(g.Z,{})}),(0,i.jsxs)(d.Z,{alignItems:"center",justifyContent:"center",children:[(0,i.jsx)("img",{width:24,height:24,src:"".concat(x.prefix,"data/").concat(r,".png"),alt:""}),(0,i.jsx)(o.Z,{children:t})]},t)]})},t+r+e)})}),(0,i.jsx)(d.Z,{gap:1,sx:{width:"fit-content"},children:null==b?void 0:b.map((n,e)=>{var t,r,l,a;let{classIndex:c,name:p,deityMinorBonus:g=0,divStyle:m,secondLinkedDeityIndex:j,secondDeityMinorBonus:b=0,playerId:y,skillsInfo:I}=n,_=(0,h.om)(null==w?void 0:null===(t=w.alchemy)||void 0===t?void 0:t.bubbles,"kazam","BIG_P",!1),k=null==I?void 0:null===(r=I.divinity)||void 0===r?void 0:r.level;return(0,i.jsx)(s.Z,{children:(0,i.jsx)(u.Z,{children:(0,i.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",flexWrap:"wrap",children:[(0,i.jsxs)(d.Z,{sx:{width:130},direction:"column",alignItems:"center",children:[(0,i.jsx)("img",{src:"".concat(x.prefix,"data/ClassIcons").concat(c,".png"),alt:""}),(0,i.jsx)(o.Z,{children:p})]}),null==w?void 0:null===(l=w.divinity)||void 0===l?void 0:null===(a=l.deities)||void 0===a?void 0:a.map((n,t)=>{var r,l,o,a;let{name:c,rawName:h,majorBonus:g,minorBonus:m,blessing:b,blessingMultiplier:I,blessingBonus:P,minorBonusMultiplier:N}=n,S=(null==w?void 0:null===(r=w.divinity)||void 0===r?void 0:null===(l=r.linkedDeities)||void 0===l?void 0:l[e])===t,B=null===f.gods||void 0===f.gods?void 0:null===(o=f.gods[t])||void 0===o?void 0:o.godIndex,E=null===f.gods||void 0===f.gods?void 0:null===(a=f.gods[B])||void 0===a?void 0:a.minorBonusMultiplier,F=k/(60+k)*Math.max(1,C&&_)*E,G=m.replace(/{/g,F.toFixed(2));return(0,i.jsx)(v.Z,{title:(0,i.jsx)(Z,{name:c,bonus:G}),children:(0,i.jsx)(s.Z,{variant:"outlined",onClick:()=>W({charName:p,playerId:y,godName:h}),sx:{width:80,cursor:"pointer",border:S||j===t?"1px solid #81c784":""},children:(0,i.jsx)(u.Z,{sx:{"&:last-child":{padding:1}},children:(0,i.jsxs)(d.Z,{alignItems:"center",justifyContent:"center",children:[(0,i.jsx)("img",{width:24,height:24,src:"".concat(x.prefix,"data/").concat(h,".png"),alt:""}),F.toFixed(2)]})})})},h)})]})})},p)})})]}):(0,i.jsx)(j.Gr,{name:"divinity"})}}},function(n){n.O(0,[8261,1909,9774,2888,179],function(){return n(n.s=52046)}),_N_E=n.O()}]);