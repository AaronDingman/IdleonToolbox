(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4090],{2046:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/god-planner",function(){return t(8814)}])},5164:function(n,e,t){"use strict";t.d(e,{Gr:function(){return W},M5:function(){return j},Wd:function(){return _},iy:function(){return Z},j8:function(){return v},u3:function(){return C},uQ:function(){return f}});var r=t(2729),i=t(5893),l=t(7294),a=t(9574),o=t(1233),c=t(5861),s=t(9425),d=t(1599),u=t(1053),x=t(510);function h(){let n=(0,r._)(["\n  & .MuiBadge-badge {\n    background-color: #d5d5dc;\n    color: rgba(0, 0, 0, 0.87);\n  }\n"]);return h=function(){return n},n}function p(){let n=(0,r._)(["\n  height: 20px;\n  object-fit: contain;\n"]);return p=function(){return n},n}function m(){let n=(0,r._)(["\n  width: 56px;\n  height: 72px;\n  object-fit: contain;\n  opacity: ",";\n"]);return m=function(){return n},n}function g(){let n=(0,r._)(["\n  position: absolute;\n  left: 50%;\n  top: -3px;\n  pointer-events: none;\n  transform: translateX(-50%);\n"]);return g=function(){return n},n}let j=(0,l.forwardRef)((n,e)=>{let{stat:t,icon:r}=n,{img:l,...s}=n;return(0,i.jsxs)(o.Z,{alignItems:"center",...s,ref:e,style:{position:"relative",width:"fit-content"},children:[(0,i.jsx)("img",{...l,src:"".concat(a.prefix,"data/").concat(r,".png"),alt:""}),(0,i.jsx)(c.Z,{variant:"body1",component:"span",children:t})]})});j.displayName="IconWithText";let f=n=>{let{title:e,value:t,boldTitle:r,titleStyle:l={}}=n;return(0,i.jsxs)(o.Z,{direction:"row",flexWrap:"wrap",alignItems:"center",children:[e?(0,i.jsxs)(c.Z,{style:l,fontWeight:r?"bold":500,component:"span",children:[e,":\xa0"]}):null,(0,i.jsx)(c.Z,{fontSize:15,component:"span",children:t})]})},v=(0,d.Z)(s.Z)(h()),Z=n=>{let{cardName:e,stars:t,cardIndex:r,name:l,variant:o,rawName:c,amount:s,nextLevelReq:d}=n,x="cardSet"===o?"".concat(a.prefix,"data/").concat(c,".png"):"".concat(a.prefix,"data/2Cards").concat(r,".png");return(0,i.jsxs)(i.Fragment,{children:[t>0?(0,i.jsx)(I,{src:"".concat(a.prefix,"data/CardEquipBorder").concat(t,".png"),alt:""}):null,(0,i.jsx)(u.Z,{title:(0,i.jsx)(b,{...n,cardName:"cardSet"===o?l:e,nextLevelReq:d,amount:s}),children:(0,i.jsx)(y,{isCardSet:"cardSet"===o,amount:s,src:x,alt:""})})]})},b=n=>{let{displayName:e,effect:t,bonus:r,stars:l,showInfo:s,nextLevelReq:d,amount:u}=n,h=r;return s&&(h=(0,x.BZ)({bonus:r,stars:l})),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{fontWeight:"bold",variant:"h6",children:(0,a.cleanUnderscore)(e)}),(0,i.jsx)(c.Z,{children:(0,a.cleanUnderscore)(t.replace("{",h))}),s?(0,i.jsx)(o.Z,{mt:1,direction:"row",gap:1,flexWrap:"wrap",children:[1,2,3,4,5,6].map((n,t)=>(0,i.jsxs)(o.Z,{alignItems:"center",justifyContent:"space-between",children:[0===t?(0,i.jsx)(c.Z,{children:"Base"}):(0,i.jsx)(w,{src:"".concat(a.prefix,"etc/Star").concat(t,".png"),alt:""}),(0,i.jsx)(c.Z,{children:r*(t+1)})]},"".concat(e,"-").concat(t)))}):null,u>=d?(0,i.jsxs)(o.Z,{children:["You've collected ",(0,a.numberWithCommas)(u)," cards"]}):d>0?(0,i.jsxs)(o.Z,{children:["Progress: ",(0,a.numberWithCommas)(u)," / ",(0,a.numberWithCommas)(d)]}):null]})},w=d.Z.img(p()),y=d.Z.img(m(),n=>{let{amount:e,isCardSet:t}=n;return e||t?1:.5}),I=d.Z.img(g()),C=n=>{let{level:e,funcX:t,x1:r,x2:l,funcY:s,y1:d,y2:u,description:x,name:h,talentId:p}=n,m=e>0?(0,a.growth)(t,e,r,l):0,g=e>0?(0,a.growth)(s,e,d,u):0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,i.jsx)("img",{src:"".concat(a.prefix,"data/UISkillIcon").concat(p,".png"),alt:""}),(0,i.jsx)(c.Z,{fontWeight:"bold",variant:"h6",children:(0,a.cleanUnderscore)(h)})]}),(0,i.jsx)(c.Z,{children:(0,a.cleanUnderscore)(x).replace("{",m).replace("}",g)})]})},_=n=>{let{players:e,characters:t}=n;return(0,i.jsx)(o.Z,{gap:1,direction:"row",children:e.map(n=>{var e;let{index:r}=n;return(0,i.jsx)(u.Z,{title:null==t?void 0:null===(e=t[r])||void 0===e?void 0:e.name,children:(0,i.jsx)("img",{src:"".concat(a.prefix,"data/headBIG.png"),alt:""})},name+"-head-"+r)})})},W=n=>{let{name:e}=n;return(0,i.jsxs)(c.Z,{variant:"h3",children:["Your account is missing data for ",e]})}},8814:function(n,e,t){"use strict";t.r(e);var r=t(5893),i=t(7294),l=t(1490),a=t(5861),o=t(480),c=t(9368),s=t(1233),d=t(6242),u=t(4267),x=t(9574),h=t(9222),p=t(2962),m=t(594),g=t(4674),j=t(5164),f=t(1053);let v=n=>{let{name:e,bonus:t}=n;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{sx:{fontWeight:"bold"},children:e}),(0,r.jsx)(a.Z,{children:(0,x.cleanUnderscore)(t)})]})};e.default=()=>{var n;let{dispatch:e,state:t}=(0,i.useContext)(l.I),{characters:Z,account:b}=t,[w,y]=(0,i.useState)([]),[I,C]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(null==t?void 0:t.godPlanner)&&y((0,x.tryToParse)(null==t?void 0:t.godPlanner))},[]);let _=n=>{let{charName:t,playerId:r,godName:i}=n,l=[...w],a={charName:t,playerId:r,godName:i},o=null==l?void 0:l.findIndex(n=>(null==n?void 0:n.charName)===t);-1!==o?l.splice(o,1,a):l.push(a),l.sort((n,e)=>(null==n?void 0:n.playerId)-(null==e?void 0:e.playerId)),e({type:"godPlanner",data:l}),y(l)},W=n=>{let t=[...w].filter((e,t)=>t!==n);e({type:"godPlanner",data:t}),y(t)};return(null==t?void 0:null===(n=t.account)||void 0===n?void 0:n.divinity)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.PB,{title:"Idleon Toolbox | God Planner",description:"Watch all of your character's gods minor bonuses"}),(0,r.jsx)(a.Z,{variant:"h2",mb:3,children:"God Planner"}),(0,r.jsx)(a.Z,{variant:"caption",component:"div",children:"* Click on a god to add it to the build"}),(0,r.jsx)(o.Z,{control:(0,r.jsx)(c.Z,{name:"mini",checked:I,size:"small",onChange:()=>C(!I)}),label:"Apply big p bubble"}),(0,r.jsx)(s.Z,{direction:"row",sx:{gap:{xs:1,sm:2},minHeight:80},my:2,flexWrap:"wrap",children:null==w?void 0:w.map((n,e)=>{let{charName:t,godName:i}=n;return(0,r.jsx)(d.Z,{sx:{overflow:"visible",position:"relative",minWidth:150},children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(g.Z,{sx:{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)"},size:"small",onClick:()=>W(e),children:(0,r.jsx)(m.Z,{})}),(0,r.jsxs)(s.Z,{alignItems:"center",justifyContent:"center",children:[(0,r.jsx)("img",{width:24,height:24,src:"".concat(x.prefix,"data/").concat(i,".png"),alt:""}),(0,r.jsx)(a.Z,{children:t})]},t)]})},t+i+e)})}),(0,r.jsx)(s.Z,{gap:1,sx:{width:"fit-content"},children:null==Z?void 0:Z.map((n,e)=>{var t,i,l,o;let{classIndex:c,name:p,deityMinorBonus:m=0,divStyle:g,secondLinkedDeityIndex:j,secondDeityMinorBonus:Z=0,playerId:w,skillsInfo:y}=n,C=(0,h.om)(null==b?void 0:null===(t=b.alchemy)||void 0===t?void 0:t.bubbles,"kazam","BIG_P",!1),W=null==y?void 0:null===(i=y.divinity)||void 0===i?void 0:i.level;return(0,r.jsx)(d.Z,{children:(0,r.jsx)(u.Z,{children:(0,r.jsxs)(s.Z,{direction:"row",gap:2,alignItems:"center",flexWrap:"wrap",children:[(0,r.jsxs)(s.Z,{sx:{width:130},direction:"column",alignItems:"center",children:[(0,r.jsx)("img",{src:"".concat(x.prefix,"data/ClassIcons").concat(c,".png"),alt:""}),(0,r.jsx)(a.Z,{children:p})]}),null==b?void 0:null===(l=b.divinity)||void 0===l?void 0:null===(o=l.deities)||void 0===o?void 0:o.map((n,t)=>{var i,l;let{name:a,rawName:o,majorBonus:c,minorBonus:h,blessing:m,blessingMultiplier:g,blessingBonus:Z,minorBonusMultiplier:y}=n,k=(null==b?void 0:null===(i=b.divinity)||void 0===i?void 0:null===(l=i.linkedDeities)||void 0===l?void 0:l[e])===t,P=W/(60+W)*Math.max(1,I&&C)*y,N=h.replace(/{/g,P.toFixed(2));return(0,r.jsx)(f.Z,{title:(0,r.jsx)(v,{name:a,bonus:N}),children:(0,r.jsx)(d.Z,{variant:"outlined",onClick:()=>_({charName:p,playerId:w,godName:o}),sx:{width:80,cursor:"pointer",border:k||j===t?"1px solid #81c784":""},children:(0,r.jsx)(u.Z,{sx:{"&:last-child":{padding:1}},children:(0,r.jsxs)(s.Z,{alignItems:"center",justifyContent:"center",children:[(0,r.jsx)("img",{width:24,height:24,src:"".concat(x.prefix,"data/").concat(o,".png"),alt:""}),P.toFixed(2)]})})})},o)})]})})},p)})})]}):(0,r.jsx)(j.Gr,{name:"divinity"})}}},function(n){n.O(0,[9448,9774,2888,179],function(){return n(n.s=2046)}),_N_E=n.O()}]);