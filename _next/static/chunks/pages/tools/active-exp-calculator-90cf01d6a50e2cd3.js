(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6584],{9602:function(e,n,t){"use strict";var l=t(5318);n.Z=void 0;var r=l(t(4938)),i=t(5893),a=(0,r.default)((0,i.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline");n.Z=a},9813:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/active-exp-calculator",function(){return t(8967)}])},8967:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var l=t(2729),r=t(5893),i=t(7294),a=t(9574),o=t(5934),u=t(6447),s=t(1903),d=t(8972),c=t(9602),p=t(4674),x=t(9597),m="undefined"==typeof window?i.useEffect:i.useLayoutEffect,h=({isPlaying:e,duration:n,startAt:t=0,updateInterval:l=0,onComplete:r,onUpdate:a})=>{let[o,u]=(0,i.useState)(t),s=(0,i.useRef)(0),d=(0,i.useRef)(t),c=(0,i.useRef)(-1e3*t),p=(0,i.useRef)(null),x=(0,i.useRef)(null),h=(0,i.useRef)(null),v=e=>{let t=e/1e3;if(null===x.current){x.current=t,p.current=requestAnimationFrame(v);return}let r=t-x.current,i=s.current+r;x.current=t,s.current=i;let a=d.current+(0===l?i:(i/l|0)*l),o=d.current+i,c="number"==typeof n&&o>=n;u(c?n:a),c||(p.current=requestAnimationFrame(v))},f=()=>{p.current&&cancelAnimationFrame(p.current),h.current&&clearTimeout(h.current),x.current=null},g=(0,i.useCallback)(n=>{f(),s.current=0;let l="number"==typeof n?n:t;d.current=l,u(l),e&&(p.current=requestAnimationFrame(v))},[e,t]);return m(()=>{if(null==a||a(o),n&&o>=n){c.current+=1e3*n;let{shouldRepeat:e=!1,delay:t=0,newStartAt:l}=(null==r?void 0:r(c.current/1e3))||{};e&&(h.current=setTimeout(()=>g(l),1e3*t))}},[o,n]),m(()=>(e&&(p.current=requestAnimationFrame(v)),f),[e,n,l]),{elapsedTime:o,reset:g}},v=(e,n,t)=>{let l=e/2,r=n/2,i=l-r,a=2*i,o="clockwise"===t?"1,0":"0,1";return{path:`m ${l},${r} a ${i},${i} 0 ${o} 0,${a} a ${i},${i} 0 ${o} 0,-${a}`,pathLength:2*Math.PI*i}},f=(e,n)=>0===e||e===n?0:"number"==typeof n?e-n:0,g=e=>({position:"relative",width:e,height:e}),w={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},y=(e,n,t,l)=>0===l?n:n+t*(e/l),j=e=>{var n,t;return null!=(t=null==(n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,n,t,l)=>`#${n}${n}${t}${t}${l}${l}`).substring(1).match(/.{2}/g))?void 0:n.map(e=>parseInt(e,16)))?t:[]},k=(e,n)=>{var t;let{colors:l,colorsTime:r,isSmoothColorTransition:i=!0}=e;if("string"==typeof l)return l;let a=null!=(t=null==r?void 0:r.findIndex((e,t)=>e>=n&&n>=r[t+1]))?t:-1;if(!r||-1===a)return l[0];if(!i)return l[a];let o=r[a]-n,u=r[a]-r[a+1],s=j(l[a]),d=j(l[a+1]);return`rgb(${s.map((e,n)=>0|y(o,e,d[n]-e,u)).join(",")})`},C=e=>{let{duration:n,initialRemainingTime:t,updateInterval:l,size:r=180,strokeWidth:a=12,trailStrokeWidth:o,isPlaying:u=!1,rotation:s="clockwise",onComplete:d,onUpdate:c}=e,p=(0,i.useRef)(),{path:x,pathLength:m}=v(r,Math.max(a,null!=o?o:0),s),{elapsedTime:g}=h({isPlaying:u,duration:n,startAt:f(n,t),updateInterval:l,onUpdate:"function"==typeof c?e=>{let t=Math.ceil(n-e);t!==p.current&&(p.current=t,c(t))}:void 0,onComplete:"function"==typeof d?e=>{var t;let{shouldRepeat:l,delay:r,newInitialRemainingTime:i}=null!=(t=d(e))?t:{};if(l)return{shouldRepeat:l,delay:r,newStartAt:f(n,i)}}:void 0}),w=n-g;return{elapsedTime:g,path:x,pathLength:m,remainingTime:Math.ceil(w),rotation:s,size:r,stroke:k(e,w),strokeDashoffset:y(g,0,m,n),strokeWidth:a}},F=e=>{let{children:n,strokeLinecap:t,trailColor:l,trailStrokeWidth:r}=e,{path:a,pathLength:o,stroke:u,strokeDashoffset:s,remainingTime:d,elapsedTime:c,size:p,strokeWidth:x}=C(e);return i.createElement("div",{style:g(p)},i.createElement("svg",{width:p,height:p,xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:a,fill:"none",stroke:null!=l?l:"#d9d9d9",strokeWidth:null!=r?r:x}),i.createElement("path",{d:a,fill:"none",stroke:u,strokeLinecap:null!=t?t:"round",strokeWidth:x,strokeDasharray:o,strokeDashoffset:s})),"function"==typeof n&&i.createElement("div",{style:w},n({remainingTime:d,elapsedTime:c,color:u})))};F.displayName="CountdownCircleTimer";var R=t(2962);function b(){let e=(0,l._)(["\n  && {\n    width: 230px;\n\n    .MuiSelect-select {\n      display: flex;\n      align-items: center;\n      gap: 15px;\n    }\n\n    label.Mui-focused {\n      color: rgba(255, 255, 255, 0.7);\n    }\n  }\n"]);return b=function(){return e},e}function T(){let e=(0,l._)(["\n  && {\n    display: flex;\n    gap: 15px\n  }\n"]);return T=function(){return e},e}function E(){let e=(0,l._)(["\n  padding: 20px;\n  margin-top: 15px;\n  margin-bottom: 25px;\n\n\n  .selection {\n    display: flex;\n    align-items: baseline;\n    gap: 15px;\n  }\n\n\n  .wrapper {\n    display: flex;\n    gap: 50px;\n  }\n\n  .character-wrapper {\n    margin-top: 30px;\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n  }\n\n  .timer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: white;\n  }\n\n  .text {\n    color: white;\n  }\n\n  .value {\n    font-size: 40px;\n  }\n\n  .info {\n    max-width: 360px;\n    margin: 40px auto 0;\n    text-align: center;\n    font-size: 16px;\n  }\n"]);return E=function(){return e},e}let $=()=>{let{state:e}=(0,i.useContext)(x.I),[n,t]=(0,i.useState)([]),[l,o]=(0,i.useState)({}),[s,d]=(0,i.useState)(0),[m,h]=(0,i.useState)(0),[v,f]=(0,i.useState)(!1),[g,w]=(0,i.useState)(0),[y,j]=(0,i.useState)(null);(0,i.useEffect)(()=>{var n;let l=null==e?void 0:null===(n=e.characters)||void 0===n?void 0:n.map(e=>{let{name:n,skillsInfo:t,class:l}=e;return{name:n,charClass:l,...null==t?void 0:t.character}}),r=null==l?void 0:l[0];o(r),h(((null==r?void 0:r.exp)/(null==r?void 0:r.expReq)*100).toFixed(2)),d(((null==r?void 0:r.exp)/(null==r?void 0:r.expReq)*100).toFixed(2)),t(l)},[]),(0,i.useEffect)(()=>{h(((null==l?void 0:l.exp)/(null==l?void 0:l.expReq)*100).toFixed(2)),d(((null==l?void 0:l.exp)/(null==l?void 0:l.expReq)*100).toFixed(2)),j(null)},[l]);let k=(e,n)=>{let{expReq:t}=l,r=t*(parseInt(parseFloat(e).toFixed(2).replace(".",""))/1e4),i=t*(parseInt(parseFloat(n).toFixed(2).replace(".",""))/1e4),o=i-r,u=o/10;return{expFarmed:o,expPerMinute:u,expPerHour:60*u,timeLeft:(0,a.splitTime)((t-r)/u/60)}},C=e=>{let{remainingTime:n}=e;return 0===n?(0,r.jsx)("div",{className:"timer",children:"Done!"}):(0,r.jsxs)("div",{className:"timer",children:[(0,r.jsx)("div",{className:"text",children:"Remaining"}),(0,r.jsx)("div",{className:"value",children:n}),(0,r.jsx)("div",{className:"text",children:"seconds"})]})},b=e=>{d(e);let n=k(m,e);j((null==n?void 0:n.expFarmed)>0?n:null),(null==n?void 0:n.expFarmed)>0&&j(n)},T=e=>{h(e);let n=k(e,s);j((null==n?void 0:n.expFarmed)>0?n:null),(null==n?void 0:n.expFarmed)>0&&j(n)},E=()=>{j(null),v?w(e=>e+1):f(!0)};return(0,r.jsxs)(P,{children:[(0,r.jsx)(R.PB,{title:"Idleon Toolbox | Active Exp Calculator",description:"Calculate how much experience you get when playing actively"}),(0,r.jsxs)(u.Z,{gap:5,flexWrap:"wrap",sx:{flexDirection:{xs:"column-reverse",sm:"row"}},children:[(0,r.jsxs)("div",{className:"character-wrapper",children:[(0,r.jsxs)(u.Z,{direction:"row",flexWrap:"wrap",children:[(0,r.jsx)(S,{id:"select",label:"Character",value:l,onChange:e=>o(e.target.value),select:!0,children:null==n?void 0:n.map((e,n)=>(0,r.jsxs)(_,{value:e,children:[(0,r.jsx)("img",{src:"".concat(a.prefix,"icons/").concat(null==e?void 0:e.charClass,"_Icon.png"),alt:""}),null==e?void 0:e.name]},(null==e?void 0:e.name)+n))}),(0,r.jsx)(p.Z,{"aria-label":"delete",onClick:E,children:(0,r.jsx)(c.Z,{})})]}),(0,r.jsx)(S,{label:"Start Percentage",value:m,type:"number",onChange:e=>T(e.target.value)}),(0,r.jsx)(S,{label:"End Percentage",value:s,type:"number",onChange:e=>b(e.target.value)}),(0,r.jsxs)("div",{className:"details",children:[(0,r.jsxs)("div",{children:["Level: ",null==l?void 0:l.level]}),(0,r.jsxs)("div",{children:["Current percentage: ",((null==l?void 0:l.exp)/(null==l?void 0:l.expReq)*100).toFixed(2),"%"]}),(0,r.jsxs)("div",{children:["Current exp: ",(0,a.kFormatter)(null==l?void 0:l.exp)]}),(0,r.jsxs)("div",{children:["Required exp to level: ",(0,a.kFormatter)(null==l?void 0:l.expReq)]}),y?(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Results"}),(0,r.jsxs)("div",{children:["Exp farmed: ",(0,a.kFormatter)(null==y?void 0:y.expFarmed)]}),(0,r.jsxs)("div",{children:["Exp per minute: ",(0,a.kFormatter)(null==y?void 0:y.expPerMinute)]}),(0,r.jsxs)("div",{children:["Exp per hour: ",(0,a.kFormatter)(null==y?void 0:y.expPerHour)]}),(0,r.jsxs)("div",{children:["Time to lv up: ",null==y?void 0:y.timeLeft]})]}):null]})]}),(0,r.jsx)(F,{isPlaying:v,duration:600,colors:[["#15aee1"]],children:C},g)]})]})},S=(0,o.Z)(s.Z)(b()),_=(0,o.Z)(d.Z)(T()),P=o.Z.div(E());var I=$}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=9813)}),_N_E=e.O()}]);