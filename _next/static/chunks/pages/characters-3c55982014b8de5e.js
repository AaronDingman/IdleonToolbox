(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1379],{5789:function(e,n,t){"use strict";var r=t(4836);n.Z=void 0;var l=r(t(4938)),i=t(5893),a=(0,l.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");n.Z=a},3713:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/characters",function(){return t(4759)}])},4759:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eD}});var r=t(5893),l=t(7294),i=t(6886),a=t(1233),s=t(5861),o=t(2729),c=t(7357),d=t(9574),x=t(1053),u=t(1599),h=t(3283),p=t(8396),j=t(7720);function v(){let e=(0,o._)(["\n  filter: ",";\n  opacity: ",";\n  justify-self: center;\n  width: 48px;\n  height: 48px;\n\n  @media (max-width: 370px) {\n    width: 36px;\n    height: 36px;\n  }\n"]);return v=function(){return e},e}let m=e=>{let{bags:n,capBags:t}=e,l=(0,p.Z)("(max-width: 370px)",{noSsr:!0});return(0,r.jsxs)(a.Z,{sx:{width:200},alignItems:"center",children:[(0,r.jsx)(a.Z,{direction:"row",flexWrap:"wrap",children:null==n?void 0:n.map((e,n)=>(0,r.jsx)(x.Z,{title:(0,r.jsx)(h.Z,{...e}),children:(0,r.jsx)(g,{exists:null==e?void 0:e.acquired,src:"".concat(d.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""})},(null==e?void 0:e.displayName)+n))}),(0,r.jsx)(j.Z,{sx:{my:2},flexItem:!0}),(0,r.jsx)(a.Z,{direction:"row",flexWrap:"wrap",gap:l?1:0,justifyContent:"center",children:null==t?void 0:t.map((e,n)=>{let{displayName:t,rawName:l,capacityPerSlot:i}=e;return(0,r.jsx)(x.Z,{title:(0,r.jsx)(h.Z,{...e}),children:(0,r.jsxs)(a.Z,{alignItems:"center",children:[(0,r.jsx)(g,{exists:!0,src:"".concat(d.prefix,"data/").concat(l,".png"),alt:""}),(0,r.jsx)(s.Z,{variant:"caption",children:(0,d.notateNumber)(i)})]})},t+n)})})]})},g=u.Z.img(v(),e=>{let{exists:n}=e;return n?"grayscale(0)":"grayscale(1)"},e=>{let{exists:n}=e;return n?"1":"0.3"});var f=t(1703),Z=t(44),w=t(5164);function y(){let e=(0,o._)(["\n  width: 50px;\n  height: 50px;\n  margin-bottom: ",";\n"]);return y=function(){return e},e}function b(){let e=(0,o._)(["\n  text-align: center;\n\n  .tabs {\n    position: relative;\n    display: grid;\n    margin-top: 10px;\n    grid-template-columns: repeat(auto-fill, 50px);\n    grid-template-rows: 50px;\n    column-gap: 2px;\n    justify-content: center;\n\n    .active {\n      filter: brightness(1);\n    }\n\n    .star {\n      position: absolute;\n      right: 0;\n    }\n\n    > img {\n      cursor: pointer;\n      filter: brightness(0.4);\n\n      &:last-child {\n        justify-self: flex-end;\n      }\n    }\n  }\n\n  .star-talents-arrows {\n    height: 80%;\n  }\n\n  .arrow {\n    cursor: pointer;\n    align-self: center;\n  }\n\n\n  .talents-wrapper {\n    position: relative;\n    margin-top: 25px;\n    display: grid;\n    min-height: 245px;\n    grid-template-columns: repeat(5, 50px);\n    //column-gap: 10px;\n    row-gap: 10px;\n    justify-content: center;\n    margin-bottom: 10px;\n  }\n"]);return b=function(){return e},e}let k=e=>{var n,t;let{talents:i,starTalents:a}=e,[o,c]=(0,l.useState)(0),[u,h]=(0,l.useState)(0),[p,j]=(0,l.useState)(),[v,m]=(0,l.useState)(1);(0,l.useEffect)(()=>{let e=4===u?y(a,v):i[u];j(e),m(1)},[u]);let g=e=>{m(e),j(y(a,e))},y=(e,n)=>{let t=JSON.parse(JSON.stringify(null==e?void 0:e.orderedTalents)),r=1===n?null==t?void 0:t.slice(0,13):2===n?null==t?void 0:t.slice(13,26):null==t?void 0:t.slice(26,t.length);if(r.length<13){var l;r=Array(13).fill(1).map((e,n)=>null!==(l=r[n])&&void 0!==l?l:{})}return null==r||r.splice(10,0,{talentId:"arrow"}),null==r||r.splice(14,0,{talentId:"arrow"}),{...e,orderedTalents:r}},b=(e,n)=>e&&-1!==e&&n&&-1!==n?"".concat(e,"/").concat(n):"";return(0,r.jsxs)(I,{active:u,children:[(0,r.jsxs)(f.Z,{centered:!0,value:o,onChange:(e,n)=>c(n),children:[null===(n=Object.keys(i))||void 0===n?void 0:n.map(e=>{var n,t;let l=null==i?void 0:null===(n=i[e])||void 0===n?void 0:n.name;return(0,r.jsx)(Z.Z,{sx:{minWidth:{xs:"unset",sm:"inherit"}},icon:(0,r.jsx)(C,{src:"".concat(d.prefix,"data/ClassIcons").concat(null==i?void 0:null===(t=i[e])||void 0===t?void 0:t.id,".png"),alt:l}),"aria-label":"".concat(l,"-tab"),onClick:()=>h(parseInt(e))},"".concat(l,"-").concat(e))}),(0,r.jsx)(Z.Z,{sx:{minWidth:{xs:"unset",sm:"inherit"}},onClick:()=>h(4),"aria-label":"star-sign-tab",icon:(0,r.jsx)(C,{src:"".concat(d.prefix,"data/ClassIcons0.png"),alt:""})})]}),(0,r.jsx)("div",{className:"talents-wrapper",children:null==p?void 0:null===(t=p.orderedTalents)||void 0===t?void 0:t.map((e,n)=>{let{talentId:t,level:l,maxLevel:i}=e;if(n>=15)return null;let a=b(l,i);return"Blank"===t||"84"===t||"arrow"===t?(0,r.jsxs)("div",{className:"blank ".concat((10===n||14===n)&&"arrow"),children:[10!==n&&14!==n&&(0,r.jsx)(N,{src:"".concat(d.prefix,"data/UISkillIconLocke.png"),alt:""}),10===n&&v>1?(0,r.jsx)("div",{children:(0,r.jsx)(N,{onClick:()=>g(v-1),className:"arrow",src:"".concat(d.prefix,"data/UIAnvilArrowsG2.png"),arrow:!0,alt:""})}):null,(14===n||26===n)&&v<4?(0,r.jsx)("div",{children:(0,r.jsx)(N,{onClick:()=>g(v+1),className:"arrow",src:"".concat(d.prefix,"data/UIAnvilArrowsG1.png"),arrow:!0,alt:""})}):null]},t+""+n):(0,r.jsx)(x.Z,{title:(0,r.jsx)(w.u3,{...e}),children:(0,r.jsxs)("div",{className:"talent-wrapper",children:[isNaN(t)?(0,r.jsx)(N,{src:"".concat(d.prefix,"data/UISkillIconLocke.png"),alt:""}):(0,r.jsx)(N,{src:"".concat(d.prefix,"data/UISkillIcon").concat(t,".png"),alt:""}),(0,r.jsxs)(s.Z,{fontSize:12,children:[a,"\xa0"]})]})},t+""+n)})}),(0,r.jsx)("div",{className:"star-talents-arrows",children:(0,r.jsxs)("span",{style:{opacity:4===u?1:0},children:["Specials ",v]})})]})},C=e=>{let{src:n}=e;return(0,r.jsx)(c.Z,{sx:{width:{xs:30},"> img":{width:{xs:30}}},children:(0,r.jsx)("img",{src:n,alt:""})})},N=u.Z.img(y(),e=>{let{arrow:n}=e;return n?"20px":0}),I=u.Z.div(b());var S=t(510);function U(){let e=(0,o._)(["\n  width: 56px;\n  height: 72px;\n  border: 2px solid #5d5d5d;\n  border-radius: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return U=function(){return e},e}let M=e=>{let{cards:n}=e,{equippedCards:t,cardSet:l}=n;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{mb:2,variant:"h5",children:"Equipped cards"}),(0,r.jsxs)(a.Z,{children:[(null==l?void 0:l.rawName)?(0,r.jsx)(a.Z,{mb:3,justifyContent:"center",direction:"row",children:(0,r.jsx)(c.Z,{sx:{position:"relative"},children:(0,r.jsx)(w.iy,{variant:"cardSet",...l})})}):null,(0,r.jsx)(i.ZP,{container:!0,rowGap:3,children:null==t?void 0:t.map((e,n)=>{let{cardName:t,amount:l}=e,a=(0,S.BZ)(e);return(0,r.jsx)(i.ZP,{display:"flex",justifyContent:"center",position:"relative",xs:3,item:!0,children:l>0?(0,r.jsx)(w.iy,{...e,bonus:a}):(0,r.jsx)(_,{children:(0,r.jsx)(s.Z,{variant:"subtitle2",children:"EMPTY"})})},"".concat(t,"-").concat(n))})})]})]})},_=u.Z.div(U());var W=t(6242),A=t(4267),F=t(8216),T=t(6554);let P=e=>({1:"success.light",2:"warning.light",3:"secondary.main"})[e],D=e=>{var n;let{skills:t,charName:l}=e;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{variant:"h5",children:"Skills"}),(0,r.jsx)(W.Z,{children:(0,r.jsx)(A.Z,{children:(0,r.jsx)(c.Z,{sx:{display:"grid",gridAutoFlow:"column",gridTemplateColumns:{xs:"repeat(4, minmax(45px, 100px))"},gridTemplateRows:{xs:"repeat(3, minmax(45px, 100px))"},justifyContent:"center"},children:null===(n=Object.keys(t))||void 0===n?void 0:n.map((e,n)=>{let{level:i,rank:a,icon:o}=t[e];return"character"===e?null:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(x.Z,{title:(0,r.jsx)(E,{...null==t?void 0:t[e],skillName:e,charName:l}),children:(0,r.jsx)("img",{src:"".concat(d.prefix,"data/").concat(o,".png"),style:{width:38,height:36},alt:""})}),(0,r.jsxs)(s.Z,{children:["Lv ",i]}),(0,r.jsx)(x.Z,{title:"Rank across the account",children:(0,r.jsxs)(s.Z,{sx:{width:"fit-content",color:P(a),fontWeight:1===a||2===a||3===a?"bold":"400"},children:["R: ",a]})})]},n)})})})})]})},E=e=>{let{exp:n,expReq:t,charName:l,skillName:i,level:a}=e,o=n/t*100;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{variant:"h5",fontWeight:"bold",children:l}),(0,r.jsxs)(s.Z,{variant:"body1",children:[(0,F.Z)(i)," ",(0,r.jsxs)(s.Z,{variant:"body1",component:"span",children:["(Lv. ",a,")"]})]}),(0,r.jsx)(T.Z,{percent:o,bgColor:"#f3dd4c"}),(0,r.jsxs)(s.Z,{variant:"body1",children:[(0,d.notateNumber)(n,"Big")," / ",(0,d.notateNumber)(t,"Big")," ",(0,r.jsxs)(s.Z,{variant:"body1",component:"span",children:["(",Math.round(o),"%)"]})]})]})};var O=t(7450);function B(){let e=(0,o._)(["\n  width: 50px;\n  height: 50px;\n"]);return B=function(){return e},e}let R=e=>{let{prayers:n}=e;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{variant:"h5",children:"Prayers"}),(0,r.jsx)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",justifyContent:"center",children:null==n?void 0:n.map((e,n)=>(0,r.jsx)(x.Z,{title:(0,r.jsx)(L,{...e}),children:(0,r.jsx)(z,{src:"".concat(d.prefix,"data/Prayer").concat(null==e?void 0:e.prayerIndex,".png"),alt:""})},name+n))})]})},z=u.Z.img(B()),L=e=>{let{name:n,x1:t,x2:l,level:i,prayerIndex:a,effect:o,curse:x,maxLevel:u,totalAmount:h,costMulti:p}=e,j=(0,O.il)({name:n,x1:t,x2:l,level:i,prayerIndex:a,costMulti:p});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{mb:1,fontWeight:"bold",variant:"h5",children:(0,d.cleanUnderscore)(n)}),(0,r.jsxs)(s.Z,{fontWeight:"bold",variant:"body1",color:"success.dark",children:["Bonus: ",(0,r.jsx)(s.Z,{color:"black",fontWeight:400,component:"span",children:(0,d.cleanUnderscore)(o).replace("{",t+t*(i-1)/10)})]}),(0,r.jsxs)(s.Z,{fontWeight:"bold",variant:"body1",color:"error.dark",children:["Curse: ",(0,r.jsx)(s.Z,{color:"black",fontWeight:400,component:"span",children:(0,d.cleanUnderscore)(x).replace("{",l+l*(i-1)/10)})]}),(0,r.jsxs)(c.Z,{mt:1,children:["Cost: ",i!==u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{component:"span",sx:{color:0===i?"":j<=h?"success.dark":"error.dark"},children:(0,d.kFormatter)((0,d.round)(j),2)})," (",(0,d.kFormatter)(h,2),")"]}):(0,r.jsx)(s.Z,{fontWeight:"bold",color:"success.dark",component:"span",children:"Maxed"})]})]})};function q(){let e=(0,o._)(["\n  width: 70px;\n  height: 70px;\n  object-fit: contain;\n"]);return q=function(){return e},e}let G=e=>{let{boxes:n,totalPointsSpent:t,totalOrders:l}=e;return(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)(s.Z,{variant:"h5",children:["Post Office (",(0,r.jsx)(s.Z,{variant:"h5",color:t<l?"error.light":"",component:"span",children:t}),"/",(0,r.jsx)(s.Z,{variant:"h5",component:"span",children:l}),")"]}),(0,r.jsx)(a.Z,{direction:"row",gap:1,flexWrap:"wrap",sx:{maxWidth:310},children:null==n?void 0:n.map((e,n)=>(null==e?void 0:e.name)!=="Filler"?(0,r.jsx)("div",{children:(0,r.jsx)(x.Z,{title:(0,r.jsx)(H,{...e}),children:(0,r.jsx)(w.j8,{color:"primary",anchorOrigin:{vertical:"top",horizontal:"left"},overlap:"circular",badgeContent:(null==e?void 0:e.level)?(0,r.jsx)(s.Z,{fontSize:14,fontWeight:500,color:"black",children:null==e?void 0:e.level}):null,max:401,children:(0,r.jsx)(X,{src:"".concat(d.prefix,"data/UIboxUpg").concat(n,".png"),alt:""})})})},(null==e?void 0:e.name)+" "+n):null)})]})},X=u.Z.img(q()),H=e=>{let{name:n,upgrades:t,level:l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{fontWeight:"bold",variant:"h6",children:(0,d.cleanUnderscore)(n)}),null==t?void 0:t.map((e,n)=>{let{bonus:t,func:i,x1:a,x2:s}=e;return(0,r.jsxs)("div",{children:[Math.max(0,(0,d.growth)(i,0===n?l:1===n?l-25:l-100,a,s)),(0,d.cleanUnderscore)(t)]},t+" "+n)})]})};var J=t(8973);function Q(){let e=(0,o._)(["\n  width: 50px;\n  height: 50px;\n  object-fit: contain;\n"]);return Q=function(){return e},e}let V=e=>{let{equipment:n,tools:t,food:l,account:i,character:o}=e;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{variant:"h5",children:"Equipment"}),(0,r.jsxs)(a.Z,{mt:2,direction:"row",gap:1,flexWrap:"wrap",justifyContent:"center",children:[(0,r.jsx)(Y,{items:n,character:o,account:i}),(0,r.jsx)(Y,{items:t,character:o,account:i}),(0,r.jsx)(Y,{items:l,character:o,account:i})]})]})},Y=e=>{let{items:n,character:t,account:l}=e;return(0,r.jsx)(c.Z,{sx:{display:"grid",justifyContent:"center",gridTemplateColumns:"repeat(2, 60px)"},children:n.map((e,n)=>{let{rawName:i,displayName:s,amount:o}=e;return s&&"ERROR"!==s?(0,r.jsx)(W.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},variant:"outlined",children:(0,r.jsx)(A.Z,{sx:{"&:last-child":{padding:0}},children:(0,r.jsxs)(a.Z,{alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(x.Z,{title:(0,r.jsx)(h.Z,{...e,character:t,account:l}),children:(0,r.jsx)(K,{src:"".concat(d.prefix,"data/").concat(i,".png"),alt:i})}),o]})})},"".concat(i,"-").concat(n)):null})})},K=u.Z.img(Q());var $=t(372),ee=t(2421);function en(){let e=(0,o._)(["\n  width: 30px;\n  height: 30px;\n"]);return en=function(){return e},e}let et=e=>{let{character:n,account:t,characters:i}=e,{stats:o}=(0,l.useMemo)(()=>(0,ee.eW)(n,i,t),[n,i,t]),{xpPoints:c,speedPoints:x,capPoints:u,anvilSpeed:h,anvilCapacity:p,anvilCost:j,baseAnvilExp:v}=o;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{variant:"h5",children:"Anvil Details"}),(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)(ea,{title:(0,r.jsx)(el,{...o}),children:[(0,r.jsx)(ei,{title:"Exp",value:c}),(0,r.jsx)(ei,{title:"Speed",value:x}),(0,r.jsx)(ei,{title:"Capacity",value:u})]}),(0,r.jsxs)(ea,{title:"Bonus",children:[(0,r.jsx)(ei,{title:"Exp",value:"".concat((0,d.notateNumber)((0,ee.uv)(n,i,t,v,c),"Big"),"%")}),(0,r.jsx)(ei,{title:"Speed",value:(0,d.notateNumber)(h,"Big")}),(0,r.jsx)(ei,{title:"Capacity",value:(0,d.kFormatter)(p)})]}),(0,r.jsxs)(ea,{title:"Material",children:[(0,r.jsx)(ei,{title:"Item",value:(null==j?void 0:j.rawName)?(0,r.jsx)(er,{src:"".concat(d.prefix,"data/").concat(null==j?void 0:j.rawName,".png"),alt:""}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)(ei,{title:"Upg. cost",value:(0,d.kFormatter)(null==j?void 0:j.nextMatUpgrade,2)}),(0,r.jsx)(ei,{title:"Total Spent",value:(0,d.kFormatter)(null==j?void 0:j.totalMats)})]}),(0,r.jsxs)(ea,{title:"Money",children:[(0,r.jsx)(ei,{title:"Upg. cost",money:!0,sx:{pb:2},value:(0,r.jsx)($.Z,{title:"",maxCoins:3,money:(0,d.getCoinsArray)(null==j?void 0:j.nextCoinUpgrade)})}),(0,r.jsx)(ei,{title:"Total Spent",money:!0,sx:{pb:2},value:(0,r.jsx)($.Z,{title:"",maxCoins:3,money:(0,d.getCoinsArray)(null==j?void 0:j.totalCoins)})})]}),(null==j?void 0:j.coinsToMax)>0?(0,r.jsx)(ei,{title:"Coins to max",money:!0,sx:{pb:2,my:2},value:(0,r.jsx)($.Z,{title:"",maxCoins:3,money:(0,d.getCoinsArray)(null==j?void 0:j.coinsToMax)})}):null]})]})},er=u.Z.img(en()),el=e=>{let{availablePoints:n,pointsFromCoins:t,pointsFromMats:l}=e;return(0,r.jsxs)(a.Z,{mb:1,children:[(0,r.jsxs)(s.Z,{my:1,variant:"h6",children:["Points (",(0,r.jsx)(s.Z,{variant:"h6",component:"span",color:0===n?"":n>0?"error.light":"secondary",children:t+l-n})," ","/ ",t+l,")"]}),(0,r.jsxs)(s.Z,{variant:"caption",children:["Points from mats: ",l]}),(0,r.jsxs)(s.Z,{variant:"caption",children:["Points from coins: ",t]})]})},ei=e=>{let{title:n,value:t,money:l,sx:i}=e;return(0,r.jsx)(W.Z,{sx:{width:"100%",...i},children:(0,r.jsxs)(A.Z,{sx:{"&:last-child":{p:"10px"}},children:[(0,r.jsx)(s.Z,{fontWeight:"bold",children:n}),l?t:(0,r.jsx)(s.Z,{children:t})]})})},ea=e=>{let{title:n,children:t}=e;return(0,r.jsxs)(r.Fragment,{children:["object"==typeof n?n:(0,r.jsx)(s.Z,{my:1,variant:"h6",children:n}),(0,r.jsx)(a.Z,{direction:"row",gap:2,children:t})]})},es=e=>{let{signs:n}=e;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{variant:"h5",children:"Star Signs"}),(0,r.jsx)(a.Z,{gap:1,children:null==n?void 0:n.map((e,n)=>{let{starName:t,bonuses:l}=e,i=null==l?void 0:l.some(e=>{let{chipBoost:n}=e;return n>1});return"None"!==t?(0,r.jsx)(W.Z,{children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(s.Z,{fontWeight:"bold",variant:"body1",children:(0,d.cleanUnderscore)(t)}),(0,r.jsx)(s.Z,{color:i?"info.light":"",children:null==l?void 0:l.map((e,n)=>{let{rawName:t,bonus:r}=e;return"".concat((0,d.cleanUnderscore)(null==t?void 0:t.replace("{",r))).concat(l.length-1===n?"":", ")})})]})},t+n):null})})]})},eo=e=>{let{bubbles:n}=e;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.Z,{variant:"h5",children:"Bubbles"}),(0,r.jsx)(a.Z,{direction:"row",children:null==n?void 0:n.map((e,n)=>{let{bubbleName:t,rawName:l}=e,i="BUG]"===t?"Bug2":t;return(0,r.jsx)(x.Z,{title:(0,r.jsx)(ec,{...e,bubbleName:i}),children:(0,r.jsx)("img",{src:"".concat(d.prefix,"data/").concat(l,".png"),style:{width:70,height:70},alt:""})},i+n)})})]})},ec=e=>{let{bubbleName:n,desc:t,func:l,level:i,x1:a,x2:o}=e,c=(0,d.growth)(l,i,a,o);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{fontWeight:"bold",variant:"h5",children:(0,d.cleanUnderscore)(n)}),(0,r.jsx)(s.Z,{children:(0,d.cleanUnderscore)(t).replace(/({}?)|\$/g,c)})]})};var ed=t(5789),ex=t(6972),eu=t(9690),eh=t(3948);function ep(){let e=(0,o._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return ep=function(){return e},e}let ej=e=>{var n;let{playerId:t,afkTarget:l,account:i,divStyle:o}=e,c=()=>{var e,n,r;return null===(e=null==i?void 0:null===(n=i.lab)||void 0===n?void 0:null===(r=n.connectedPlayers)||void 0===r?void 0:r.find(e=>(null==e?void 0:e.playerId)===t))||void 0===e?void 0:e.isDivinityConnected};return(0,r.jsx)(W.Z,{sx:{width:220},variant:"outlined",children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(s.Z,{color:"info.light",children:"Activity"}),l&&"_"!==l?(0,r.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:["Divinity"===l||c()?(0,r.jsx)(x.Z,{title:(0,d.cleanUnderscore)(null==o?void 0:o.description.replace("@","")),children:(0,r.jsx)("img",{style:{height:40,width:58},src:"".concat(d.prefix,"etc/Div_Style_").concat(null!==(n=null==o?void 0:o.index)&&void 0!==n?n:0,".png"),alt:""})}):null,(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,r.jsx)(ev,{src:"".concat(d.prefix,"afk_targets/").concat(l,".png"),alt:""}),(0,r.jsx)(s.Z,{children:(0,d.cleanUnderscore)(l)})]}),c()?(0,r.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,r.jsx)(ev,{src:"".concat(d.prefix,"afk_targets/Divinity.png"),alt:""}),(0,r.jsx)(s.Z,{children:"Divinity"})]}):null]})]}):(0,r.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,r.jsx)(ev,{src:"".concat(d.prefix,"data/Afkz5.png"),alt:""}),(0,r.jsx)(s.Z,{children:"Nothing"})]})]})})},ev=u.Z.img(ep());var em=t(8593),eg=t(8307),ef=t(5934),eZ=t.n(ef);function ew(){let e=(0,o._)(["\n  width: 16px;\n  height: 16px;\n  object-fit: contain;\n"]);return ew=function(){return e},e}let ey={strength:"error.light",agility:"success.light",wisdom:"secondary",luck:"warning.light"},eb=e=>{var n;let{activityFilter:t,statsFilter:i,character:o,lastUpdated:c,account:u,characters:h}=e,{name:p,playerId:j,stats:v,afkTime:m,crystalSpawnChance:g,nextPortal:f,afkTarget:Z,nonConsumeChance:w}=o,{cashMulti:y,breakdown:b}=(0,l.useMemo)(()=>(0,em.bv)(o,u,h)||{},[o,u]),{dropRate:k,breakdown:C}=(0,l.useMemo)(()=>(0,em.VK)(o,u,h)||{},[o,u]),{respawnRate:N,breakdown:I}=(0,l.useMemo)(()=>(0,em.P9)(o,u)||{},[o,u]),{afkGains:S,breakdown:U}=(0,l.useMemo)(()=>(0,em.WU)(o,h,u),[o,u]),M=(0,l.useMemo)(()=>(0,eg.m)(o,h,u),[o,u]),_=()=>{var e;let n=null==o?void 0:null===(e=o.activePrayers)||void 0===e?void 0:e.find(e=>{let{name:n}=e;return"Unending_Energy"===n}),t=new Date().getTime()+(m-c),r=(0,ex.Z)(new Date,new Date(t));return n&&r>10};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.Z,{gap:2,flexWrap:"wrap",children:[t?(0,r.jsx)(ej,{afkTarget:Z,divStyle:null==o?void 0:o.divStyle,playerId:j,account:u}):null,i?(0,r.jsxs)(r.Fragment,{children:[(null==f?void 0:f.goal)>10&&(null==f?void 0:f.current)<(null==f?void 0:f.goal)?(0,r.jsx)(W.Z,{variant:"outlined",children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(s.Z,{color:"info.light",children:"Next Portal"}),(0,r.jsx)(s.Z,{children:"".concat((0,d.kFormatter)(null==f?void 0:f.current)," / ").concat((0,d.kFormatter)(null==f?void 0:f.goal))})]})}):null,null===(n=Object.entries(v))||void 0===n?void 0:n.map((e,n)=>{let[t,l]=e;return"level"!==t?(0,r.jsx)(W.Z,{variant:"outlined",children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(s.Z,{sx:{width:80,display:"inline-block"},variant:"body1",color:(null==ey?void 0:ey[t])||"info.light",children:(0,d.pascalCase)(t)}),(0,r.jsxs)(s.Z,{variant:"body1",component:"span",children:[" ",Math.floor(l)]})]})},"".concat(p,"-").concat(t,"-").concat(n)):null}),(0,r.jsxs)(a.Z,{direction:"row",flexWrap:"wrap",children:[(0,r.jsx)(ek,{title:"Hp",value:(0,d.notateNumber)(null==M?void 0:M.maxHp)}),(0,r.jsx)(ek,{title:"Mp",value:(0,d.notateNumber)(null==M?void 0:M.maxMp)}),(0,r.jsx)(ek,{title:"Accuracy",value:(0,d.notateNumber)(null==M?void 0:M.accuracy)}),(0,r.jsx)(ek,{title:"M. Speed",value:(0,d.notateNumber)(null==M?void 0:M.movementSpeed)})]}),(0,r.jsx)(ek,{title:"Damage",damage:!0,value:(0,eg.C)(M)}),(0,r.jsx)(ek,{title:"Cash Multi",value:"".concat((0,d.kFormatter)(y,2),"%"),breakdown:b,breakdownNotation:"Smaller"}),(0,r.jsx)(ek,{title:"Drop Rate",value:"".concat((0,d.notateNumber)(k,"MultiplierInfo"),"x"),breakdown:C,breakdownNotation:"Smaller"}),(0,r.jsx)(ek,{title:"Respawn Time",value:"".concat((0,d.notateNumber)(N,"MultiplierInfo"),"%"),breakdown:I,breakdownNotation:"Smaller"}),(0,r.jsx)(ek,{title:"Afk Gains",value:"".concat((0,d.notateNumber)(100*S,"MultiplierInfo"),"%"),breakdown:U,breakdownNotation:"Smaller"}),(0,r.jsx)(ek,{title:"Chance not to consume food",value:"".concat((0,d.kFormatter)(w,2),"%")}),(0,r.jsx)(W.Z,{variant:"outlined",children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(s.Z,{color:"info.light",children:"Crystal Chance"}),(0,r.jsxs)(a.Z,{direction:"row",gap:1,children:[(0,r.jsxs)(s.Z,{children:["1 in ",Math.floor(1/(null==g?void 0:g.value))]}),(0,r.jsx)(x.Z,{title:(0,r.jsx)(eC,{titleWidth:180,breakdown:null==g?void 0:g.breakdown}),children:(0,r.jsx)(ed.Z,{})})]})]})}),(0,r.jsx)(W.Z,{variant:"outlined",children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(s.Z,{color:"info.light",children:"Afk time"}),(0,r.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,color:_()?"error.light":"",children:[(()=>{let e=new Date().getTime()+(m-c),n=(0,eu.Z)(new Date,new Date(e));return n<=5})()?(0,r.jsx)(s.Z,{color:"success.light",children:"Active"}):(0,r.jsx)(eh.Z,{type:"up",date:m,lastUpdated:c}),_()?(0,r.jsx)(x.Z,{title:"This character is afk more than 10 hours with Unending Energy prayer",children:(0,r.jsx)(ed.Z,{})}):null]})]})})]}):null]})})},ek=e=>{let{title:n,value:t,breakdown:l="",breakdownNotation:i="Smaller",damage:a}=e;return(0,r.jsx)(W.Z,{variant:"outlined",children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(s.Z,{color:"info.light",children:n}),(0,r.jsx)(x.Z,{title:l?(0,r.jsx)(eC,{breakdown:l,notate:i}):"",children:a?(0,r.jsx)(s.Z,{color:"#fffcc9",children:eZ()([{regex:/\[/g,fn:e=>(0,r.jsx)(eN,{src:"".concat(d.prefix,"etc/Damage_M.png"),alt:""},e)}])(t)}):(0,r.jsx)(s.Z,{children:t})})]})})},eC=e=>{let{breakdown:n,titleWidth:t=120,notate:l=""}=e;return n?(0,r.jsx)(a.Z,{children:null==n?void 0:n.map((e,n)=>{let{name:i,value:a}=e;return(0,r.jsx)(w.uQ,{titleStyle:{width:t},title:i,value:isNaN(a)?a:(0,d.notateNumber)(a,l)},"".concat(i,"-").concat(n))})}):""},eN=u.Z.img(ew());var eI=t(7836),eS=t(4310);let eU=e=>{let{postOffice:n,talents:t,cooldowns:i,afkTime:s,lastUpdated:o}=e,c=(0,eI.x)(n,"Magician_Starterpack",2),u=Math.max(0,c),h=e=>{var n;return null===(n=Object.entries(e))||void 0===n?void 0:n.reduce((e,n)=>{let[r,l]=n;if(!eS.RL[r])return e;let i=null==t?void 0:t.find(e=>{let{talentId:n}=e;return parseInt(r)===n});if(!i)return e;let a=(0,d.growth)(null==i?void 0:i.funcX,null==i?void 0:i.maxLevel,null==i?void 0:i.x1,null==i?void 0:i.x2),o=(0,d.growth)(null==i?void 0:i.funcY,null==i?void 0:i.maxLevel,null==i?void 0:i.y1,null==i?void 0:i.y2),c=(new Date().getTime()-s)/1e3,x=(1-u/100)*l-c;return[...e,{...i,description:null==i?void 0:i.description.replace("{",a).replace("}",o),cd:x<0?x:new Date().getTime()+1e3*x}]},[])},p=(0,l.useMemo)(()=>h(i),[i]);return(null==p?void 0:p.length)?(0,r.jsx)(a.Z,{direction:"row",gap:2,children:null==p?void 0:p.map((e,n)=>(0,r.jsxs)(a.Z,{gap:1,direction:"row",alignItems:"center",className:"talent",children:[(0,r.jsx)(x.Z,{title:(0,r.jsx)(w.u3,{...e}),children:(0,r.jsx)("img",{src:"".concat(d.prefix,"data/UISkillIcon").concat(null==e?void 0:e.talentId,".png"),style:{width:56,height:56},alt:""})}),(0,r.jsx)(eh.Z,{placeholder:(0,r.jsx)("span",{style:{color:"#51e406",fontWeight:"bold"},children:"Ready"}),type:"countdown",date:null==e?void 0:e.cd,lastUpdated:o})]},"".concat(null==e?void 0:e.talentId,"-").concat(n)))}):null},eM=e=>{var n;let{inventory:t,inventorySlots:l}=e;return(0,r.jsxs)(a.Z,{sx:{width:250},children:[(0,r.jsx)(w.uQ,{title:"Capacity",value:"".concat(null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0,"/").concat(l)}),(0,r.jsx)(a.Z,{sx:{mt:1},direction:"row",flexWrap:"wrap",children:null==t?void 0:t.map((e,n)=>(0,r.jsx)(x.Z,{title:(0,d.cleanUnderscore)(null==e?void 0:e.name),children:(0,r.jsxs)(a.Z,{alignItems:"center",sx:{border:"1px solid rgb(255 255 255 / 12%)",width:"25%",p:1},children:[(0,r.jsx)("img",{width:32,height:32,src:"".concat(d.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""}),(0,r.jsx)(s.Z,{children:(0,d.notateNumber)(null==e?void 0:e.amount)})]})},(null==e?void 0:e.rawName)+""+n))})]})};function e_(){let e=(0,o._)(["\n  width: 104px;\n  object-fit: contain;\n"]);return e_=function(){return e},e}let eW=e=>{let{character:n,account:t,lastUpdated:o,filters:x,cols:u,characters:h}=e,{name:p,classIndex:j,level:v,cards:g,skillsInfo:f,activePrayers:Z,starSigns:w,postOffice:y,obols:b,equippedBubbles:C,equipment:N,tools:I,food:S,invBagsUsed:U,carryCapBags:_,talents:W,starTalents:A,flatTalents:F,flatStarTalents:T,cooldowns:P,afkTime:E,inventory:O,inventorySlots:B}=n,z=[{component:(0,r.jsx)(eb,{activityFilter:null==x?void 0:x.Activity,statsFilter:null==x?void 0:x.Stats,character:n,characters:h,account:t,lastUpdated:o}),filter:["Stats","Activity"]},{component:(0,r.jsx)(J.Z,{obols:b}),filter:"Obols"},{component:(0,r.jsx)(J.Z,{obols:b,obolStats:!0}),filter:"Obols Stats"},{component:(0,r.jsx)(m,{bags:U,capBags:_}),filter:"Bags"},{component:(0,r.jsx)(k,{talents:W,starTalents:A}),filter:"Talents"},{component:(0,r.jsx)(M,{cards:g}),filter:"Cards"},{component:(0,r.jsx)(D,{skills:f,charName:p}),filter:"Skills"},{component:(0,r.jsx)(R,{prayers:Z}),filter:"Prayers"},{component:(0,r.jsx)(es,{signs:w}),filter:"Star Signs"},{component:(0,r.jsx)(et,{characters:h,character:n,account:t}),filter:"Anvil Details"},{component:(0,r.jsx)(eM,{inventory:O,inventorySlots:B}),filter:"Inventory"},{component:(0,r.jsx)(G,{...y}),filter:"Post Office"},{component:(0,r.jsx)(V,{charName:p,equipment:N,tools:I,food:S,character:n,account:t}),filter:"Equipment"},{component:(0,r.jsx)(eo,{bubbles:C}),filter:"Equipped Bubbles"},{component:(0,r.jsx)(eU,{postOffice:y,cooldowns:P,lastUpdated:o,talents:[...F,...T],afkTime:E}),filter:"Active Skills CD"}],L=(0,l.useMemo)(()=>null==N?void 0:N.reduce((e,n)=>{let{rawName:t}=n;return!e&&t.includes("Trophy")?t:e},""),[n]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.ZP,{item:!0,xl:u,children:(0,r.jsxs)(a.Z,{gap:2,children:[(0,r.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,r.jsx)(c.Z,{sx:{display:{sm:"none",md:"block"}},children:(0,r.jsx)("img",{src:"".concat(d.prefix,"data/ClassIcons").concat(j,".png"),alt:""})}),(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)(s.Z,{sx:{typography:{xs:"body2",sm:"body1"}},children:[p," (",v,")"]}),L?(0,r.jsx)(eA,{src:"".concat(d.prefix,"data/").concat(L,"disp.png"),style:{width:102,height:19},alt:""}):null]})]}),(0,r.jsx)(a.Z,{direction:"row",flexWrap:"wrap",gap:4,children:null==z?void 0:z.map((e,n)=>{let t=null==x?void 0:x[e.filter];return Array.isArray(e.filter)&&(t=e.filter.some(e=>null==x?void 0:x[e])),t?(0,r.jsx)(l.Fragment,{children:e.component},"".concat(p,"-").concat(null==e?void 0:e.filter,"-").concat(n)):null})})]})})})},eA=u.Z.img(e_());var eF=t(9597),eT=t(2962);let eP=()=>{var e;let{state:n}=(0,l.useContext)(eF.I),t=(0,l.useMemo)(()=>{var e;return null===(e=Object.values((null==n?void 0:n.displayedCharacters)||[]))||void 0===e?void 0:e.filter(e=>e).length},[n]),o=Math.max(3,12/t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eT.PB,{title:"Idleon Toolbox | Characters",description:"Characters overview for a lot of the game aspects"}),t>0?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.ZP,{container:!0,sx:{gap:{xs:2}},columns:12.5,children:null==n?void 0:null===(e=n.characters)||void 0===e?void 0:e.map((e,t)=>{var l;return(null==n?void 0:null===(l=n.displayedCharacters)||void 0===l?void 0:l[null==e?void 0:e.name])?(0,r.jsx)(eW,{filters:null==n?void 0:n.filters,account:null==n?void 0:n.account,character:e,characters:null==n?void 0:n.characters,cols:o,lastUpdated:null==n?void 0:n.lastUpdated},"".concat(null==e?void 0:e.name,"-").concat(t)):null})})}):(0,r.jsx)(a.Z,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(s.Z,{variant:"h4",children:"Please select a character"})})]})};var eD=eP},5934:function(e){"use strict";e.exports=function(e){var n=0;return function(t){return e&&Array.isArray(e)&&e.length&&e.forEach(function(e){return t=function e(t,r){if(!t.fn||"function"!=typeof t.fn||!t.regex||!(t.regex instanceof RegExp))return r;if("string"==typeof r){for(var l=t.regex,i=null,a=[];null!==(i=l.exec(r));){var s=i.index,o=i[0];a.push(r.substring(0,s)),a.push(t.fn(++n,i)),r=r.substring(s+o.length,r.length+1),l.lastIndex=0}return a.push(r),a}return Array.isArray(r)?r.map(function(n){return e(t,n)}):r}(e,t)}),t}}}},function(e){e.O(0,[9912,6886,5127,804,8476,9774,2888,179],function(){return e(e.s=3713)}),_N_E=e.O()}]);