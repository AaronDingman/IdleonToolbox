(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5860],{89936:function(n,e,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/dungeons",function(){return l(78915)}])},33948:function(n,e,l){"use strict";var t=l(85893),r=l(67294),i=l(96986),o=l(33913),s=l(39574),d=l(15861);let c=(0,r.forwardRef)((n,e)=>{let{date:l,startDate:c,lastUpdated:u,stopAtZero:a,type:h,pause:x,staticTime:p,placeholder:j,loop:g,variant:v="inherit",...f}=n,[Z,w]=(0,r.useState)();(0,r.useEffect)(()=>{if(l){if(p){if(!isFinite(l))return;return w({...(0,s.getDuration)(new Date().getTime(),l)})}let n=new Date,e=n.getTime()-(null!=u?u:0),t=(0,o.Z)(l);w({...(0,s.getDuration)(null==n?void 0:n.getTime(),l+e*("countdown"===h?-1:1)),overtime:"countdown"===h&&t})}},[l,u]);let m=()=>{let{days:n,hours:e,minutes:l,seconds:t}=Z;60===(t+=1)&&(t=0,60===(l+=1)&&(l=0,24===(e+=1)&&(n+=1))),w({...Z,days:n,hours:e,minutes:l,seconds:t})},y=()=>{let{days:n,hours:e,minutes:l,seconds:t}=Z;if(0===n&&0===e&&0===l&&0===t){if(a)return;if(g)return w({...(0,s.getDuration)(new Date().getTime(),c)})}-1==(t-=1)&&(t=59,-1==(l-=1)&&(l=59,-1==(e-=1)&&(e=0,n-=1))),w({...Z,days:n,hours:e,minutes:l,seconds:t})};(0,i.Z)(()=>{if(!Z)return null;"countdown"!==h||(null==Z?void 0:Z.overtime)?m():y()},x||p?null:1e3);let D=n=>{let e=String(n);return(null==e?void 0:e.length)===1?"0".concat(n):n};return Z?((null==Z?void 0:Z.overtime)||x)&&j?(0,t.jsx)(d.Z,{...f,ref:e,children:j}):(0,t.jsxs)(d.Z,{...f,ref:e,variant:v,sx:{color:"".concat((null==Z?void 0:Z.overtime)&&!g?"#f91d1d":"")},component:"span",children:[(null==Z?void 0:Z.days)?D(null==Z?void 0:Z.days)+"d:":"",D(null==Z?void 0:Z.hours)+"h:",D(null==Z?void 0:Z.minutes)+"m",(null==Z?void 0:Z.days)?"":":",(null==Z?void 0:Z.days)?"":D(null==Z?void 0:Z.seconds)+"s"]}):null});e.Z=c},78915:function(n,e,l){"use strict";l.r(e);var t=l(82729),r=l(85893),i=l(67294),o=l(15861),s=l(51233),d=l(67358),c=l(38895),u=l(22797),a=l(66242),h=l(44267),x=l(39574),p=l(41422),j=l(61599),g=l(33948),v=l(23508),f=l(20566),Z=l(2962);function w(){let n=(0,t._)(["\n  width: 25px;\n  object-fit: contain;\n"]);return w=function(){return n},n}let m=n=>{let{column:e,sx:l={},children:t}=n;return(0,r.jsx)(a.Z,{sx:l,children:(0,r.jsx)(h.Z,{sx:{height:"100%",display:"flex"},children:(0,r.jsx)(s.Z,{direction:e?"column":"row",gap:1,justifyContent:"center",alignItems:"center",children:t})})})},y=j.Z.img(w()),D=n=>{let{isFlurbo:e,upgrades:l=[]}=n,t=n=>(0,x.growth)(null==n?void 0:n.func,null==n?void 0:n.level,null==n?void 0:n.x1,null==n?void 0:n.x2),i=n=>{let l=0;for(let t=n;t<(e?50:100);t++)l+=d(t);return l},d=n=>e?Math.floor(1+Math.pow(1.7*n,1.05)*Math.pow(1.027+(n-30)/(n+30)*.01*Math.floor((n+970)/1e3),n)):Math.floor(2+Math.pow(1.5*n,1.04)*Math.pow(1.024+(n-60)/(n+60)*.01*Math.floor((n+940)/1e3),n));return(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)(o.Z,{my:2,variant:"h4",children:[e?"Flurbo":"Dungeon"," Upgrades"]}),(0,r.jsx)(s.Z,{gap:1,children:l.map((n,l)=>{let{level:c,type:u,effect:p}=n,j=c>=(e?50:100);return(0,r.jsx)(a.Z,{sx:{width:{md:450}},children:(0,r.jsx)(h.Z,{children:(0,r.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",gap:2,children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)(o.Z,{children:["+",t(n),"%"===u?u:""," ",(0,x.cleanUnderscore)(p)]}),(0,r.jsx)(o.Z,{color:j?"success.light":"",children:j?"MAXED":"Lv. ".concat(c," / ").concat(e?50:100)})]}),(0,r.jsxs)(s.Z,{direction:"row",gap:3,children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(o.Z,{color:"info.light",children:"Cost"}),(0,r.jsx)(o.Z,{children:d(c)})]}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(o.Z,{color:"info.light",children:"Cost to max"}),(0,r.jsx)(o.Z,{children:i(c)})]})]})]})})},"".concat(p,"-").concat(l))})})]})};e.default=()=>{let{state:n}=(0,i.useContext)(p.I),{dungeons:e}=(null==n?void 0:n.account)||{},l=(0,i.useMemo)(()=>{var e;return(0,f.IS)(null==n?void 0:null===(e=n.serverVars)||void 0===e?void 0:e.HappyHours)||[]},[n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.PB,{title:"Idleon Toolbox | Dungeons",description:"Dungeon information including happy hour times, currency, upgrades and more"}),(0,r.jsx)(o.Z,{my:2,variant:"h2",children:"Dungeons"}),(0,r.jsxs)(s.Z,{direction:"row",flexWrap:"wrap",gap:4,children:[(0,r.jsxs)(m,{children:[(0,r.jsx)(y,{src:"".concat(x.prefix,"data/Dung_Rank").concat(null==e?void 0:e.rank,".png"),alt:""}),(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)(o.Z,{children:["Rank: ",null==e?void 0:e.rank]}),(0,r.jsxs)(o.Z,{children:[null==e?void 0:e.progress," / ",null==e?void 0:e.rankReq]})]})]}),(0,r.jsxs)(m,{children:[(0,r.jsx)("img",{src:"".concat(x.prefix,"etc/boosted-runs.png"),alt:""}),(0,r.jsx)(o.Z,{children:null==e?void 0:e.boostedRuns}),(0,r.jsx)(y,{src:"".concat(x.prefix,"data/DungCredits1.png"),alt:""}),null==e?void 0:e.credits,(0,r.jsx)(y,{src:"".concat(x.prefix,"data/DungCredits2.png"),alt:""}),null==e?void 0:e.flurbos]})]}),(0,r.jsx)(s.Z,{my:2,direction:"row",gap:4,children:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(c.Z,{expandIcon:l.length>1?(0,r.jsx)(v.Z,{}):null,children:(0,r.jsxs)(s.Z,{direction:"row",gap:2,children:[(0,r.jsx)(o.Z,{children:"Next happy hour:"}),(null==l?void 0:l.length)>0?(0,r.jsx)(g.Z,{type:"countdown",date:null==l?void 0:l[0],lastUpdated:null==n?void 0:n.lastUpdated}):"waiting for lava to set them"]})}),l.length>1?(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(o.Z,{mb:1,children:"Future happy hours"}),(0,r.jsx)(s.Z,{gap:2,children:l.map((e,l)=>0===l?null:(0,r.jsxs)(s.Z,{direction:"row",gap:3,children:[(0,r.jsxs)(o.Z,{sx:{width:40},children:["#",l]}),(0,r.jsx)(g.Z,{date:e,lastUpdated:null==n?void 0:n.lastUpdated},"happy-".concat(l))]},"next-happy-hour-".concat(l)))})]}):null]})}),(0,r.jsxs)(s.Z,{direction:"row",flexWrap:"wrap",gap:4,children:[(0,r.jsx)(D,{upgrades:null==e?void 0:e.insideUpgrades}),(0,r.jsx)(D,{isFlurbo:!0,upgrades:null==e?void 0:e.upgrades})]})]})}}},function(n){n.O(0,[2598,1909,9774,2888,179],function(){return n(n.s=89936)}),_N_E=n.O()}]);