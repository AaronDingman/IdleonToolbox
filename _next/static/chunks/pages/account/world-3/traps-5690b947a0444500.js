(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3419],{1603:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-3/traps",function(){return c(9568)}])},134:function(e,b,a){"use strict";var f=a(5893),g=a(7294),h=a(3277),i=a(3913),j=a(7702),c=a(5934),k=a(5861);function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){l(d,a,c[a])})}return d}function d(){var a,b,c=(a=["\n  .overtime {\n    color: #f91d1d;\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return d=function(){return c},c}var n=c.Z.span(d());b.Z=function(b){var p=b.date,t=b.startDate,q=b.lastUpdated,r=b.type,d=b.pause,s=b.staticTime,e=b.placeholder,u=b.loop,l=(0,g.useState)(),a=l[0],v=l[1],o=(0,g.useState)(r),w=o[0],x=o[1];(0,g.useEffect)(function(){if(p){if(s)return v(m({},(0,j.getDuration)(new Date().getTime(),p)));var a=new Date,c=a.getTime()-(null!=q?q:0),b=(0,i.Z)(p);v(m({},(0,j.getDuration)(null==a?void 0:a.getTime(),p+c*("countdown"===r?-1:1)),{overtime:"countdown"===r&&b})),b&&x("countdown")}},[p,q]);var y=function(){var d=a.days,e=a.hours,b=a.minutes,c=a.seconds;60===(c+=1)&&(c=0,60===(b+=1)&&(b=0,24===(e+=1)&&(d+=1))),v(m({},a,{days:d,hours:e,minutes:b,seconds:c}))},z=function(){var e=a.days,b=a.hours,c=a.minutes,d=a.seconds;if(0===e&&0===b&&0===c&&0===d&&u)return v(m({},(0,j.getDuration)(new Date().getTime(),t)));-1==(d-=1)&&(d=59,-1==(c-=1)&&(c=59,-1==(b-=1)&&(b=0,e-=1))),v(m({},a,{days:e,hours:b,minutes:c,seconds:d}))};(0,h.Z)(function(){if(!a)return null;"countdown"!==w||(null==a?void 0:a.overtime)?y():z()},d||s?null:1e3);var c=function(a){var b=String(a);return(null==b?void 0:b.length)===1?"0".concat(a):a};return a?(0,f.jsx)(n,{children:((null==a?void 0:a.overtime)||d)&&e?e:(0,f.jsxs)(k.Z,{className:"".concat((null==a?void 0:a.overtime)?"overtime":""),component:"span",children:[(null==a?void 0:a.days)?c(null==a?void 0:a.days)+"d:":"",c(null==a?void 0:a.hours)+"h:",c(null==a?void 0:a.minutes)+"m",(null==a?void 0:a.days)?"":":",(null==a?void 0:a.days)?"":c(null==a?void 0:a.seconds)+"s"]})}):null}},1820:function(k,c,a){"use strict";a.d(c,{M5:function(){return j},uQ:function(){return u},j8:function(){return v},iy:function(){return w},u3:function(){return B},Wd:function(){return C}});var l=a(5893),d=a(7294),m=a(7702),n=a(6447),o=a(5861),e=a(1594),b=a(5934),p=a(5231),q=a(49);function r(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function s(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){r(d,a,c[a])})}return d}function t(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function f(){var a=t(["\n  & .MuiBadge-badge {\n    background-color: #d5d5dc;\n    color: rgba(0, 0, 0, 0.87);\n  }\n"]);return f=function(){return a},a}function g(){var a=t(["\n  height: 20px;\n  object-fit: contain;\n"]);return g=function(){return a},a}function h(){var a=t(["\n  width: 56px;\n  height: 72px;\n  object-fit: contain;\n"]);return h=function(){return a},a}function i(){var a=t(["\n  position: absolute;\n  left: 50%;\n  top: -3px;\n  pointer-events: none;\n  transform: translateX(-50%);\n"]);return i=function(){return a},a}var j=(0,d.forwardRef)(function(a,b){var c=a.stat,d=a.icon;return(0,l.jsxs)(n.Z,s({alignItems:"center"},a,{ref:b,style:{position:"relative",width:"fit-content"},children:[(0,l.jsx)("img",s({},null==a?void 0:a.img,{src:"".concat(m.prefix,"data/").concat(d,".png"),alt:""})),(0,l.jsx)(o.Z,{variant:"body1",component:"span",children:c})]}))});j.displayName="IconWithText";var u=function(a){var b=a.title,c=a.value;return(0,l.jsxs)(n.Z,{direction:"row",flexWrap:"wrap",alignItems:"center",children:[b?(0,l.jsxs)(o.Z,{fontWeight:500,component:"span",children:[b,":\xa0"]}):null,(0,l.jsx)(o.Z,{fontSize:15,component:"span",children:c})]})},v=(0,b.Z)(e.Z)(f()),w=function(a){var d=a.cardName,b=a.stars,e=a.cardIndex,f=a.name,c=a.variant,g=a.rawName,h="cardSet"===c?"".concat(m.prefix,"data/").concat(g,".png"):"".concat(m.prefix,"data/2Cards").concat(e,".png");return(0,l.jsxs)(l.Fragment,{children:[b>0?(0,l.jsx)(A,{src:"".concat(m.prefix,"data/CardEquipBorder").concat("cardSet"===c?b+1:b,".png"),alt:""}):null,(0,l.jsx)(p.Z,{title:(0,l.jsx)(x,s({},a,{cardName:"cardSet"===c?f:d})),children:(0,l.jsx)(z,{src:h,alt:""})})]})},x=function(a){var e=a.displayName,f=a.effect,b=a.bonus,g=a.stars,c=a.showInfo,d=b;return c&&(d=(0,q.BZ)({bonus:b,stars:g})),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Z,{fontWeight:"bold",variant:"h6",children:(0,m.cleanUnderscore)(e)}),(0,l.jsx)(o.Z,{children:(0,m.cleanUnderscore)(f.replace("{",d))}),c?(0,l.jsx)(n.Z,{mt:1,direction:"row",gap:1,flexWrap:"wrap",children:[1,2,3,4,5].map(function(c,a){return(0,l.jsxs)(n.Z,{alignItems:"center",justifyContent:"space-between",children:[0===a?(0,l.jsx)(o.Z,{children:"Base"}):(0,l.jsx)(y,{src:"".concat(m.prefix,"etc/Star").concat(a,".png"),alt:""}),(0,l.jsx)(o.Z,{children:b*(a+1)})]},"".concat(e,"-").concat(a))})}):null]})},y=b.Z.img(g()),z=b.Z.img(h()),A=b.Z.img(i()),B=function(a){var b=a.level,c=a.funcX,d=a.x1,e=a.x2,f=a.funcY,g=a.y1,h=a.y2,i=a.description,j=a.name,k=a.talentId,p=b>0?(0,m.growth)(c,b,d,e):0,q=b>0?(0,m.growth)(f,b,g,h):0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)("img",{src:"".concat(m.prefix,"data/UISkillIcon").concat(k,".png"),alt:""}),(0,l.jsx)(o.Z,{fontWeight:"bold",variant:"h6",children:(0,m.cleanUnderscore)(j)})]}),(0,l.jsx)(o.Z,{children:(0,m.cleanUnderscore)(i).replace("{",p).replace("}",q)})]})},C=function(a){var b=a.players,c=a.characters;return(0,l.jsx)(n.Z,{gap:1,direction:"row",children:b.map(function(d){var a,b=d.index;return(0,l.jsx)(p.Z,{title:null==c?void 0:null===(a=c[b])|| void 0===a?void 0:a.name,children:(0,l.jsx)("img",{src:"".concat(m.prefix,"data/headBIG.png"),alt:""})},name+"-head-"+b)})})}},9568:function(f,b,a){"use strict";a.r(b);var g=a(5893),h=a(5861),i=a(6447),j=a(6242),k=a(4267),l=a(7294),m=a(819),n=a(7702),c=a(5934),o=a(134),p=a(5231),q=a(1820);function r(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function s(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function t(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){s(d,a,c[a])})}return d}function u(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function d(){var a=u(["\n  z-index: 2;\n  width: 42px;\n  height: 42px;\n"]);return d=function(){return a},a}function e(){var a=u(["\n  z-index: 1;\n  width: 42px;\n  height: 42px;\n"]);return e=function(){return a},a}var v=function(a){var c=a.critters,b=a.index;return(0,g.jsxs)(i.Z,{direction:"row",mt:2,mb:"total"===b?2:1,gap:2,children:[(0,g.jsx)(i.Z,{sx:{width:"total"===b?"auto":175,textAlign:"center",flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:(0,g.jsx)(h.Z,{className:"character-name",children:"Total Critters"})}),(0,g.jsx)(j.Z,{elevation:5,sx:{width:{lg:920,xl:"fit-content"}},children:(0,g.jsx)(k.Z,{children:(0,g.jsx)(i.Z,{direction:"row",gap:3,flexWrap:"wrap",children:Object.entries(c).map(function(f,j){var a,c,d=(c=2,function(a){if(Array.isArray(a))return a}(a=f)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,c)||function(a,c){if(a){if("string"==typeof a)return r(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(a,c)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=d[0],k=d[1];return(0,g.jsxs)(i.Z,{alignItems:"center",gap:1,direction:"row",children:[(0,g.jsx)(x,{src:"".concat(n.prefix,"data/").concat(e,".png"),alt:""}),(0,g.jsx)(h.Z,{children:(0,n.kFormatter)(k)})]},"total-".concat(b,"-").concat(j,"-").concat(e))})})})})]})},w=function(a){var b=a.quantity,c=a.exp,d=a.trapType,e=a.crittersQuantity;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(q.uQ,{title:"Quantity",value:"x".concat(b)}),(0,g.jsx)(q.uQ,{title:0===d?"Exp":"Shiny",value:"x".concat(c)}),(0,g.jsx)(q.uQ,{title:"Critters",value:e})]})},x=c.Z.img(d()),y=c.Z.img(e());b.default=function(){var b=(0,l.useContext)(m.I).state,a=((null==b?void 0:b.account)||{}).traps,c=(0,l.useMemo)(function(){var b;return null==(b=a)?void 0:b.reduce(function(a,b){return b.reduce(function(f,c){var b,e=c.crittersQuantity,d=c.rawName;a=t({},a,s({},d,(null!==(b=null==a?void 0:a[d])&& void 0!==b?b:0)+e))},{}),a},{})},[a]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.Z,{variant:"h2",mb:3,children:"Traps"}),c?(0,g.jsx)(v,{critters:c,index:"total"}):null,(0,g.jsx)(i.Z,{gap:3,children:null==a?void 0:a.map(function(c,a){var e,f,m,q,r,u,z,A,B,C,D,E,F,G,J=null==b?void 0:null===(e=b.characters)|| void 0===e?void 0:null===(f=e[a])|| void 0===f?void 0:f.classIndex,K=null==b?void 0:null===(m=b.characters)|| void 0===m?void 0:null===(q=m[a])|| void 0===q?void 0:q.name,d=(null==b?void 0:null===(r=b.characters)|| void 0===r?void 0:null===(u=r[a])|| void 0===u?void 0:null===(z=u.tools)|| void 0===z?void 0:null===(A=z[4])|| void 0===A?void 0:A.rawName)!=="Blank"?null==b?void 0:null===(B=b.characters)|| void 0===B?void 0:null===(C=B[a])|| void 0===C?void 0:null===(D=C.tools)|| void 0===D?void 0:D[4]:null,H=d?parseInt(null!==(G=null==d?void 0:null===(E=d.rawName)|| void 0===E?void 0:E.charAt((null==d?void 0:null===(F=d.rawName)|| void 0===F?void 0:F.length)-1))&& void 0!==G?G:0)+1:c.length,I=c.length>=H?c:(0,n.fillArrayToLength)(H,c),L=c.reduce(function(a,c){var b,e=c.crittersQuantity,d=c.rawName;return t({},a,s({},d,(null!==(b=null==a?void 0:a[d])&& void 0!==b?b:0)+e))},{});return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)(j.Z,{sx:{width:{lg:920,xl:"fit-content"}},children:(0,g.jsxs)(k.Z,{children:[(0,g.jsxs)(i.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,g.jsxs)(i.Z,{sx:{width:175,textAlign:"center",flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,g.jsx)(i.Z,{alignItems:"center",justifyContent:"center",children:(0,g.jsx)("img",{className:"class-icon",src:"".concat(n.prefix,"data/ClassIcons").concat(J,".png"),alt:""})}),(0,g.jsx)(h.Z,{className:"character-name",children:K})]}),(0,g.jsx)(i.Z,{direction:"row",alignItems:"center",flexWrap:"wrap",gap:3,children:null==I?void 0:I.map(function(a,c){return(0,g.jsx)(j.Z,{sx:{borderColor:(null==a?void 0:a.active)?"success.light":"inherit"},elevation:5,children:(0,g.jsx)(k.Z,{children:(0,g.jsx)(i.Z,{sx:{width:{xs:65,sm:80},height:50},position:"relative",justifyContent:"flex-start",alignItems:"center",children:(null==a?void 0:a.name)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(i.Z,{direction:"row",children:[(0,g.jsx)(p.Z,{title:(0,g.jsx)(w,t({},null==a?void 0:a.trapData,{crittersQuantity:null==a?void 0:a.crittersQuantity})),children:(0,g.jsx)(y,{src:"".concat(n.prefix,"data/TrapBoxSet").concat((null==a?void 0:a.trapType)+1,".png"),alt:""})}),(0,g.jsx)(x,{src:"".concat(n.prefix,"data/").concat(null==a?void 0:a.rawName,".png"),alt:""})]}),(0,g.jsx)(o.Z,{type:"countdown",date:null==a?void 0:a.timeLeft,lastUpdated:null==b?void 0:b.lastUpdated})]}):(0,g.jsx)(h.Z,{color:(null==a?void 0:a.name)?"":"error.light",children:"Empty"})})})},"".concat((null==a?void 0:a.rawName)||"trap","-").concat(c))})})]}),(0,g.jsx)(v,{critters:L,index:a})]})})},"printer-row-".concat(a))})})]})}}},function(a){a.O(0,[3859,9774,2888,179],function(){return a(a.s=1603)}),_N_E=a.O()}])