(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3446],{6242:function(n,o,t){"use strict";t.d(o,{Z:function(){return w}});var e=t(7462),r=t(3366),i=t(7294),l=t(6010),d=t(4780),a=t(948),s=t(1657),u=t(629),c=t(1588),v=t(4867);function h(n){return(0,v.Z)("MuiCard",n)}(0,c.Z)("MuiCard",["root"]);var x=t(5893);let f=["className","raised"],Z=n=>{let{classes:o}=n;return(0,d.Z)({root:["root"]},h,o)},m=(0,a.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(n,o)=>o.root})(()=>({overflow:"hidden"})),p=i.forwardRef(function(n,o){let t=(0,s.Z)({props:n,name:"MuiCard"}),{className:i,raised:d=!1}=t,a=(0,r.Z)(t,f),u=(0,e.Z)({},t,{raised:d}),c=Z(u);return(0,x.jsx)(m,(0,e.Z)({className:(0,l.Z)(c.root,i),elevation:d?8:void 0,ref:o,ownerState:u},a))});var w=p},4267:function(n,o,t){"use strict";t.d(o,{Z:function(){return p}});var e=t(7462),r=t(3366),i=t(7294),l=t(6010),d=t(4780),a=t(948),s=t(1657),u=t(1588),c=t(4867);function v(n){return(0,c.Z)("MuiCardContent",n)}(0,u.Z)("MuiCardContent",["root"]);var h=t(5893);let x=["className","component"],f=n=>{let{classes:o}=n;return(0,d.Z)({root:["root"]},v,o)},Z=(0,a.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,o)=>o.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),m=i.forwardRef(function(n,o){let t=(0,s.Z)({props:n,name:"MuiCardContent"}),{className:i,component:d="div"}=t,a=(0,r.Z)(t,x),u=(0,e.Z)({},t,{component:d}),c=f(u);return(0,h.jsx)(Z,(0,e.Z)({as:d,className:(0,l.Z)(c.root,i),ownerState:u,ref:o},a))});var p=m},5558:function(n,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-3/buildings",function(){return t(9925)}])},9925:function(n,o,t){"use strict";t.r(o);var e=t(2729),r=t(5893),i=t(7294),l=t(9597),d=t(5861),a=t(1233),s=t(6242),u=t(4267),c=t(9574),v=t(1599),h=t(7277),x=t(2962);function f(){let n=(0,e._)(["\n  width: 50px;\n  height: 50px;\n  object-fit: contain;\n"]);return f=function(){return n},n}function Z(){let n=(0,e._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return Z=function(){return n},n}let m=()=>{var n,o,t;let{state:e}=(0,i.useContext)(l.I),v=(0,i.useMemo)(()=>{var n,o,t;return null==e?void 0:null===(n=e.account)||void 0===n?void 0:null===(o=n.towers)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.find(n=>5===n.index)},[e]),f=(n,o,t,e,r)=>n.map(n=>{let{rawName:i,name:l,amount:d}=n,a=Math.min(.1,.1*Math.floor((r.level+999)/1e3)),s=Math.max(0,r.level-1),u=Math.max(.2,1-(a+s*r.costInc[0]/100));return i.includes("Refinery")?{rawName:i,name:l,amount:Math.floor(u*d*(o+1))}:{rawName:i,name:l,amount:Math.floor(u*d*Math.pow(e+.03-(e+.03-1.05)*o/(t/2+o),o))}}),Z=(n,o)=>6===o?n>=(null===h.q5||void 0===h.q5?void 0:h.q5[o])?30:0:5===o||4===o?n>=(null===h.q5||void 0===h.q5?void 0:h.q5[o])?100:0:3===o&&n>=(null===h.q5||void 0===h.q5?void 0:h.q5[o])?35:0,m=(n,o,t)=>50===o?Math.round(2*t+Z(n,6,0)):101===o?Z(n,4,0):100===o?Z(n,5,0):15===o?Z(n,3,0):0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.PB,{title:"Idleon Toolbox | Buildings",description:"Keep track of your towers levels, bonuses and required materials for upgrades"}),(0,r.jsx)(d.Z,{variant:"h2",mb:3,children:"Buildings"}),(0,r.jsx)(a.Z,{direction:"row",flexWrap:"wrap",gap:3,children:null==e?void 0:null===(n=e.account)||void 0===n?void 0:null===(o=n.towers)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.map((n,o)=>{var t,i,l,x,Z,g;let{name:j,progress:C,level:M,maxLevel:_,bonusInc:b,itemReq:N,inProgress:q}=n,R=f(N,M,_,b,v),B=(0,h.ZX)(null==e?void 0:null===(t=e.account)||void 0===t?void 0:t.towers,M,b,null==n?void 0:n.index),E=null==e?void 0:null===(i=e.account)||void 0===i?void 0:null===(l=i.atoms)||void 0===l?void 0:null===(x=l.atoms)||void 0===x?void 0:x.find(n=>{let{name:o}=n;return"Carbon_-_Wizard_Maximizer"===o}),P=m(null==e?void 0:null===(Z=e.account)||void 0===Z?void 0:null===(g=Z.towers)||void 0===g?void 0:g.totalLevels,_,null==E?void 0:E.level);return _+=P,(0,r.jsx)(s.Z,{sx:{border:q?"1px solid":"",borderColor:q?C<B?"success.light":"warning.light":"",width:{xs:"100%",md:450},height:{md:160}},children:(0,r.jsx)(u.Z,{children:(0,r.jsxs)(a.Z,{direction:"row",sx:{gap:{xs:2,sm:3}},flexWrap:"wrap",children:[(0,r.jsxs)(a.Z,{alignItems:"center",sx:{width:105,textAlign:"center"},children:[(0,r.jsx)(d.Z,{children:(0,c.cleanUnderscore)(j)}),(0,r.jsx)(p,{src:"".concat(c.prefix,"data/ConTower").concat(null==n?void 0:n.index,".png"),alt:""}),(0,r.jsxs)(d.Z,{children:["Lv. ",M," / ",_]})]}),(0,r.jsxs)(a.Z,{sx:{width:100},children:[(0,r.jsx)(d.Z,{mb:2,children:"Progress"}),M===_?(0,r.jsx)(d.Z,{color:"success.light",children:"MAXED"}):(0,r.jsxs)(d.Z,{children:[(0,c.notateNumber)(C,"Big")," / ",(0,c.notateNumber)(B,"Big")]})]}),M===_?null:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(d.Z,{mb:2,children:"Cost"}),(0,r.jsx)(a.Z,{direction:"row",gap:1,children:null==R?void 0:R.map((n,o)=>{let{rawName:t,amount:e}=n;return(0,r.jsxs)(a.Z,{alignItems:"center",children:[(0,r.jsx)(w,{src:"".concat(c.prefix,"data/").concat(t,".png"),alt:""}),(0,r.jsx)(d.Z,{children:e})]},"".concat(j,"-").concat(t,"-").concat(o))})})]})]})})},"".concat(j,"-").concat(o))})})]})},p=v.Z.img(f()),w=v.Z.img(Z());o.default=m}},function(n){n.O(0,[9774,2888,179],function(){return n(n.s=5558)}),_N_E=n.O()}]);