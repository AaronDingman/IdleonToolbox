(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9876],{87789:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-3/construction",function(){return e(42021)}])},42021:function(n,t,e){"use strict";e.r(t);var l=e(82729),o=e(85893),i=e(15861),r=e(51233),a=e(33454),u=e(96420),d=e(50480),c=e(69368),s=e(87357),x=e(66242),v=e(44267),p=e(67294),h=e(1356),g=e(51626),m=e(61599),j=e(70478),b=e(83321),f=e(56868),Z=e(74721),C=e(23795),y=e(2962);function _templateObject(){let n=(0,l._)(["\n  position: relative;\n  background-image: url(",');\n  background-repeat: no-repeat;\n  background-position: center;\n\n  width: 46px;\n  height: 46px;\n\n  &:before {\n    content: "";\n    display: block;\n    position: absolute;\n    z-index: -1;\n    ',"\n\n    width: 44px;\n    height: 41px;\n    top: 1px;\n    left: -1px;\n  }\n"]);return _templateObject=function(){return n},n}function _templateObject1(){let n=(0,l._)(["\n  width: 43px;\n  height: 42px;\n"]);return _templateObject1=function(){return n},n}function _templateObject2(){let n=(0,l._)(["\n  width: 47px;\n  height: 47px;\n"]);return _templateObject2=function(){return n},n}let _={fontSize:12,fontWeight:400,position:"absolute",top:0,left:0,backgroundColor:"black"},w={fontSize:12,fontWeight:400,position:"absolute",bottom:0,right:0,backgroundColor:"blue"},CogTooltip=n=>{var t;let{character:e,index:l,currentAmount:r,requiredAmount:a,cog:u}=n;return(0,o.jsxs)(o.Fragment,{children:[e?(0,o.jsx)(i.Z,{sx:{fontWeight:"bold"},children:e}):null,r<a?(0,o.jsxs)(i.Z,{children:[(0,h.kFormatter)(r,2)," / ",(0,h.kFormatter)(a,2)," (",(0,h.kFormatter)(r/a*100,2),"%)"]}):null,null===(t=Object.values(null==u?void 0:u.stats))||void 0===t?void 0:t.map((n,t)=>{let{name:e,value:l}=n;return e?(0,o.jsxs)("div",{children:[(0,h.notateNumber)(l,"Big"),(0,h.cleanUnderscore)(e)]},"".concat(e,"-").concat(t)):null}),"index: ",l]})},k=(0,m.Z)(r.Z)(_templateObject(),()=>"".concat(h.prefix,"data/CogSq0.png"),n=>{let{filled:t}=n;return 0===t||100===t?"":"background: linear-gradient(to top, #9de060 ".concat(t,"%, transparent 0%);")}),T=m.Z.img(_templateObject1()),B=m.Z.img(_templateObject2()),CardTitleAndValue=n=>{let{cardSx:t,title:e,value:l,children:r}=n;return(0,o.jsx)(x.Z,{sx:{my:{xs:0,md:3},width:"fit-content",...t},children:(0,o.jsxs)(v.Z,{children:[(0,o.jsx)(i.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:e}),l?(0,o.jsx)(i.Z,{children:l}):r]})})};t.default=()=>{var n,t,e,l,x,v,m,N,E;let{state:S}=(0,p.useContext)(g.I),[O,P]=(0,p.useState)("build"),[F,A]=(0,p.useState)(!0),[I,R]=(0,p.useState)({}),handleCopy=async n=>{try{await navigator.clipboard.writeText(n)}catch(n){console.error(n)}},onSlotEnter=n=>{var t,e,l,o;R(null==S?void 0:null===(o=S.account)||void 0===o?void 0:null===(l=o.construction)||void 0===l?void 0:null===(e=l.relations)||void 0===e?void 0:null===(t=e[n])||void 0===t?void 0:t.toSimpleObject())},onSlotLeave=()=>{R({})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.PB,{title:"Idleon Toolbox | Construction",description:"Keep track of your construction board, cogs information and more"}),(0,o.jsx)(i.Z,{variant:"h2",textAlign:"center",mb:3,children:"Construction"}),(0,o.jsxs)(r.Z,{alignItems:"center",children:[(0,o.jsxs)(a.Z,{value:O,exclusive:!0,onChange:(n,t)=>(null==t?void 0:t.length)?P(t):null,children:[(0,o.jsx)(u.Z,{value:"build",children:"Build"}),(0,o.jsx)(u.Z,{value:"buildPercent",children:"Build %"}),(0,o.jsx)(u.Z,{value:"exp",children:"Exp"}),(0,o.jsx)(u.Z,{value:"flaggy",children:"Flaggy"}),(0,o.jsx)(u.Z,{value:"classExp",children:"Class Exp"})]}),(0,o.jsxs)(r.Z,{my:1,children:[(0,o.jsxs)(r.Z,{my:1,gap:1,direction:"row",alignItems:"center",justifyContent:"center",children:[(0,o.jsxs)(i.Z,{variant:"h6",textAlign:"center",children:["Cogstruction"," "]}),(0,o.jsx)(j.Z,{followCursor:!1,title:(0,o.jsxs)(o.Fragment,{children:["You can export your data and use it in"," ",(0,o.jsx)(C.Z,{target:"_blank",underline:"always",color:"info.dark",href:"https://github.com/automorphis/Cogstruction",rel:"noreferrer",children:"Cogstruction"})]}),children:(0,o.jsx)(Z.Z,{})})]}),(0,o.jsxs)(r.Z,{direction:"row",gap:2,children:[(0,o.jsx)(b.Z,{variant:"contained",color:"primary",sx:{textTransform:"unset"},onClick:()=>{var n,t,e;return handleCopy(null==S?void 0:null===(e=S.account)||void 0===e?void 0:null===(t=e.construction)||void 0===t?void 0:null===(n=t.cogstruction)||void 0===n?void 0:n.cogData)},startIcon:(0,o.jsx)(f.Z,{}),children:"Cogstruction Data"}),(0,o.jsx)(b.Z,{variant:"contained",color:"primary",sx:{textTransform:"unset"},onClick:()=>{var n,t,e;return handleCopy(null==S?void 0:null===(e=S.account)||void 0===e?void 0:null===(t=e.construction)||void 0===t?void 0:null===(n=t.cogstruction)||void 0===n?void 0:n.empties)},startIcon:(0,o.jsx)(f.Z,{}),children:"Cogstruction Empties"})]})]}),(0,o.jsxs)(r.Z,{direction:"row",my:2,gap:2,children:[(0,o.jsx)(CardTitleAndValue,{title:"Total Build Speed",value:"".concat((0,h.notateNumber)(null==S?void 0:null===(t=S.account)||void 0===t?void 0:null===(n=t.construction)||void 0===n?void 0:n.totalBuildRate),"/HR")}),(0,o.jsx)(CardTitleAndValue,{title:"Player XP Bonus",value:"".concat((0,h.notateNumber)(null==S?void 0:null===(l=S.account)||void 0===l?void 0:null===(e=l.construction)||void 0===e?void 0:e.totalExpRate),"%")}),(0,o.jsx)(CardTitleAndValue,{title:"Flaggy Rate",value:"".concat((0,h.notateNumber)(null==S?void 0:null===(v=S.account)||void 0===v?void 0:null===(x=v.construction)||void 0===x?void 0:x.totalFlaggyRate),"/HR")}),(0,o.jsx)(CardTitleAndValue,{title:"Hover",children:(0,o.jsx)(r.Z,{sx:{maxWidth:200},children:(0,o.jsx)(d.Z,{control:(0,o.jsx)(c.Z,{checked:F,onChange:()=>A(!F)}),name:"showTooltip",label:"Show tooltip"})})})]}),(0,o.jsx)(i.Z,{variant:"caption",children:"* Hovering over a cog will display the cogs that influence the selected cog"}),(0,o.jsx)(s.Z,{mt:3,sx:{display:"grid",gap:"8px",gridTemplateColumns:{xs:"repeat(8, minmax(45px, 1fr))",md:"repeat(12, minmax(45px, 1fr))"},gridTemplateRows:{xs:"repeat(8, minmax(45px, 1fr))",md:"repeat(12, minmax(45px, 1fr))"}},children:null==S?void 0:null===(E=S.account)||void 0===E?void 0:null===(N=E.construction)||void 0===N?void 0:null===(m=N.board)||void 0===m?void 0:m.map((n,t)=>{var e,l,r,a,u,d,c,x,v;let{currentAmount:p,requiredAmount:g,flagPlaced:m,cog:b}=n,{a:f,e:Z,b:C,d:y,c:N,j:E}=null==b?void 0:b.stats,S=p/g*100;return(0,o.jsx)(s.Z,{sx:{outline:(null==I?void 0:I[t])?"1px solid red":""},onMouseEnter:()=>onSlotEnter(t),onMouseLeave:onSlotLeave,children:(0,o.jsx)(j.Z,{title:F?(0,o.jsx)(CogTooltip,{...n,index:t,character:(null==b?void 0:null===(e=b.name)||void 0===e?void 0:e.includes("Player"))?null==b?void 0:null===(l=b.name)||void 0===l?void 0:l.split("Player_")[1]:""}):"",children:(0,o.jsxs)(k,{filled:S,rest:100-S,children:[m?(0,o.jsx)(T,{src:"".concat(h.prefix,"data/CogFLflag.png"),alt:""}):null,(null==b?void 0:b.name)&&!m?(0,o.jsx)(B,{src:"".concat(h.prefix,"data/").concat((null==b?void 0:null===(r=b.name)||void 0===r?void 0:r.includes("Player"))?"headBIG":null==b?void 0:b.name,".png"),alt:""}):null,h.isProd?null:(0,o.jsx)(i.Z,{sx:w,children:t}),"build"!==O||m?null:(0,o.jsx)(i.Z,{sx:_,children:null!==(a=(0,h.notateNumber)(null==f?void 0:f.value,"Big"))&&void 0!==a?a:null}),"buildPercent"!==O||m?null:(0,o.jsx)(i.Z,{sx:_,children:null!==(u=(0,h.notateNumber)(null==Z?void 0:Z.value,"Big"))&&void 0!==u?u:null}),"exp"!==O||m?null:(0,o.jsx)(i.Z,{sx:_,children:null!==(c=null!==(d=(0,h.notateNumber)(null==C?void 0:C.value,"Big"))&&void 0!==d?d:(0,h.notateNumber)(null==y?void 0:y.value,"Big"))&&void 0!==c?c:null}),"flaggy"!==O||m?null:(0,o.jsx)(i.Z,{sx:_,children:null!==(x=(0,h.notateNumber)(null==N?void 0:N.value,"Big"))&&void 0!==x?x:null}),"classExp"!==O||m?null:(0,o.jsx)(i.Z,{sx:_,children:null!==(v=(0,h.notateNumber)(null==E?void 0:E.value,"Big"))&&void 0!==v?v:null})]})})},t)})})]})]})}}},function(n){n.O(0,[3616,9774,2888,179],function(){return n(n.s=87789)}),_N_E=n.O()}]);