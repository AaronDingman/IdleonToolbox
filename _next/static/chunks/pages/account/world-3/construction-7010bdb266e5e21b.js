(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9876],{87789:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-3/construction",function(){return e(14361)}])},14361:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return world_3_construction}});var l=e(82729),o=e(85893),i=e(15861),r=e(51233),a=e(33454),u=e(96420),d=e(50480),c=e(69368),s=e(61903),v=e(94054),x=e(153),p=e(66242),h=e(44267),g=e(67294),m=e(1356),j=e(51626),b=e(70478),f=e(83321),Z=e(56868),C=e(74721),_=e(23795),y=e(2962),w=e(87357),B=e(61599);function _templateObject(){let n=(0,l._)(["\n  position: relative;\n  background-image: url(",');\n  background-repeat: no-repeat;\n  background-position: center;\n\n  width: 46px;\n  height: 46px;\n\n  &:before {\n    content: "";\n    display: block;\n    position: absolute;\n    z-index: -1;\n    ',"\n\n    width: 48px;\n    height: 47px;\n    top: 1px;\n    left: -1px;\n  }\n"]);return _templateObject=function(){return n},n}function _templateObject1(){let n=(0,l._)(["\n  width: 47px;\n  height: 47px;\n"]);return _templateObject1=function(){return n},n}function _templateObject2(){let n=(0,l._)(["\n  width: 47px;\n  height: 47px;\n"]);return _templateObject2=function(){return n},n}let k={fontSize:12,fontWeight:400,position:"absolute",top:0,left:0,backgroundColor:"black"},O={fontSize:12,fontWeight:400,position:"absolute",bottom:0,right:0,backgroundColor:"blue"},CogTooltip=n=>{var t;let{character:e,index:l,currentAmount:r,requiredAmount:a,cog:u}=n;return(0,o.jsxs)(o.Fragment,{children:[e?(0,o.jsx)(i.Z,{sx:{fontWeight:"bold"},children:e}):null,r<a?(0,o.jsxs)(i.Z,{children:[(0,m.kFormatter)(r,2)," / ",(0,m.kFormatter)(a,2)," (",(0,m.kFormatter)(r/a*100,2),"%)"]}):null,null===(t=Object.values(null==u?void 0:u.stats))||void 0===t?void 0:t.map((n,t)=>{let{name:e,value:l}=n;return e?(0,o.jsxs)("div",{children:[(0,m.notateNumber)(l,"Big"),(0,m.cleanUnderscore)(e)]},"".concat(e,"-").concat(t)):null}),"index: ",l]})},T=(0,B.Z)(r.Z)(_templateObject(),()=>"".concat(m.prefix,"data/CogSq0.png"),n=>{let{filled:t}=n;return 0===t||100===t?"":"background: linear-gradient(to top, #9de060 ".concat(t,"%, transparent 0%);")}),N=B.Z.img(_templateObject1()),S=B.Z.img(_templateObject2());var World3_ConstructionBoard=n=>{let{view:t,board:e,showTooltip:l,setOutsideHighlight:r,outsideHighlight:a}=n;return(0,o.jsx)(w.Z,{mt:3,sx:{display:"grid",gap:"8px",gridTemplateColumns:{xs:"repeat(8, minmax(45px, 1fr))",md:"repeat(12, minmax(45px, 1fr))"},gridTemplateRows:{xs:"repeat(8, minmax(45px, 1fr))",md:"repeat(8, minmax(45px, 1fr))"}},children:null==e?void 0:e.map((n,e)=>{var u,d,c;let{currentAmount:s,requiredAmount:v,flagPlaced:x,cog:p}=n,{a:h,e:g,b:j,d:f,c:Z,j:C}=null==p?void 0:p.stats,_=s/v*100;return(0,o.jsx)(w.Z,{sx:{outline:(null==p?void 0:p.originalIndex)===a?"1px solid red":"",opacity:r||(null==p?void 0:p.originalIndex)!==e?1:.5},onMouseEnter:()=>"function"==typeof r&&r(null==p?void 0:p.originalIndex),onMouseLeave:()=>"function"==typeof r&&r(null),children:(0,o.jsx)(b.Z,{title:l?(0,o.jsx)(CogTooltip,{...n,index:e,character:(null==p?void 0:null===(u=p.name)||void 0===u?void 0:u.includes("Player"))?null==p?void 0:null===(d=p.name)||void 0===d?void 0:d.split("Player_")[1]:""}):"",children:(0,o.jsxs)(T,{filled:_,rest:100-_,children:[x?(0,o.jsx)(N,{src:"".concat(m.prefix,"data/CogFLflag.png"),alt:""}):null,(null==p?void 0:p.name)&&!x?(0,o.jsx)(S,{src:"".concat(m.prefix,"data/").concat((null==p?void 0:null===(c=p.name)||void 0===c?void 0:c.includes("Player"))?"headBIG":null==p?void 0:p.name,".png"),alt:""}):null,m.isProd?null:(0,o.jsx)(i.Z,{sx:O,children:e}),"build"===t&&!x&&(null==h?void 0:h.value)?(0,o.jsx)(i.Z,{sx:k,children:(0,m.notateNumber)(null==h?void 0:h.value,"Big")||null}):null,"buildPercent"===t&&!x&&(null==g?void 0:g.value)?(0,o.jsx)(i.Z,{sx:k,children:(0,m.notateNumber)(null==g?void 0:g.value,"Big")||null}):null,"exp"!==t||x?null:(0,o.jsx)(i.Z,{sx:k,children:(null==j?void 0:j.value)&&(0,m.notateNumber)(null==j?void 0:j.value,"Big")||(null==f?void 0:f.value)&&(0,m.notateNumber)(null==f?void 0:f.value,"Big")||null}),"flaggy"===t&&!x&&(null==Z?void 0:Z.value)?(0,o.jsx)(i.Z,{sx:k,children:(0,m.notateNumber)(null==Z?void 0:Z.value,"Big")||null}):null,"classExp"===t&&!x&&(null==C?void 0:C.value)?(0,o.jsx)(i.Z,{sx:k,children:(0,m.notateNumber)(null==C?void 0:C.value,"Big")||null}):null]})})},e)})})},R=e(18972),E=e(41508),I=e(41285),P=e(24162);function construction_templateObject(){let n=(0,l._)(["\n  transform: rotate(180deg);\n"]);return construction_templateObject=function(){return n},n}(0,B.Z)(I.Z)(construction_templateObject());let CardTitleAndValue=n=>{let{cardSx:t,title:e,value:l,children:r}=n;return(0,o.jsx)(p.Z,{sx:{my:{xs:0,md:3},width:"fit-content",...t},children:(0,o.jsxs)(h.Z,{children:[(0,o.jsx)(i.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:e}),l?(0,o.jsx)(i.Z,{children:l}):r]})})};var world_3_construction=()=>{var n,t,e,l,p,h,w,B,k;let{state:O}=(0,g.useContext)(j.I),[T,N]=(0,g.useState)("build"),[S,I]=(0,g.useState)(!0),[F,A]=(0,g.useState)("totalBuildRate"),[W,z]=(0,g.useState)(2500),[H,V]=(0,g.useState)(null==O?void 0:null===(n=O.account)||void 0===n?void 0:n.construction),[X,D]=(0,g.useState)(null),[J,L]=(0,g.useState)(null),[M,q]=(0,g.useState)({list:[],current:0}),handleCopy=async n=>{try{await navigator.clipboard.writeText(n)}catch(n){console.error(n)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.PB,{title:"Idleon Toolbox | Construction",description:"Keep track of your construction board, cogs information and more"}),(0,o.jsx)(i.Z,{variant:"h2",textAlign:"center",mb:3,children:"Construction"}),(0,o.jsxs)(r.Z,{alignItems:"center",children:[(0,o.jsxs)(a.Z,{value:T,exclusive:!0,onChange:(n,t)=>(null==t?void 0:t.length)?N(t):null,children:[(0,o.jsx)(u.Z,{value:"build",children:"Build"}),(0,o.jsx)(u.Z,{value:"buildPercent",children:"Build %"}),(0,o.jsx)(u.Z,{value:"exp",children:"Exp"}),(0,o.jsx)(u.Z,{value:"flaggy",children:"Flaggy"}),(0,o.jsx)(u.Z,{value:"classExp",children:"Class Exp"})]}),(0,o.jsxs)(r.Z,{my:1,children:[(0,o.jsxs)(r.Z,{my:1,gap:1,direction:"row",alignItems:"center",justifyContent:"center",children:[(0,o.jsxs)(i.Z,{variant:"h6",textAlign:"center",children:["Cogstruction"," "]}),(0,o.jsx)(b.Z,{followCursor:!1,title:(0,o.jsxs)(o.Fragment,{children:["You can export your data and use it in"," ",(0,o.jsx)(_.Z,{target:"_blank",underline:"always",color:"info.dark",href:"https://github.com/automorphis/Cogstruction",rel:"noreferrer",children:"Cogstruction"})]}),children:(0,o.jsx)(C.Z,{})})]}),(0,o.jsxs)(r.Z,{direction:"row",gap:2,children:[(0,o.jsx)(f.Z,{variant:"contained",color:"primary",sx:{textTransform:"unset"},onClick:()=>{var n,t,e;return handleCopy(null==O?void 0:null===(e=O.account)||void 0===e?void 0:null===(t=e.construction)||void 0===t?void 0:null===(n=t.cogstruction)||void 0===n?void 0:n.cogData)},startIcon:(0,o.jsx)(Z.Z,{}),children:"Cogstruction Data"}),(0,o.jsx)(f.Z,{variant:"contained",color:"primary",sx:{textTransform:"unset"},onClick:()=>{var n,t,e;return handleCopy(null==O?void 0:null===(e=O.account)||void 0===e?void 0:null===(t=e.construction)||void 0===t?void 0:null===(n=t.cogstruction)||void 0===n?void 0:n.empties)},startIcon:(0,o.jsx)(Z.Z,{}),children:"Cogstruction Empties"})]})]}),(0,o.jsxs)(r.Z,{direction:"row",my:2,gap:2,children:[(0,o.jsx)(CardTitleAndValue,{title:"Total Build Speed",children:(0,o.jsxs)(r.Z,{alignItems:"center",gap:1,children:[(0,o.jsxs)(i.Z,{children:[(0,m.notateNumber)(null==O?void 0:null===(e=O.account)||void 0===e?void 0:null===(t=e.construction)||void 0===t?void 0:t.totalBuildRate),"/HR"]}),X?(0,o.jsx)(P.Z,{}):null,X?(0,o.jsxs)(i.Z,{sx:{color:"info.light"},children:[(0,m.notateNumber)(null==X?void 0:X.totalBuildRate),"/HR (+",(0,m.notateNumber)((null==X?void 0:X.totalBuildRate)-(null==O?void 0:null===(p=O.account)||void 0===p?void 0:null===(l=p.construction)||void 0===l?void 0:l.totalBuildRate)),")"]}):null]})}),(0,o.jsx)(CardTitleAndValue,{title:"Player XP Bonus",value:"".concat((0,m.notateNumber)(null==O?void 0:null===(w=O.account)||void 0===w?void 0:null===(h=w.construction)||void 0===h?void 0:h.totalExpRate),"%")}),(0,o.jsx)(CardTitleAndValue,{title:"Flaggy Rate",value:"".concat((0,m.notateNumber)(null==O?void 0:null===(k=O.account)||void 0===k?void 0:null===(B=k.construction)||void 0===B?void 0:B.totalFlaggyRate),"/HR")}),(0,o.jsx)(CardTitleAndValue,{title:"Hover",children:(0,o.jsx)(r.Z,{sx:{maxWidth:200},children:(0,o.jsx)(d.Z,{control:(0,o.jsx)(c.Z,{checked:S,onChange:()=>I(!S)}),name:"showTooltip",label:"Show tooltip"})})}),(0,o.jsx)(CardTitleAndValue,{title:"Optimize",children:(0,o.jsxs)(r.Z,{gap:1,children:[(0,o.jsx)(s.Z,{onChange:n=>{let{target:t}=n;return z(t.value)},type:"number",inputProps:{min:0},variant:"standard",label:"Solve time (in ms)",value:W}),(0,o.jsx)(v.Z,{fullWidth:!0,size:"small",variant:"standard",children:(0,o.jsx)(x.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:F,label:"Age",onChange:n=>A(n.target.value),children:(0,o.jsx)(R.Z,{value:"totalBuildRate",children:"Build speed"})})}),(0,o.jsx)(f.Z,{variant:"contained",onClick:()=>{var n,t,e;V(null==O?void 0:null===(n=O.account)||void 0===n?void 0:n.construction);let l=JSON.parse(JSON.stringify(null==O?void 0:null===(e=O.account)||void 0===e?void 0:null===(t=e.construction)||void 0===t?void 0:t.baseBoard)),o=(0,E.ai)(l,F);q({list:null==o?void 0:o.moves,current:0}),D(o)},children:"Optimize"})]})})]}),(0,o.jsx)(World3_ConstructionBoard,{view:T,showTooltip:S,setOutsideHighlight:L,relations:null==H?void 0:H.relations,move:M.list[M.current],board:null==H?void 0:H.board}),X?(0,o.jsx)(i.Z,{sx:{mt:3},variant:"caption",children:"* Hovering over a cog in the lower board will reveal where the same cog was originally placed on the upper board."}):null,X?(0,o.jsx)(World3_ConstructionBoard,{view:T,outsideHighlight:J,showTooltip:S,relations:null==X?void 0:X.relations,board:null==X?void 0:X.board}):null]})]})}}},function(n){n.O(0,[3380,1508,9774,2888,179],function(){return n(n.s=87789)}),_N_E=n.O()}]);