(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5257],{6242:function(n,e,o){"use strict";o.d(e,{Z:function(){return p}});var t=o(7462),r=o(3366),i=o(7294),l=o(6010),a=o(4780),d=o(948),s=o(1657),c=o(5113),u=o(4867);function v(n){return(0,u.Z)("MuiCard",n)}(0,o(1588).Z)("MuiCard",["root"]);var x=o(5893);let h=["className","raised"],f=n=>{let{classes:e}=n;return(0,a.Z)({root:["root"]},v,e)},Z=(0,d.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(n,e)=>e.root})(()=>({overflow:"hidden"})),m=i.forwardRef(function(n,e){let o=(0,s.Z)({props:n,name:"MuiCard"}),{className:i,raised:a=!1}=o,d=(0,r.Z)(o,h),c=(0,t.Z)({},o,{raised:a}),u=f(c);return(0,x.jsx)(Z,(0,t.Z)({className:(0,l.Z)(u.root,i),elevation:a?8:void 0,ref:e,ownerState:c},d))});var p=m},4267:function(n,e,o){"use strict";o.d(e,{Z:function(){return m}});var t=o(7462),r=o(3366),i=o(7294),l=o(6010),a=o(4780),d=o(948),s=o(1657),c=o(4867);function u(n){return(0,c.Z)("MuiCardContent",n)}(0,o(1588).Z)("MuiCardContent",["root"]);var v=o(5893);let x=["className","component"],h=n=>{let{classes:e}=n;return(0,a.Z)({root:["root"]},u,e)},f=(0,d.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Z=i.forwardRef(function(n,e){let o=(0,s.Z)({props:n,name:"MuiCardContent"}),{className:i,component:a="div"}=o,d=(0,r.Z)(o,x),c=(0,t.Z)({},o,{component:a}),u=h(c);return(0,v.jsx)(f,(0,t.Z)({as:a,className:(0,l.Z)(u.root,i),ownerState:c,ref:e},d))});var m=Z},4028:function(n,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-3/towers",function(){return o(5263)}])},5263:function(n,e,o){"use strict";o.r(e);var t=o(2729),r=o(5893),i=o(7294),l=o(9597),a=o(5861),d=o(6447),s=o(6242),c=o(4267),u=o(9574),v=o(5934),x=o(7277),h=o(2962);function f(){let n=(0,t._)(["\n  width: 50px;\n  height: 50px;\n  object-fit: contain;\n"]);return f=function(){return n},n}function Z(){let n=(0,t._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return Z=function(){return n},n}let m=()=>{var n,e,o;let{state:t}=(0,i.useContext)(l.I),v=(0,i.useMemo)(()=>{var n,e,o;return null==t?void 0:null===(n=t.account)||void 0===n?void 0:null===(e=n.towers)||void 0===e?void 0:null===(o=e.data)||void 0===o?void 0:o.find(n=>5===n.index)},[t]),f=(n,e,o,t,r)=>n.map(n=>{let{rawName:i,name:l,amount:a}=n,d=Math.min(.1,.1*Math.floor((r.level+999)/1e3)),s=Math.max(0,r.level-1),c=Math.max(.2,1-(d+s*r.costInc[0]/100));return i.includes("Refinery")?{rawName:i,name:l,amount:Math.floor(c*a*(e+1))}:{rawName:i,name:l,amount:Math.floor(c*a*Math.pow(t+.03-(t+.03-1.05)*e/(o/2+e),e))}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.PB,{title:"Idleon Toolbox | Towers",description:"Keep track of your towers levels, bonuses and required materials for upgrades"}),(0,r.jsx)(a.Z,{variant:"h2",mb:3,children:"Towers"}),(0,r.jsx)(d.Z,{direction:"row",flexWrap:"wrap",gap:3,children:null==t?void 0:null===(n=t.account)||void 0===n?void 0:null===(e=n.towers)||void 0===e?void 0:null===(o=e.data)||void 0===o?void 0:o.map((n,e)=>{var o,i,l,h,Z;let{name:m,progress:j,level:g,maxLevel:C,bonusInc:M,itemReq:_,inProgress:b}=n,N=f(_,g,C,M,v),R=(0,x.ZX)(null==t?void 0:null===(o=t.account)||void 0===o?void 0:o.towers,g,M,null==n?void 0:n.index);if((null==n?void 0:n.index)>=9&&(null==n?void 0:n.index)<=17){let n=null==t?void 0:null===(i=t.account)||void 0===i?void 0:null===(l=i.atoms)||void 0===l?void 0:null===(h=l.atoms)||void 0===h?void 0:h.find(n=>{let{name:e}=n;return"Carbon_-_Wizard_Maximizer"===e}),e=(null==n?void 0:n.level)*(null==n?void 0:n.baseBonus);C+=e}return(0,r.jsx)(s.Z,{sx:{border:b?"1px solid":"",borderColor:b?j<R?"success.light":"warning.light":"",width:{xs:"100%",md:450},height:{md:160}},children:(0,r.jsx)(c.Z,{children:(0,r.jsxs)(d.Z,{direction:"row",sx:{gap:{xs:2,sm:3}},flexWrap:"wrap",children:[(0,r.jsxs)(d.Z,{alignItems:"center",sx:{width:105,textAlign:"center"},children:[(0,r.jsx)(a.Z,{children:(0,u.cleanUnderscore)(m)}),(0,r.jsx)(p,{src:"".concat(u.prefix,"data/ConTower").concat(null==n?void 0:n.index,".png"),alt:""}),(0,r.jsxs)(a.Z,{children:["Lv. ",g," / ",C]})]}),(0,r.jsxs)(d.Z,{sx:{width:100},children:[(0,r.jsx)(a.Z,{mb:2,children:"Progress"}),g===C?(0,r.jsx)(a.Z,{color:"success.light",children:"MAXED"}):(0,r.jsxs)(a.Z,{children:[(0,u.notateNumber)(j,"Big")," / ",(0,u.notateNumber)(R,"Big")]})]}),g===C?null:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(a.Z,{mb:2,children:"Cost"}),(0,r.jsx)(d.Z,{direction:"row",gap:1,children:null==N?void 0:N.map((n,e)=>{let{rawName:o,amount:t}=n;return(0,r.jsxs)(d.Z,{alignItems:"center",children:[(0,r.jsx)(w,{src:"".concat(u.prefix,"data/").concat(o,".png"),alt:""}),(0,r.jsx)(a.Z,{children:t})]},"".concat(m,"-").concat(o,"-").concat(e))})})]})]})})},"".concat(m,"-").concat(e))})})]})},p=v.Z.img(f()),w=v.Z.img(Z());e.default=m}},function(n){n.O(0,[9774,2888,179],function(){return n(n.s=4028)}),_N_E=n.O()}]);