(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5860],{9936:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/dungeons",function(){return t(8915)}])},3948:function(n,e,t){"use strict";var l=t(2729),r=t(5893),i=t(7294),o=t(6986),s=t(3913),d=t(9574),c=t(1599),u=t(5861);function a(){let n=(0,l._)(["\n  .overtime {\n    color: #f91d1d;\n  }\n"]);return a=function(){return n},n}let h=n=>{let{date:e,startDate:t,lastUpdated:l,stopAtZero:c,type:a,pause:h,staticTime:p,placeholder:j,loop:g,variant:v="inherit"}=n,[Z,f]=(0,i.useState)();(0,i.useEffect)(()=>{if(e){if(p){if(!isFinite(e))return;return f({...(0,d.getDuration)(new Date().getTime(),e)})}let n=new Date,t=n.getTime()-(null!=l?l:0),r=(0,s.Z)(e);f({...(0,d.getDuration)(null==n?void 0:n.getTime(),e+t*("countdown"===a?-1:1)),overtime:"countdown"===a&&r})}},[e,l]);let w=()=>{let{days:n,hours:e,minutes:t,seconds:l}=Z;60===(l+=1)&&(l=0,60===(t+=1)&&(t=0,24===(e+=1)&&(n+=1))),f({...Z,days:n,hours:e,minutes:t,seconds:l})},m=()=>{let{days:n,hours:e,minutes:l,seconds:r}=Z;if(0===n&&0===e&&0===l&&0===r){if(c)return;if(g)return f({...(0,d.getDuration)(new Date().getTime(),t)})}-1==(r-=1)&&(r=59,-1==(l-=1)&&(l=59,-1==(e-=1)&&(e=0,n-=1))),f({...Z,days:n,hours:e,minutes:l,seconds:r})};(0,o.Z)(()=>{if(!Z)return null;"countdown"!==a||(null==Z?void 0:Z.overtime)?w():m()},h||p?null:1e3);let y=n=>{let e=String(n);return(null==e?void 0:e.length)===1?"0".concat(n):n};return Z?(0,r.jsx)(x,{children:((null==Z?void 0:Z.overtime)||h)&&j?j:(0,r.jsxs)(u.Z,{variant:v,className:"".concat((null==Z?void 0:Z.overtime)&&!g?"overtime":""),component:"span",children:[(null==Z?void 0:Z.days)?y(null==Z?void 0:Z.days)+"d:":"",y(null==Z?void 0:Z.hours)+"h:",y(null==Z?void 0:Z.minutes)+"m",(null==Z?void 0:Z.days)?"":":",(null==Z?void 0:Z.days)?"":y(null==Z?void 0:Z.seconds)+"s"]})}):null},x=c.Z.span(a());e.Z=h},8915:function(n,e,t){"use strict";t.r(e);var l=t(2729),r=t(5893),i=t(7294),o=t(5861),s=t(1233),d=t(7358),c=t(8895),u=t(2797),a=t(6242),h=t(4267),x=t(9574),p=t(9597),j=t(1599),g=t(3948),v=t(3508),Z=t(5039),f=t(2962);function w(){let n=(0,l._)(["\n  width: 25px;\n  object-fit: contain;\n"]);return w=function(){return n},n}let m=()=>{let{state:n}=(0,i.useContext)(p.I),{dungeons:e}=(null==n?void 0:n.account)||{},t=(0,i.useMemo)(()=>{var e;return(0,Z.IS)(null==n?void 0:null===(e=n.serverVars)||void 0===e?void 0:e.HappyHours)||[]},[n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.PB,{title:"Idleon Toolbox | Dungeons",description:"Dungeon information including happy hour times, currency, upgrades and more"}),(0,r.jsx)(o.Z,{my:2,variant:"h2",children:"Dungeons"}),(0,r.jsxs)(s.Z,{direction:"row",flexWrap:"wrap",gap:4,children:[(0,r.jsxs)(y,{children:[(0,r.jsx)(_,{src:"".concat(x.prefix,"data/Dung_Rank").concat(null==e?void 0:e.rank,".png"),alt:""}),(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)(o.Z,{children:["Rank: ",null==e?void 0:e.rank]}),(0,r.jsxs)(o.Z,{children:[null==e?void 0:e.progress," / ",null==e?void 0:e.rankReq]})]})]}),(0,r.jsxs)(y,{children:[(0,r.jsx)("img",{src:"".concat(x.prefix,"etc/boosted-runs.png"),alt:""}),(0,r.jsx)(o.Z,{children:null==e?void 0:e.boostedRuns}),(0,r.jsx)(_,{src:"".concat(x.prefix,"data/DungCredits1.png"),alt:""}),null==e?void 0:e.credits,(0,r.jsx)(_,{src:"".concat(x.prefix,"data/DungCredits2.png"),alt:""}),null==e?void 0:e.flurbos]})]}),(0,r.jsx)(s.Z,{my:2,direction:"row",gap:4,children:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(c.Z,{expandIcon:t.length>1?(0,r.jsx)(v.Z,{}):null,children:(0,r.jsxs)(s.Z,{direction:"row",gap:2,children:[(0,r.jsx)(o.Z,{children:"Next happy hour:"}),(null==t?void 0:t.length)>0?(0,r.jsx)(g.Z,{type:"countdown",date:null==t?void 0:t[0],lastUpdated:null==n?void 0:n.lastUpdated}):"waiting for lava to set them"]})}),t.length>1?(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(o.Z,{mb:1,children:"Future happy hours"}),(0,r.jsx)(s.Z,{gap:2,children:t.map((e,t)=>0===t?null:(0,r.jsxs)(s.Z,{direction:"row",gap:3,children:[(0,r.jsxs)(o.Z,{sx:{width:40},children:["#",t]}),(0,r.jsx)(g.Z,{date:e,lastUpdated:null==n?void 0:n.lastUpdated},"happy-".concat(t))]},"next-happy-hour-".concat(t)))})]}):null]})}),(0,r.jsxs)(s.Z,{direction:"row",flexWrap:"wrap",gap:4,children:[(0,r.jsx)(D,{upgrades:null==e?void 0:e.insideUpgrades}),(0,r.jsx)(D,{isFlurbo:!0,upgrades:null==e?void 0:e.upgrades})]})]})},y=n=>{let{column:e,sx:t={},children:l}=n;return(0,r.jsx)(a.Z,{sx:t,children:(0,r.jsx)(h.Z,{sx:{height:"100%",display:"flex"},children:(0,r.jsx)(s.Z,{direction:e?"column":"row",gap:1,justifyContent:"center",alignItems:"center",children:l})})})},_=j.Z.img(w()),D=n=>{let{isFlurbo:e,upgrades:t=[]}=n,l=n=>(0,x.growth)(null==n?void 0:n.func,null==n?void 0:n.level,null==n?void 0:n.x1,null==n?void 0:n.x2),i=n=>{let t=0;for(let l=n;l<(e?50:100);l++)t+=d(l);return t},d=n=>e?Math.floor(1+Math.pow(1.7*n,1.05)*Math.pow(1.027+(n-30)/(n+30)*.01*Math.floor((n+970)/1e3),n)):Math.floor(2+Math.pow(1.5*n,1.04)*Math.pow(1.024+(n-60)/(n+60)*.01*Math.floor((n+940)/1e3),n));return(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)(o.Z,{my:2,variant:"h4",children:[e?"Flurbo":"Dungeon"," Upgrades"]}),(0,r.jsx)(s.Z,{gap:1,children:t.map((n,t)=>{let{level:c,type:u,effect:p}=n,j=c>=(e?50:100);return(0,r.jsx)(a.Z,{sx:{width:{md:450}},children:(0,r.jsx)(h.Z,{children:(0,r.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",gap:2,children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)(o.Z,{children:["+",l(n),"%"===u?u:""," ",(0,x.cleanUnderscore)(p)]}),(0,r.jsx)(o.Z,{color:j?"success.light":"",children:j?"MAXED":"Lv. ".concat(c," / ").concat(e?50:100)})]}),(0,r.jsxs)(s.Z,{direction:"row",gap:3,children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(o.Z,{color:"info.light",children:"Cost"}),(0,r.jsx)(o.Z,{children:d(c)})]}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(o.Z,{color:"info.light",children:"Cost to max"}),(0,r.jsx)(o.Z,{children:i(c)})]})]})]})})},"".concat(p,"-").concat(t))})})]})};e.default=m}},function(n){n.O(0,[1927,9774,2888,179],function(){return n(n.s=9936)}),_N_E=n.O()}]);