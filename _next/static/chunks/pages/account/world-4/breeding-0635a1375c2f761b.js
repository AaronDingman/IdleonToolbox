(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6057],{52177:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-4/breeding",function(){return l(51294)}])},75712:function(e,n,l){"use strict";var t=l(85893),i=l(67294),o=l(98396),r=l(11703),a=l(40044);n.Z=e=>{let{tabs:n,children:l,onTabChange:c}=e,[d,s]=(0,i.useState)(0),u=(0,o.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),v=Array.isArray(l)?l:[l];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{centered:!u||u&&n.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:u&&n.length>4?"scrollable":"standard",value:d,onChange:(e,n)=>{s(n),c&&c(n)},children:null==n?void 0:n.map((e,n)=>(0,t.jsx)(a.Z,{label:e},"".concat(e,"-").concat(n)))}),c?l:null==v?void 0:v.map((e,n)=>n===d?e:null)]})}},15461:function(e,n,l){"use strict";var t=l(85893),i=l(67294),o=l(25801),r=l(33913),a=l(1356),c=l(15861);let d=(0,i.forwardRef)((e,n)=>{let{date:l,startDate:d,lastUpdated:s,stopAtZero:u,type:v,pause:x,staticTime:p,placeholder:h,loop:g,variant:m="inherit",...j}=e,[Z,f]=(0,i.useState)();(0,i.useEffect)(()=>{if(l){if(p){if(!isFinite(l))return;return f({...(0,a.getDuration)(new Date().getTime(),l)})}let e=new Date,n=e.getTime()-(null!=s?s:0),t=(0,r.Z)(l);f({...(0,a.getDuration)(null==e?void 0:e.getTime(),l+n*("countdown"===v?-1:1)),overtime:"countdown"===v&&t})}},[l,s]);let tickUp=()=>{let{days:e,hours:n,minutes:l,seconds:t}=Z;60===(t+=1)&&(t=0,60===(l+=1)&&(l=0,24===(n+=1)&&(e+=1))),f({...Z,days:e,hours:n,minutes:l,seconds:t})},tickDown=()=>{let{days:e,hours:n,minutes:l,seconds:t}=Z;if(0===e&&0===n&&0===l&&0===t){if(u)return;if(g)return f({...(0,a.getDuration)(new Date().getTime(),d)})}-1==(t-=1)&&(t=59,-1==(l-=1)&&(l=59,-1==(n-=1)&&(n=0,e-=1))),f({...Z,days:e,hours:n,minutes:l,seconds:t})};(0,o.Z)(()=>{if(!Z)return null;"countdown"!==v||(null==Z?void 0:Z.overtime)?tickUp():tickDown()},x||p?null:1e3);let wrapNumber=e=>{let n=String(e);return(null==n?void 0:n.length)===1?"0".concat(e):e};return Z?((null==Z?void 0:Z.overtime)||x)&&h?(0,t.jsx)(c.Z,{...j,ref:n,children:h}):(0,t.jsxs)(c.Z,{...j,ref:n,variant:m,sx:{color:"".concat((null==Z?void 0:Z.overtime)&&!g?"#f91d1d":"")},component:"span",children:[(null==Z?void 0:Z.days)?wrapNumber(null==Z?void 0:Z.days)+"d:":"",wrapNumber(null==Z?void 0:Z.hours)+"h:",wrapNumber(null==Z?void 0:Z.minutes)+"m",(null==Z?void 0:Z.days)?"":":",(null==Z?void 0:Z.days)?"":wrapNumber(null==Z?void 0:Z.seconds)+"s"]}):null});n.Z=d},51294:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return world_4_breeding}});var t=l(85893),i=l(67294),o=l(51626),r=l(15861),a=l(51233),c=l(66242),d=l(44267),s=l(82729),u=l(1356),v=l(61599),x=l(74489),p=l(66532);function _templateObject(){let e=(0,s._)(["\n  object-fit: contain;\n  width: 72px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,s._)(["\n  width: 82px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: -20px;\n\n  & img:nth-of-type(1) {\n    margin-top: -30px;\n  }\n\n  & img {\n    margin-left: -30px;\n  }\n"]);return _templateObject1=function(){return e},e}let h=v.Z.img(_templateObject()),g=v.Z.div(_templateObject1());var Breeding_BreedingUpgrades=e=>{let{account:n,petUpgrades:l,meals:i}=e,calcFoodCost=e=>(null==e?void 0:e.baseCost)*(1+(null==e?void 0:e.level))*Math.pow(null==e?void 0:e.costScale,null==e?void 0:e.level),calcCellCost=e=>(null==e?void 0:e.baseMatCost)*(1+(null==e?void 0:e.level))*Math.pow(null==e?void 0:e.costMatScale,null==e?void 0:e.level),calcCostToMax=(e,n)=>{let l=0;for(let t=null==e?void 0:e.level;t<(null==e?void 0:e.maxLevel);t++)l+=n?calcFoodCost({...e,level:t}):calcCellCost({...e,level:t});return null!=l?l:0},getTotalBonus=(e,l)=>{if(9===l){var t;let l=(0,p.eA)(null==n?void 0:null===(t=n.cooking)||void 0===t?void 0:t.kitchens);return Math.pow(Math.max(1,e),l/100)}return 0},calcBonus=(e,l)=>0===l||2===l||4===l?null==e?void 0:e.level:1===l?4*(null==e?void 0:e.level):3===l?25*(null==e?void 0:e.level):5===l?(1+.25*(null==e?void 0:e.level))*Math.min(2,Math.max(1,1+.1*(0,x.k)(null==n?void 0:n.achievements,221))):6===l?6*(null==e?void 0:e.level):7===l?1+.15*(null==e?void 0:e.level):8===l?1+2*(null==e?void 0:e.level):9===l?1+.02*(null==e?void 0:e.level):10===l?10*(null==e?void 0:e.level):11===l?Math.ceil(12*Math.pow(null==e?void 0:e.level,.698)):0;return(0,t.jsx)(a.Z,{direction:"row",flexWrap:"wrap",justifyContent:"center",gap:2,children:null==l?void 0:l.map((e,n)=>{var l;if((null==e?void 0:e.name)==="Filler")return null;let o=null==i?void 0:null===(l=i[null==e?void 0:e.foodIndex])||void 0===l?void 0:l.amount,s=calcFoodCost(e),v=(0,u.notateNumber)(calcCostToMax(e,!0)),x=(0,u.notateNumber)(calcCostToMax(e)),p=calcBonus(e,n),m=getTotalBonus(p,n);return(0,t.jsx)(c.Z,{sx:{width:300,opacity:(null==e?void 0:e.level)===0?.5:1},children:(0,t.jsxs)(d.Z,{children:[(0,t.jsxs)(a.Z,{direction:"row",alignItems:"center",mb:2,children:[(0,t.jsxs)(a.Z,{alignItems:"center",children:[(0,t.jsx)(h,{style:{opacity:0===n?0:1},src:"".concat(u.prefix,"data/PetUpg").concat(0===n?0:n-1,".png"),alt:""}),(0,t.jsxs)(r.Z,{children:["Lv.",null==e?void 0:e.level," / ",null==e?void 0:e.maxLevel]})]}),(0,t.jsx)(r.Z,{variant:"h6",sx:{fontWeight:"bold"},children:(0,u.cleanUnderscore)(null==e?void 0:e.name)})]}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(r.Z,{children:(0,u.cleanUnderscore)(null==e?void 0:e.description)})}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsxs)(a.Z,{direction:"row",my:1,children:[(0,t.jsx)(r.Z,{sx:{fontWeight:"bold"},children:"Effect:\xa0"}),(0,t.jsx)(r.Z,{children:(null==e?void 0:e.boostEffect)==="_"?"NOTHING":(0,u.cleanUnderscore)(null==e?void 0:e.boostEffect.replace("}",p))})]}),(0,t.jsxs)(a.Z,{mt:2,gap:2,children:[(0,t.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,t.jsx)("img",{src:"".concat(u.prefix,"data/").concat(null==e?void 0:e.material,".png"),alt:""}),(0,u.notateNumber)(calcCellCost(e)),(0,t.jsxs)("div",{children:["(",x,")"]})]}),n>0?(0,t.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,t.jsxs)(g,{children:[(0,t.jsx)("img",{src:"".concat(u.prefix,"data/CookingMB").concat(null==e?void 0:e.foodIndex,".png"),alt:""}),(0,t.jsx)("img",{src:"".concat(u.prefix,"data/CookingPlate0.png"),alt:""})]}),(0,t.jsx)("div",{style:{textAlign:"center"},children:(0,t.jsxs)(r.Z,{children:[(0,u.notateNumber)(o)," / ",(0,u.notateNumber)(s)," (",v,")"]})})]}):null,m>0?(0,t.jsxs)(r.Z,{children:["Total Bonus: ",(0,u.notateNumber)(m,"MultiplierInfo"),"x"]}):null]})]})]})},(null==e?void 0:e.name)+""+n)})})},Breeding_BreedingArena=e=>{let{maxArenaLevel:n,arenaBonuses:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{direction:"row",justifyContent:"center",my:3,children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(d.Z,{children:(0,t.jsxs)(r.Z,{sx:{color:"success.light"},children:["Max level: ",n]})})})}),(0,t.jsx)(a.Z,{direction:"row",justifyContent:"center",flexWrap:"wrap",gap:2,children:null==l?void 0:l.map((e,l)=>{let{bonus:i,wave:o}=e;return(0,t.jsx)(c.Z,{variant:"outlined",sx:{width:200,opacity:n<o?.5:1},children:(0,t.jsxs)(d.Z,{children:[(0,t.jsxs)(r.Z,{sx:{fontWeight:"bold"},children:["Wave ",o]}),(0,t.jsx)(r.Z,{children:(0,u.cleanUnderscore)((0,u.pascalCase)(i))})]})},"".concat(o,"-").concat(l))})})]})},m=l(2962),j=l(49425),Z=l(50480),f=l(69368),w=l(61903),b=l(67720),y=l(43139),_=l(94423),T=l(15461),C=l(70478);function Pets_templateObject(){let e=(0,s._)(["\n  width: 44px;\n  height: 44px;\n"]);return Pets_templateObject=function(){return e},e}function Pets_templateObject1(){let e=(0,s._)(["\n  width: 48px;\n  height: 48px;\n  object-fit: ",";\n  ","\n"]);return Pets_templateObject1=function(){return e},e}let N=v.Z.img(Pets_templateObject()),M=v.Z.img(Pets_templateObject1(),e=>{let{missingIcon:n}=e;return n?"contain":"none"},e=>{let{missingIcon:n}=e;return n&&"object-position: 0 100%;"});var Breeding_Pets=e=>{let{pets:n,lab:l,fencePetsObject:o,fencePets:s,passivesTotals:v,lastUpdated:x}=e,[p,h]=(0,i.useState)(!0),[g,m]=(0,i.useState)(5),[B,U]=(0,i.useState)(!1),calcShinyLvMulti=()=>{let e=(0,y.c9)(l.labBonuses,8),t=(0,y.pc)(l.jewels,15,e),i=(0,_.du)(n,"Faster_Shiny_Pet_Lv_Up_Rate");return 1+(t+i)/100},k=(0,i.useMemo)(()=>calcShinyLvMulti(),[n]),P=(0,i.useMemo)(()=>null==s?void 0:s.map(e=>({...e,timeLeft:((null==e?void 0:e.goal)-(null==e?void 0:e.progress))/k/((null==o?void 0:o[null==e?void 0:e.monsterRawName])||1)*864e5})).sort((e,n)=>(null==e?void 0:e.timeLeft)-(null==n?void 0:n.timeLeft)),[s]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{direction:"row",flexWrap:"wrap",gap:2,my:5,children:null==P?void 0:P.map((e,n)=>{let l=((null==e?void 0:e.icon)==="Mface23"||(null==e?void 0:e.icon)==="Mface21")&&(null==e?void 0:e.monsterRawName)!=="shovelR",i=null==o?void 0:o[null==e?void 0:e.monsterRawName],s=((null==e?void 0:e.goal)-(null==e?void 0:e.progress))/k/((null==o?void 0:o[null==e?void 0:e.monsterRawName])||1)*864e5,p=(0,_.cg)(e,k,i,5);return(0,t.jsx)(j.Z,{anchorOrigin:{vertical:"top",horizontal:"left"},badgeContent:i,color:"primary",children:(0,t.jsx)(c.Z,{sx:{width:200,display:"flex",alignItems:"center",p:0},children:(0,t.jsxs)(d.Z,{sx:{"&:last-child":{padding:1}},children:[(0,t.jsxs)(a.Z,{alignItems:"center",direction:"row",gap:1,children:[(0,t.jsx)(M,{style:{filter:"hue-rotate(".concat((0,u.randomFloatBetween)(45,180),"deg)")},src:l?"".concat(u.prefix,"afk_targets/").concat(null==e?void 0:e.monsterName,".png"):"".concat(u.prefix,"data/").concat(null==e?void 0:e.icon,".png"),missingIcon:l,alt:""}),(0,t.jsxs)(a.Z,{children:[(0,t.jsxs)(r.Z,{children:["Lv. ",null==e?void 0:e.shinyLevel]}),(0,t.jsxs)(a.Z,{direction:"row",gap:1,children:[(0,t.jsx)(r.Z,{component:"span",variant:"caption",children:"Next:"}),(0,t.jsx)(T.Z,{variant:"caption",type:"countdown",lastUpdated:x,staticTime:(null==e?void 0:e.progress)===0,date:new Date().getTime()+s})]}),p>0&&p!==s?(0,t.jsxs)(a.Z,{direction:"row",gap:1,children:[(0,t.jsx)(r.Z,{component:"span",variant:"caption",children:"To 5:"}),(0,t.jsx)(T.Z,{variant:"caption",type:"countdown",lastUpdated:x,staticTime:(null==e?void 0:e.progress)===0,date:new Date().getTime()+p})]}):null]})]}),(0,t.jsx)(a.Z,{sx:{mt:1},children:(0,t.jsxs)(r.Z,{textAlign:"center",variant:"caption",children:[(0,u.cleanUnderscore)(null==e?void 0:e.passive)," (",null==v?void 0:v[null==e?void 0:e.rawPassive],")"]})})]})})},"fence"+n)})}),(0,t.jsxs)(a.Z,{justifyContent:"center",flexWrap:"wrap",gap:2,children:[(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(Z.Z,{control:(0,t.jsx)(f.Z,{name:"mini",checked:p,size:"small",onChange:()=>h(!p)}),label:"Compact view"}),(0,t.jsx)(Z.Z,{control:(0,t.jsx)(f.Z,{name:"mini",checked:B,size:"small",onChange:()=>U(!B)}),label:"Apply level threshold"}),(0,t.jsx)(w.Z,{sx:{width:"fit-content"},type:"number",value:g,label:"Pet level threshold",onChange:e=>m(e.target.value),helperText:"Show pets under this level only"})]}),null==n?void 0:n.map((e,n)=>(0,t.jsxs)(i.Fragment,{children:[(0,t.jsxs)(r.Z,{variant:"h3",children:["World ",n+1]}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(d.Z,{children:(0,t.jsx)(a.Z,{direction:"row",flexWrap:"wrap",gap:1,children:null==e?void 0:e.map(e=>{let{monsterName:l,monsterRawName:i,icon:s,passive:v,level:h,shinyLevel:m,gene:j,unlocked:Z,progress:f,goal:w}=e,y=(w-f)/k/((null==o?void 0:o[i])||1)*864e5;if(B&&m>=g)return;let _=("Mface23"===s||"Mface21"===s)&&"shovelR"!==i;return(0,t.jsx)(c.Z,{variant:"outlined",sx:{opacity:Z?1:.6},children:(0,t.jsxs)(d.Z,{sx:{width:300},children:[(0,t.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)(M,{src:_?"".concat(u.prefix,"afk_targets/").concat(l,".png"):"".concat(u.prefix,"data/").concat(s,".png"),missingIcon:_,alt:""}),(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(r.Z,{children:(0,u.cleanUnderscore)(l)}),(0,t.jsxs)(r.Z,{variant:"caption",children:["Lv. ",h]}),(0,t.jsxs)(r.Z,{variant:"caption",sx:{opacity:m>0?1:.6},children:["Shiny Lv. ",m]}),(0,t.jsx)(C.Z,{title:"Faster Shiny Level Multi: ".concat(k,"x"),children:(0,t.jsxs)(r.Z,{variant:"caption",children:["Days ",(0,u.notateNumber)(f)," / ",w]})}),(0,t.jsx)(T.Z,{type:"countdown",lastUpdated:x,staticTime:0===f,date:new Date().getTime()+y})]})]}),(0,t.jsx)(b.Z,{sx:{my:1}}),(0,t.jsxs)(a.Z,{sx:{opacity:m>0?1:.6},children:[(0,t.jsx)(r.Z,{variant:"caption",children:"Shiny Passive:"}),(0,t.jsx)(r.Z,{children:(0,u.cleanUnderscore)(v)})]}),(0,t.jsx)(b.Z,{sx:{my:1}}),(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(r.Z,{variant:"caption",children:"Gene:"}),(0,t.jsxs)(a.Z,{direction:"row",gap:1,children:[(0,t.jsx)(N,{src:"".concat(u.prefix,"data/GeneReady").concat(null==j?void 0:j.index,".png"),alt:""}),(0,t.jsx)(r.Z,{children:(0,u.cleanUnderscore)(null==j?void 0:j.name)})]})]}),p?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Z,{sx:{mt:2},children:[(0,t.jsx)(r.Z,{variant:"caption",sx:{color:"error.light"},children:"Combat Ability:"}),(0,t.jsx)(r.Z,{children:(0,u.cleanUnderscore)(null==j?void 0:j.combatAbility)})]}),(0,t.jsxs)(a.Z,{sx:{mt:1},children:[(0,t.jsx)(r.Z,{variant:"caption",sx:{color:"success.light"},children:"Bonus Ability:"}),(0,t.jsx)(r.Z,{children:(0,u.cleanUnderscore)(null==j?void 0:j.bonusAbility)})]})]})]})},"".concat(l,"-").concat(n))})})})},"world-".concat(n))]},"world-".concat(n)))]})]})},B=l(86255),U=l(29529),k=l(75712),world_4_breeding=()=>{var e,n,l,s,v,h,g,j,Z,f,w,b;let{state:_}=(0,i.useContext)(o.I),calcTimePerEgg=()=>{var e,n,l,t,i,o,r,a,c,d,s,u,v;let h=(0,y.c9)(null==_?void 0:null===(n=_.account)||void 0===n?void 0:null===(e=n.lab)||void 0===e?void 0:e.labBonuses,8),g=(0,y.pc)(null==_?void 0:null===(t=_.account)||void 0===t?void 0:null===(l=t.lab)||void 0===l?void 0:l.jewels,16,h),m=(0,y.pc)(null==_?void 0:null===(o=_.account)||void 0===o?void 0:null===(i=o.lab)||void 0===i?void 0:i.jewels,11,h),j=(0,p.F4)(null==_?void 0:_.account,null,"TimeEgg",g),Z=(0,B.om)(null==_?void 0:null===(a=_.account)||void 0===a?void 0:null===(r=a.alchemy)||void 0===r?void 0:r.bubbles,"kazam","EGG_INK",!1),f=(0,x.k)(null==_?void 0:null===(c=_.account)||void 0===c?void 0:c.achievements,220),w=(0,U.pA)(null==_?void 0:null===(d=_.account)||void 0===d?void 0:d.rift,null==_?void 0:null===(v=_.account)||void 0===v?void 0:null===(u=v.totalSkillsLevels)||void 0===u?void 0:null===(s=u.breeding)||void 0===s?void 0:s.rank,1);return 7200/(1+(m+(j+(Z+(10*f+15*w))))/100)*1e3},C=(0,i.useMemo)(()=>calcTimePerEgg(),[_]),N=new Date().getTime();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.PB,{title:"Idleon Toolbox | Breeding",description:"Keep track of your breeding upgrades, eggs and arena upgrades"}),(0,t.jsx)(r.Z,{variant:"h2",textAlign:"center",mb:3,children:"Breeding"}),(0,t.jsx)(a.Z,{my:2,direction:"row",alignItems:"center",flexWrap:"wrap",gap:2,children:null==_?void 0:null===(l=_.account)||void 0===l?void 0:null===(n=l.breeding)||void 0===n?void 0:null===(e=n.eggs)||void 0===e?void 0:e.map((e,n)=>e>0?(0,t.jsx)(c.Z,{children:(0,t.jsx)(d.Z,{sx:{"&:last-child":{padding:"8px"},display:"flex",alignItems:"center"},children:(0,t.jsx)("img",{src:"".concat(u.prefix,"data/PetEgg").concat(e,".png"),alt:""})})},"egg-".concat(n)):null)}),(0,t.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",children:[(0,t.jsx)(c.Z,{children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(r.Z,{variant:"subtitle2",children:"Time to next egg"}),(0,t.jsx)(T.Z,{type:"countdown",stopAtZero:!0,date:N+(C-(null==_?void 0:null===(v=_.account)||void 0===v?void 0:null===(s=v.breeding)||void 0===s?void 0:s.timeToNextEgg)),lastUpdated:null==_?void 0:_.lastUpdated})]})}),(0,t.jsx)(c.Z,{children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(r.Z,{variant:"subtitle2",children:"Time per egg"}),(0,t.jsx)(T.Z,{staticTime:!0,date:new Date().getTime()+C})]})})]}),(0,t.jsx)(r.Z,{variant:"caption",children:"*Time to next egg timer will be updated only when entering world 4 town"}),(0,t.jsxs)(k.Z,{tabs:["Pets","Upgrades","Arena"],children:[(0,t.jsx)(Breeding_Pets,{...null==_?void 0:null===(h=_.account)||void 0===h?void 0:h.breeding,lab:null==_?void 0:null===(g=_.account)||void 0===g?void 0:g.lab,lastUpdated:null==_?void 0:_.lastUpdated}),(0,t.jsx)(Breeding_BreedingUpgrades,{petUpgrades:null==_?void 0:null===(Z=_.account)||void 0===Z?void 0:null===(j=Z.breeding)||void 0===j?void 0:j.petUpgrades,account:null==_?void 0:_.account,meals:null==_?void 0:null===(w=_.account)||void 0===w?void 0:null===(f=w.cooking)||void 0===f?void 0:f.meals}),(0,t.jsx)(Breeding_BreedingArena,{...null==_?void 0:null===(b=_.account)||void 0===b?void 0:b.breeding})]})]})}}},function(e){e.O(0,[2169,1922,9774,2888,179],function(){return e(e.s=52177)}),_N_E=e.O()}]);