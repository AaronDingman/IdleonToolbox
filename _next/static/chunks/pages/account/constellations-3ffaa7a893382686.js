(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3989],{27036:function(n,e,l){"use strict";var t=l(64836);e.Z=void 0;var i=t(l(64938)),o=l(85893),r=(0,i.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");e.Z=r},58849:function(n,e,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/constellations",function(){return l(89495)}])},75712:function(n,e,l){"use strict";var t=l(85893),i=l(67294),o=l(98396),r=l(11703),s=l(40044);e.Z=n=>{let{tabs:e,children:l,onTabChange:d}=n,[a,u]=(0,i.useState)(0),c=(0,o.Z)(n=>n.breakpoints.down("md"),{noSsr:!0}),v=Array.isArray(l)?l:[l];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{centered:!c||c&&e.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:c&&e.length>4?"scrollable":"standard",value:a,onChange:(n,e)=>{u(e),d&&d(e)},children:null==e?void 0:e.map((n,e)=>(0,t.jsx)(s.Z,{label:n},"".concat(n,"-").concat(e)))}),d?l:null==v?void 0:v.map((n,e)=>e===a?n:null)]})}},89495:function(n,e,l){"use strict";l.r(e),l.d(e,{default:function(){return constellations}});var t=l(85893),i=l(67294),o=l(51626),r=l(98396),s=l(51233),d=l(15861),a=l(86886),u=l(67720),c=l(1356),v=l(27036),Constellations=n=>{let{constellations:e=[]}=n,l=(0,r.Z)(n=>n.breakpoints.down("md"),{noSsr:!0});return(0,t.jsxs)(s.Z,{gap:3,children:[(0,t.jsxs)(d.Z,{variant:"h5",textAlign:"center",children:["Total Points: ",(()=>{let{ownedPoints:n,totalPoints:l}=null==e?void 0:e.reduce((n,e)=>{let{points:l,done:t}=e;return t&&(n.ownedPoints+=l),n.totalPoints+=l,n},{ownedPoints:0,totalPoints:0});return"".concat(n," / ").concat(l)})()]}),(0,t.jsxs)(a.ZP,{rowGap:2,justifyContent:"center",container:!0,children:[l?null:(0,t.jsx)(a.ZP,{item:!0,xs:1,children:(0,t.jsx)(d.Z,{variant:"body1",component:"span",children:"Name"})}),(0,t.jsx)(a.ZP,{item:!0,xs:1,children:(0,t.jsx)(d.Z,{variant:"body1",component:"span",children:l?"":"Progress"})}),(0,t.jsx)(a.ZP,{item:!0,xs:2,children:(0,t.jsx)(d.Z,{pl:l?0:6,variant:"body1",component:"span",children:l?"Loc.":"Location"})}),(0,t.jsx)(a.ZP,{item:!0,xs:3,children:(0,t.jsx)(d.Z,{pl:l?0:6,variant:"body1",component:"span",children:l?"Req.":"Requirement"})}),(0,t.jsx)(a.ZP,{item:!0,xs:4,children:(0,t.jsx)(d.Z,{pl:l?0:6,variant:"body1",component:"span",children:"Points"})}),(0,t.jsx)(a.ZP,{item:!0,md:1})]}),null==e?void 0:e.map((n,o)=>{var r;let{name:s,points:p,done:x,requirement:h,completedChars:m,requiredPlayers:g,location:j}=n;return(0,t.jsxs)(i.Fragment,{children:[(0,t.jsxs)(a.ZP,{rowGap:2,gap:1,container:!0,children:[l?null:(0,t.jsx)(a.ZP,{item:!0,xs:1,children:(0,t.jsx)(d.Z,{variant:"body1",component:"span",children:(0,c.cleanUnderscore)(s)})}),(0,t.jsx)(a.ZP,{item:!0,xs:1,children:x?(0,t.jsx)(v.Z,{color:"success"}):(0,t.jsx)(d.Z,{variant:"body1",component:"span",children:"".concat(null!==(r=null==m?void 0:m.length)&&void 0!==r?r:0,"/").concat(g)})}),(0,t.jsx)(a.ZP,{item:!0,xs:2,children:"End_Of_The_Road"===j?(0,c.cleanUnderscore)(j)+" *":(0,c.cleanUnderscore)(j)}),(0,t.jsx)(a.ZP,{item:!0,xs:3,children:(0,c.cleanUnderscore)(h)}),(0,t.jsx)(a.ZP,{item:!0,xs:2,sm:1,children:p}),(0,t.jsx)(a.ZP,{item:!0,xs:2,children:(null==m?void 0:m.length)>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{variant:"caption",component:"div",children:"Completed Chars"}),(0,t.jsxs)(d.Z,{variant:"caption",sx:{wordBreak:"break-word"},children:["indexes: ",(0,c.constellationIndexes)(m)]})]}):null})]}),e.length-1!==o?(0,t.jsx)(u.Z,{}):null]},s+" "+o)})]})},p=l(87357),x=l(75712),Misc_StarSigns=n=>{var e;let{starSigns:l,infiniteStars:o}=n,[h,m]=(0,i.useState)(0),g=(0,r.Z)(n=>n.breakpoints.down("md"),{noSsr:!0}),j=(0,i.useMemo)(()=>l.filter(n=>{let{tree:e}=n;return"chronus"===e}),[l,o]),f=(0,i.useMemo)(()=>l.filter(n=>{let{tree:e}=n;return"hydron"===e}),[l,o]);return o=0===h?o:o-34,(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(x.Z,{tabs:["chronus","hydron"],onTabChange:n=>m(n),children:(0,t.jsxs)(s.Z,{gap:3,children:[(0,t.jsxs)(a.ZP,{container:!0,children:[(0,t.jsx)(a.ZP,{item:!0,md:4,sx:{display:{sm:"none",md:"block"}},children:"Name"}),(0,t.jsx)(a.ZP,{item:!0,xs:8,md:4,children:"Bonuses"}),(0,t.jsx)(a.ZP,{item:!0,xs:2,md:4,pl:5,children:"Cost"})]}),null===(e=0===h?j:f)||void 0===e?void 0:e.map((n,e)=>{let{indexedStarName:r,cost:s,unlocked:x,bonuses:m,description:j}=n;return!r.includes("Filler")&&!r.includes("Unknown")&&(0,t.jsxs)(i.Fragment,{children:[(0,t.jsxs)(a.ZP,{rowGap:2,container:!0,children:[(0,t.jsxs)(a.ZP,{item:!0,alignItems:"center",gap:2,md:4,sx:{display:{sm:"none",md:"flex"},justifyContent:{xs:"center",sm:"center",md:"flex-start"}},children:[x?(0,t.jsx)(v.Z,{color:"success"}):(0,t.jsx)(p.Z,{width:24,height:24}),g?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{variant:"body1",component:"span",children:(0,c.cleanUnderscore)(r)}),o>=e?(0,t.jsx)("img",{src:"".concat(c.prefix,"data/SignStarInf").concat(0===h?0:1,".png"),alt:""}):null]})]}),(0,t.jsxs)(a.ZP,{item:!0,sm:7,md:4,display:"flex",alignItems:"center",gap:2,children:[g&&x?(0,t.jsx)(v.Z,{color:"success"}):null,(0,t.jsx)(d.Z,{variant:"body1",component:"span",children:m?null==m?void 0:m.map(n=>{let{rawName:e,bonus:l}=n;return(0,c.cleanUnderscore)(e.replace("{",l))}).join(", "):(0,c.cleanUnderscore)(j)})]}),(0,t.jsxs)(a.ZP,{item:!0,sm:4,md:4,children:[" ",(0,t.jsx)(d.Z,{variant:"body1",pl:5,component:"span",children:s})]})]}),l.length-1!==e?(0,t.jsx)(u.Z,{}):null]},name+" "+e)})]})})})},h=l(2962),m=l(94423),g=l(59404);let j=["Constellations","Star Signs"];var constellations=()=>{var n,e,l,r,s;let{state:d}=(0,i.useContext)(o.I),getInfiniteStar=(n,e)=>{if((0,g.R)(n,"Infinite_Stars"))return 5+(0,m.du)(e,"Infinite_Star_Signs")},sortStarSigns=n=>{let e=null==n?void 0:n.sort((n,e)=>n.indexedStarName.localeCompare(e.indexedStarName,"en",{numeric:!0})),l=null==e?void 0:e.pop();return e.splice(21,0,l),e},a=(0,i.useMemo)(()=>{var n,e,l;return getInfiniteStar(null==d?void 0:null===(n=d.account)||void 0===n?void 0:n.rift,null==d?void 0:null===(l=d.account)||void 0===l?void 0:null===(e=l.breeding)||void 0===e?void 0:e.pets)},[null==d?void 0:null===(n=d.account)||void 0===n?void 0:n.rift,null==d?void 0:null===(l=d.account)||void 0===l?void 0:null===(e=l.breeding)||void 0===e?void 0:e.pets]),u=(0,i.useMemo)(()=>{var n;return sortStarSigns(null==d?void 0:null===(n=d.account)||void 0===n?void 0:n.starSigns)},[null==d?void 0:null===(r=d.account)||void 0===r?void 0:r.starSigns]);return(0,t.jsxs)("div",{children:[(0,t.jsx)(h.PB,{title:"Idleon Toolbox | Constellations",description:"Constellation and star signs overview"}),(0,t.jsxs)(x.Z,{tabs:j,children:[(0,t.jsx)(Constellations,{constellations:null==d?void 0:null===(s=d.account)||void 0===s?void 0:s.constellations}),(0,t.jsx)(Misc_StarSigns,{starSigns:u,infiniteStars:a})]})]})}},94423:function(n,e,l){"use strict";l.d(e,{N5:function(){return getBreeding},cg:function(){return getTimeToLevel},du:function(){return getShinyBonus}});var t=l(94978),i=l(1356);let getBreeding=(n,e)=>{let l=(0,i.tryToParse)(null==n?void 0:n.Breeding)||(null==n?void 0:n.Breeding),t=(0,i.tryToParse)(null==n?void 0:n.Pets)||(null==n?void 0:n.Pets),o=(0,i.tryToParse)(null==n?void 0:n.PetsStored)||(null==n?void 0:n.PetsStored);return parseBreeding(l,t,o,e)},parseBreeding=(n,e,l,i)=>{var o,r,s,d,a,u,c;let v=null==n?void 0:n[0],p=null==n?void 0:null===(o=n[3])||void 0===o?void 0:o[8],x=null==n?void 0:n[1],h=null==n?void 0:null===(r=n[2])||void 0===r?void 0:r.map((n,e)=>({...t.petUpgrades[e]||[],level:n})),m=null==l?void 0:l.map(n=>{let[e,l,t]=n;return{name:e,level:l,power:t}}),g=null==n?void 0:n.slice(4,8),j=null==n?void 0:n.slice(22,26),f=null==n?void 0:null===(s=n[2])||void 0===s?void 0:s[4],Z=Math.round(5+f+2*(null!==(c=null==i?void 0:null===(d=i.gemShopPurchases)||void 0===d?void 0:d.find((n,e)=>125===e))&&void 0!==c?c:0)),P=null==e?void 0:e.slice(0,Z),S=null==P?void 0:P.reduce((n,e)=>{let[l,,,t]=e;return 0===t?n:{...n,[l]:(null==n?void 0:n[l])?(null==n?void 0:n[l])+1:1}},{}),w=[],y={},b=null===t.petStats||void 0===t.petStats?void 0:t.petStats.map((n,e)=>{let l=null==x?void 0:x[e];return null==n?void 0:n.map((n,t)=>{var i,o,r,s,d;let a=null===(i=Array(19).fill(1))||void 0===i?void 0:i.reduce((n,l,i)=>{var o;return(null==j?void 0:null===(o=j[e])||void 0===o?void 0:o[t])>Math.floor((1+Math.pow(i+1,1.6))*Math.pow(1.7,i+1))?i+2:n},0);a=(null==j?void 0:null===(o=j[e])||void 0===o?void 0:o[t])===0?0:0===a?1:a;let u=Math.floor((1+Math.pow(a,1.6))*Math.pow(1.7,a)),c=Math.round((null==n?void 0:n.baseValue)*a),v={...n,level:null==g?void 0:null===(r=g[e])||void 0===r?void 0:r[t],shinyLevel:a,progress:null==j?void 0:null===(s=j[e])||void 0===s?void 0:s[t],goal:u,rawPassive:null==n?void 0:n.passive,passive:null==n?void 0:null===(d=n.passive)||void 0===d?void 0:d.replace("{",c),passiveValue:c,unlocked:t<l};return(null==y?void 0:y[null==n?void 0:n.passive])?y[null==n?void 0:n.passive]+=c:c>0&&(y[null==n?void 0:n.passive]=c),(null==S?void 0:S[null==n?void 0:n.monsterRawName])&&w.push(v),v})});return{passivesTotals:y,storedPets:m,eggs:v,deadCells:p,speciesUnlocks:x,fencePets:w,fencePetsObject:S,maxArenaLevel:null==i?void 0:null===(a=i.accountOptions)||void 0===a?void 0:a[89],timeToNextEgg:(null==i?void 0:null===(u=i.accountOptions)||void 0===u?void 0:u[87])*1e3,petUpgrades:h,arenaBonuses:t.arenaBonuses,pets:b}},getShinyBonus=(n,e)=>null==n?void 0:n.reduce((n,l)=>n+(null==l?void 0:l.reduce((n,l)=>{let{passive:t,passiveValue:i}=l;return n+(t.includes(e)&&i)},0)),0),getTimeToLevel=(n,e,l,t)=>{if((null==n?void 0:n.shinyLevel)===t)return 0;let i=0;for(let e=null==n?void 0:n.shinyLevel;e<t;e++)i+=Math.floor((1+Math.pow(e,1.6))*Math.pow(1.7,e));return(i-(null==n?void 0:n.progress))/e/(l||1)*864e5}},59404:function(n,e,l){"use strict";l.d(e,{R:function(){return isRiftBonusUnlocked},w:function(){return getRift}});var t=l(1356),i=l(94978);let getRift=n=>{let e=(0,t.tryToParse)(null==n?void 0:n.Rift)||(null==n?void 0:n.Rift);return parseRift(e)},parseRift=n=>{let[e,l,t]=n||[];return{list:i.riftInfo,currentRift:parseInt(e),currentProgress:l,chars:t}},isRiftBonusUnlocked=(n,e)=>{var l;return null==n?void 0:null===(l=n.list)||void 0===l?void 0:l.find((l,t)=>{let{riftBonus:i}=l;return i===e&&t<=(null==n?void 0:n.currentRift)})}}},function(n){n.O(0,[6886,9774,2888,179],function(){return n(n.s=58849)}),_N_E=n.O()}]);