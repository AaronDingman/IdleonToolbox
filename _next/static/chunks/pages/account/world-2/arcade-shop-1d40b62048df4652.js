(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5696],{66242:function(t,e,l){"use strict";l.d(e,{Z:function(){return x}});var n=l(87462),r=l(63366),i=l(67294),o=l(86010),a=l(94780),u=l(90948),s=l(71657),d=l(90629),c=l(1588),v=l(34867);function getCardUtilityClass(t){return(0,v.Z)("MuiCard",t)}(0,c.Z)("MuiCard",["root"]);var m=l(85893);let p=["className","raised"],useUtilityClasses=t=>{let{classes:e}=t;return(0,a.Z)({root:["root"]},getCardUtilityClass,e)},f=(0,u.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),h=i.forwardRef(function(t,e){let l=(0,s.Z)({props:t,name:"MuiCard"}),{className:i,raised:a=!1}=l,u=(0,r.Z)(l,p),d=(0,n.Z)({},l,{raised:a}),c=useUtilityClasses(d);return(0,m.jsx)(f,(0,n.Z)({className:(0,o.Z)(c.root,i),elevation:a?8:void 0,ref:e,ownerState:d},u))});var x=h},44267:function(t,e,l){"use strict";l.d(e,{Z:function(){return h}});var n=l(87462),r=l(63366),i=l(67294),o=l(86010),a=l(94780),u=l(90948),s=l(71657),d=l(1588),c=l(34867);function getCardContentUtilityClass(t){return(0,c.Z)("MuiCardContent",t)}(0,d.Z)("MuiCardContent",["root"]);var v=l(85893);let m=["className","component"],useUtilityClasses=t=>{let{classes:e}=t;return(0,a.Z)({root:["root"]},getCardContentUtilityClass,e)},p=(0,u.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),f=i.forwardRef(function(t,e){let l=(0,s.Z)({props:t,name:"MuiCardContent"}),{className:i,component:a="div"}=l,u=(0,r.Z)(l,m),d=(0,n.Z)({},l,{component:a}),c=useUtilityClasses(d);return(0,v.jsx)(p,(0,n.Z)({as:a,className:(0,o.Z)(c.root,i),ownerState:d,ref:e},u))});var h=f},60133:function(t,e,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-2/arcade-shop",function(){return l(73787)}])},73787:function(t,e,l){"use strict";l.r(e);var n=l(82729),r=l(85893),i=l(51233),o=l(15861),a=l(66242),u=l(44267),s=l(67294),d=l(51626),c=l(1356),v=l(61599),m=l(15409),p=l(2962);function _templateObject(){let t=(0,n._)(["\n  width: 62px;\n  height: 62px;\n"]);return _templateObject=function(){return t},t}function _templateObject1(){let t=(0,n._)(["\n  width: 24px;\n  height: 24px;\n  ","\n"]);return _templateObject1=function(){return t},t}let f=v.Z.img(_templateObject()),h=v.Z.img(_templateObject1(),t=>{let{gold:e}=t;return e?"filter: hue-rotate(70deg) brightness(2);":""});e.default=()=>{var t;let{state:e}=(0,s.useContext)(d.I),{balls:l,goldBalls:n,shop:v}=null==e?void 0:null===(t=e.account)||void 0===t?void 0:t.arcade,getCost=t=>{var l,n,r,i,o;let a=(null==e?void 0:null===(i=e.account)||void 0===i?void 0:null===(r=i.lab)||void 0===r?void 0:null===(n=r.labBonuses)||void 0===n?void 0:null===(l=n.find(t=>"Certified_Stamp_Book"===t.name))||void 0===l?void 0:l.active)?2:1,u=(0,m.fE)(null==e?void 0:null===(o=e.account)||void 0===o?void 0:o.stamps,"misc","StampC5",0,a);return Math.round(Math.max(.6,1-u/100)*(5+(3*t+Math.pow(t,1.3))))},getCostToMax=t=>{let e=0;for(let l=t;l<100;l++)e+=getCost(l);return e};return(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(p.PB,{title:"Idleon Toolbox | Arcade Shop",description:"Arcade shop upgrades, balls and golden balls"}),(0,r.jsx)(o.Z,{variant:"h2",mb:3,children:"Arcade Shop"}),(0,r.jsx)(i.Z,{direction:"row",gap:2,children:[l,n].map((t,e)=>(0,r.jsx)(a.Z,{children:(0,r.jsx)(u.Z,{children:(0,r.jsxs)(i.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,r.jsx)(h,{gold:1===e,src:"".concat(c.prefix,"data/PachiBall").concat(e,".png"),alt:""}),t]})})},e))}),(0,r.jsx)(i.Z,{mt:2,direction:"row",flexWrap:"wrap",gap:2,children:null==v?void 0:v.map((t,e)=>{let{level:l,effect:n,active:i,iconName:o,bonus:s}=t,d=(0,c.cleanUnderscore)(n.replace("{",(0,c.notateNumber)(s,"Small"))),v=getCost(l),m=getCostToMax(l);return(0,r.jsxs)(a.Z,{sx:{width:{xs:150,md:350},display:"flex",flexDirection:{xs:"column",sm:"column",md:"row"}},children:[(0,r.jsx)(f,{style:{margin:16,justifySelf:"center",alignSelf:"center",filter:i?"unset":"grayscale(1)"},src:"".concat(c.prefix,"data/").concat(o,".png")}),(0,r.jsxs)(u.Z,{children:[(0,r.jsxs)("div",{style:{fontWeight:"bold"},children:["Effect: ",d]}),100!==l?(0,r.jsxs)("div",{children:["Lv: ",l," / 100"]}):(0,r.jsx)("div",{className:"done",children:"MAXED"}),(0,r.jsxs)("div",{children:["Cost: ",(0,c.kFormatter)(v,2)]}),(0,r.jsxs)("div",{children:["Cost to max: ",(0,c.kFormatter)(m,2)]})]})]},"".concat(o,"-").concat(e))})})]})}},15409:function(t,e,l){"use strict";l.d(e,{MH:function(){return calcStampCollected},Md:function(){return applyStampsMulti},bL:function(){return calcStampLevels},fE:function(){return getStampBonus},mV:function(){return getStampsBonusByEffect},t2:function(){return getStamps}});var n=l(1356),r=l(94978);let i={0:"combat",1:"skills",2:"misc"},getStamps=t=>{let e=(0,n.tryToParse)(null==t?void 0:t.StampLv)||(null==t?void 0:t.StampLevel),l=(0,n.tryToParse)(null==t?void 0:t.StampLvM)||(null==t?void 0:t.StampLevelMAX);return parseStamps(e,l)},parseStamps=(t,e)=>{let l=null==t?void 0:t.reduce((t,l,n)=>({...t,[null==i?void 0:i[n]]:Object.keys(l).reduce((t,r,i)=>{var o;return"length"!==r?[...t,{level:parseFloat(l[r]),maxLevel:null==e?void 0:null===(o=e[n])||void 0===o?void 0:o[i]}]:t},[])}),{});return{combat:l.combat.map((t,e)=>({...r.stamps.combat[e],...t})),skills:l.skills.map((t,e)=>({...r.stamps.skills[e],...t})),misc:l.misc.map((t,e)=>({...r.stamps.misc[e],...t}))}},getStampsBonusByEffect=(t,e,l)=>{var n;return t&&(null===(n=Object.entries(t))||void 0===n?void 0:n.reduce((n,r)=>{let[i,o]=r,a=null==o?void 0:o.filter(t=>{let{effect:l}=t;return null==l?void 0:l.includes(e)}),u=null==a?void 0:a.reduce((e,n)=>{let{rawName:r}=n;return e+getStampBonus(t,i,r,l)},0);return n+u},0))},getStampBonus=(t,e,l,r)=>{var i,o,a,u,s,d,c;let v=null==t?void 0:null===(i=t[e])||void 0===i?void 0:i.find(t=>{let{rawName:e}=t;return e===l});if(!v)return 0;if((null==v?void 0:v.skillIndex)>0&&(null==v?void 0:v.reqItemMultiplicationLevel)>1){let t=(null==v?void 0:v.level)*(200/(20*(null==v?void 0:v.reqItemMultiplicationLevel)));if(t>3){let e=null==r?void 0:null===(a=r.skillsInfoArray)||void 0===a?void 0:null===(o=a[null==v?void 0:v.skillIndex])||void 0===o?void 0:o.level,l=3+(t-3)*Math.pow(e/(t-3),.75);l*=20*(null==v?void 0:v.reqItemMultiplicationLevel)/200;let i=Math.floor(Math.min(l,t)),d=Math.min(i,null==v?void 0:v.level);return(null!==(u=(0,n.growth)(null==v?void 0:v.func,d,null==v?void 0:v.x1,null==v?void 0:v.x2,!1))&&void 0!==u?u:0)*(null!==(s=null==v?void 0:v.multiplier)&&void 0!==s?s:1)}}return(null!==(d=(0,n.growth)(null==v?void 0:v.func,null==v?void 0:v.level,null==v?void 0:v.x1,null==v?void 0:v.x2,!1))&&void 0!==d?d:0)*(null!==(c=null==v?void 0:v.multiplier)&&void 0!==c?c:1)},applyStampsMulti=(t,e)=>Object.entries(t).reduce((t,l)=>{let[n,r]=l,i=r;return"misc"!==n&&(i=null==r?void 0:r.map(t=>({...t,multiplier:e}))),{...t,[n]:i}},{}),calcStampLevels=t=>{var e;return t?null===(e=Object.values(t))||void 0===e?void 0:e.reduce((t,e)=>t+(null==e?void 0:e.reduce((t,e)=>{let{level:l}=e;return t+l},0)),0):0},calcStampCollected=t=>{var e;return t?null===(e=Object.values(t))||void 0===e?void 0:e.reduce((t,e)=>t+(null==e?void 0:e.reduce((t,e)=>{let{level:l}=e;return t+(l>0?1:0)},0)),0):0}}},function(t){t.O(0,[9774,2888,179],function(){return t(t.s=60133)}),_N_E=t.O()}]);