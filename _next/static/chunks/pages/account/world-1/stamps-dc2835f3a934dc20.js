(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{4986:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-1/stamps",function(){return e(9450)}])},372:function(n,t,e){"use strict";var l=e(2729),i=e(5893),o=e(9574),a=e(1599),r=e(5861),c=e(1233);function d(){let n=(0,l._)(["\n  width: 23px;\n  height: 27px;\n  object-fit: contain;\n"]);return d=function(){return n},n}function s(){let n=(0,l._)(["\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n\n  .coin-icon {\n    width: 23px;\n    height: 27px;\n    object-fit: contain;\n  }\n\n  // .coin-value {\n  //   position: absolute;\n    //   text-shadow: ",";\n  //   bottom: -22px;\n  //   left: 50%;\n  //   transform: translateX(-50%);\n  // }\n"]);return s=function(){return n},n}let u=n=>{let{centered:t=!0,style:e={},money:l,title:a="Total Money",maxCoins:d=5,noShadow:s}=n;return(0,i.jsxs)("div",{style:e,children:[a?(0,i.jsx)(r.Z,{style:{textAlign:"center"},children:a}):null,(0,i.jsx)(c.Z,{flexWrap:"wrap",justifyContent:t?"center":"flex-start",direction:"row",gap:2.3,children:null==l?void 0:l.map((n,t)=>{let[e,l]=n;return t<d&&Number(l)>0?(0,i.jsxs)(c.Z,{justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(v,{src:"".concat(o.prefix,"data/Coins").concat(e,".png"),alt:""}),(0,i.jsx)(r.Z,{variant:"body1",component:"span",className:"coin-value",children:Number(l)})]},l+""+e):null})})]})},v=a.Z.img(d());a.Z.div(s(),n=>{let{noShadow:t}=n;return t?"unset":"2px 2px 0 black"}),t.Z=u},9450:function(n,t,e){"use strict";e.r(t);var l=e(2729),i=e(5893),o=e(8396),a=e(5861),r=e(7357),c=e(1233),d=e(6242),s=e(4267),u=e(480),v=e(9368),p=e(1903),m=e(1703),x=e(44),h=e(7294),g=e(9597),f=e(9574),j=e(1599),y=e(9222),Z=e(372),w=e(1053),b=e(7954),_=e.n(b),C=e(2962),N=e(5492),M=e(2458),I=e(2032),k=e(1909);function S(){let n=(0,l._)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n"]);return S=function(){return n},n}function E(){let n=(0,l._)(["\n  opacity: ",";\n"]);return E=function(){return n},n}function P(){let n=(0,l._)(["\n  width: 32px;\n  height: 32px;\n  opacity: ",";\n"]);return P=function(){return n},n}let A=()=>{var n,t,e,l,j,b,S;let{state:E}=(0,h.useContext)(g.I),P=(0,N.R)(null==E?void 0:null===(n=E.account)||void 0===n?void 0:n.rift,"Stamp_Mastery")?null==E?void 0:null===(t=E.account)||void 0===t?void 0:null===(e=t.accountOptions)||void 0===e?void 0:e[154]:0,A=null==E?void 0:null===(l=E.account)||void 0===l?void 0:null===(j=l.atoms)||void 0===j?void 0:j.stampReducer,[F,L]=(0,h.useState)(0),[T,R]=(0,h.useState)(),[U,V]=(0,h.useState)(A),[W,X]=(0,h.useState)(!1),Y=(0,o.Z)(n=>n.breakpoints.down("md"),{noSsr:!0}),z=()=>{var n,t,e,l;let i=null===(n=Object.keys(null==E?void 0:null===(t=E.account)||void 0===t?void 0:t.stamps))||void 0===n?void 0:n[F];return null==E?void 0:null===(e=E.account)||void 0===e?void 0:null===(l=e.stamps)||void 0===l?void 0:l[i]},K=(0,h.useMemo)(()=>z(),[F]),D=(n,t)=>{L(t)},H=(n,t,e,l)=>{let i=(null==T?void 0:T[n])-t,o="gold"===e?nn:$;if(i<=0){let n=o(t,l);return"material"===e?Math.floor(n):n}let a=Array(i||0).fill(1).map((n,t)=>t+1),r=a.reduce((n,i)=>{if("material"===e&&(t+i)%(null==l?void 0:l.reqItemMultiplicationLevel)==0||"gold"===e){let e=o(t+i,l);return n+e}return n},o(t,l));return"material"===e?Math.floor(r):r},J=(0,h.useCallback)((n,t,e,l)=>H(n,t,e,l),[T,U,W]),Q=(0,h.useCallback)((n,t,e)=>(0,k.tc)(n,t,e),[E]),$=(n,t)=>{var e,l,i,o,a;let{reqItemMultiplicationLevel:r,baseMatCost:c,powMatBase:d}=t,s=(0,y.YG)(null==E?void 0:null===(e=E.account)||void 0===e?void 0:null===(l=e.alchemy)||void 0===l?void 0:l.vials,"material_cost_for_stamps"),u=(0,y.Vq)(null==E?void 0:null===(i=E.account)||void 0===i?void 0:null===(o=i.alchemy)||void 0===o?void 0:null===(a=o.p2w)||void 0===a?void 0:a.sigils,"ENVELOPE_PILE");return c*(P>0||W?.05:1)*Math.max(.1,1-(U!==A?U:A)/100)*(1/(1+u/100))*Math.pow(d,Math.pow(Math.round(n/r)-1,.8))*Math.max(.1,1-s/100)||0},nn=(n,t)=>{var e,l,i,o;let{reqItemMultiplicationLevel:a,baseCoinCost:r,powCoinBase:c}=t,d=(0,y.YG)(null==E?void 0:null===(e=E.account)||void 0===e?void 0:null===(l=e.alchemy)||void 0===l?void 0:l.vials,"material_cost_for_stamps"),s=null==E?void 0:null===(i=E.account)||void 0===i?void 0:null===(o=i.bribes)||void 0===o?void 0:o[0],u=(null==s?void 0:s.done)?r*(1-(null==s?void 0:s.value)/100):r;return Math.floor(u*Math.pow(c-n/(n+5*a)*.25,n*(10/a))*Math.max(.1,1-d/100))},nt=_()((n,t)=>{let{value:e}=n.target;R({...T,[t]:e?parseInt(e):0})},100);return(0,i.jsxs)("div",{children:[(0,i.jsx)(C.PB,{title:"Idleon Toolbox | Stamps",description:"Keep track of your stamps levels and requirements"}),(0,i.jsx)(a.Z,{textAlign:"center",variant:"h2",mb:3,children:"Stamps"}),(0,i.jsx)(a.Z,{textAlign:"center",component:"div",variant:"caption",mb:3,children:"* Green border means you have enough material, money and space to craft"}),(0,i.jsxs)(r.Z,{sx:{display:"flex",justifyContent:"center",my:1},children:[(0,i.jsxs)(c.Z,{direction:"row",gap:1,children:[(0,i.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,i.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,i.jsx)("img",{src:"".concat(f.prefix,"data/GildedStamp.png"),alt:""}),P]})}),(0,i.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,i.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,i.jsx)("img",{src:"".concat(f.prefix,"data/Atom0.png"),height:36,alt:""}),null!=A?A:0,"%"]})})]}),(0,i.jsxs)(c.Z,{sx:{mx:2},children:[(0,i.jsx)(u.Z,{control:(0,i.jsx)(v.Z,{name:"mini",checked:W,onChange:()=>X(!W),size:"small"}),label:"Force gilded stamp"}),(0,i.jsx)(p.Z,{label:"Stamp Reducer",value:U,onChange:n=>V(n.target.value),type:"number",InputProps:{inputProps:{min:0,max:90}}})]})]}),(0,i.jsx)(m.Z,{centered:!0,sx:{marginBottom:3},variant:Y?"fullWidth":"standard",value:F,onChange:D,children:null===(b=Object.keys(null==E?void 0:null===(S=E.account)||void 0===S?void 0:S.stamps))||void 0===b?void 0:b.map((n,t)=>(0,i.jsx)(x.Z,{label:n},"".concat(n,"-").concat(t)))}),(0,i.jsx)(c.Z,{direction:"row",flexWrap:"wrap",justifyContent:"center",gap:3,children:null==K?void 0:K.map((n,t)=>{var e,l;let o,r,u;let{displayName:v,rawName:m,level:x,itemReq:g,multiplier:j=1,func:y,x1:b,x2:_,reqItemMultiplicationLevel:C}=n,N=(null==T?void 0:T[t])?(null==T?void 0:T[t])<x?x:null==T?void 0:T[t]:x,k=(0,f.growth)(y,N,b,_,!0)*j,S=null==g?void 0:g.map(e=>{var l,i,a,c,d,s;let{rawName:u}=e,v=(0,M.F6)(I.crafts[null===I.items||void 0===I.items?void 0:null===(l=I.items[u])||void 0===l?void 0:l.displayName]),p=J(t,x,"material",n),m=J(t,x,"gold",n);return m&&(r=(null==E?void 0:null===(i=E.account)||void 0===i?void 0:null===(a=i.currencies)||void 0===a?void 0:a.rawMoney)>=m),o=(null==v?void 0:v.length)>0?null==v?void 0:v.every(n=>{var t,e,l;let{rawName:i,type:o,itemQuantity:a}=n;if("Equip"===o)return!0;let r=null===(t=null==E?void 0:null===(e=E.account)||void 0===e?void 0:null===(l=e.storage)||void 0===l?void 0:l.find(n=>{let{rawName:t}=n;return t===i}))||void 0===t?void 0:t.amount;return r>=a*p}):(null===(c=null==E?void 0:null===(d=E.account)||void 0===d?void 0:null===(s=d.storage)||void 0===s?void 0:s.find(n=>{let{rawName:t}=n;return t===u}))||void 0===c?void 0:c.amount)>=p,{...e,materials:v,materialCost:p,goldCost:m,isMaterialCost:N%C==0,hasMaterials:o,hasMoney:r}}),P=Q(null===I.items||void 0===I.items?void 0:I.items[null==g?void 0:null===(e=g[0])||void 0===e?void 0:e.rawName],null==E?void 0:E.characters,null==E?void 0:E.account);return u=(null==P?void 0:P.maxCapacity)>=(null==S?void 0:null===(l=S[0])||void 0===l?void 0:l.materialCost),(0,i.jsx)(h.Fragment,{children:(0,i.jsx)(d.Z,{sx:{width:230,border:o&&r&&u&&x>0?"1px solid #81c784":""},children:(0,i.jsxs)(s.Z,{sx:{"&:last-child":{paddingBottom:4}},children:[(0,i.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-around",gap:2,children:[(0,i.jsxs)(c.Z,{alignItems:"center",children:[(0,i.jsx)(w.Z,{title:(0,i.jsx)(G,{...n,goalLevel:N,goalBonus:k}),children:(0,i.jsx)(O,{width:48,height:48,level:x,src:"".concat(f.prefix,"data/").concat(m,".png"),alt:""})}),(0,i.jsxs)(a.Z,{variant:"body1",children:["Lv. ",x]})]}),(0,i.jsx)(p.Z,{type:"number",sx:{width:90},defaultValue:N,onChange:n=>nt(n,t),label:"Goal",variant:"outlined",inputProps:{min:x||0}})]}),null==S?void 0:S.map((n,t)=>{var e;let{rawName:l,name:o,materialCost:r,isMaterialCost:d,goldCost:s}=n;return(0,i.jsxs)(c.Z,{gap:1,mt:2,children:[(0,i.jsxs)(c.Z,{gap:2,justifyContent:"center",direction:"row",alignItems:"center",children:[(0,i.jsx)(B,{src:"".concat(f.prefix,"data/SignStar3b.png"),alt:""}),(0,i.jsx)(a.Z,{children:isNaN(k)?0:k}),(0,i.jsx)(w.Z,{title:"Best to craft with ".concat(null!==(e=null==P?void 0:P.character)&&void 0!==e?e:"Nobody"," (Capacity: ").concat(isNaN(null==P?void 0:P.maxCapacity)?0:(0,f.notateNumber)(null==P?void 0:P.maxCapacity,"Big"),")"),children:(0,i.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,i.jsx)(q,{hide:!r||!d,src:"".concat(f.prefix,"data/").concat(l,".png"),alt:""}),r?(0,f.notateNumber)(r,"Big"):null]})})]}),(0,i.jsx)(Z.Z,{title:"",money:(0,f.getCoinsArray)(s)})]},"".concat(l,"-").concat(o,"-").concat(t))})]})})},m+""+v+t)})})]})},B=j.Z.img(S()),G=n=>{let{func:t,level:e,goalLevel:l,x1:o,x2:r,displayName:c,effect:d,multiplier:s=1,goalBonus:u}=n,v=(0,f.growth)(t,e,o,r,!0)*s;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{variant:"h5",children:(0,f.cleanUnderscore)(c)}),(0,i.jsxs)(a.Z,{sx:{color:e>0&&s>1?"multi":""},variant:"body1",children:["+",(0,f.cleanUnderscore)(d.replace(/{}/,v))]}),e!==l?(0,i.jsxs)(a.Z,{sx:{color:e>0&&s>1?"multi":""},variant:"body1",children:["Goal: +",(0,f.cleanUnderscore)(d.replace(/{}/,u))]}):null]})},O=j.Z.img(E(),n=>{let{level:t}=n;return 0===t?.5:1}),q=j.Z.img(P(),n=>{let{hide:t}=n;return t?.5:1});t.default=A}},function(n){n.O(0,[9912,8892,9774,2888,179],function(){return n(n.s=4986)}),_N_E=n.O()}]);