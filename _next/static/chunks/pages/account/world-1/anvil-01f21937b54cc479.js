(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7339],{435:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-1/anvil",function(){return t(8362)}])},6554:function(n,e,t){"use strict";var i=t(5893),l=t(7357),r=t(1458),o=t(5861);t(7294),e.Z=n=>{let{percent:e,bgColor:t,label:a=!0,sx:d,pre:c}=n;return(0,i.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[c,(0,i.jsx)(l.Z,{sx:{width:"100%",mr:1},children:(0,i.jsx)(r.Z,{sx:{width:"100%",height:10,borderRadius:5,"& .MuiLinearProgress-bar":{backgroundColor:t||""},...d},variant:"determinate",value:e>100?100:e})}),a?(0,i.jsx)(l.Z,{children:(0,i.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(e),"%")})}):null]})}},3948:function(n,e,t){"use strict";var i=t(2729),l=t(5893),r=t(7294),o=t(6986),a=t(3913),d=t(9574),c=t(1599),s=t(5861);function u(){let n=(0,i._)(["\n  .overtime {\n    color: #f91d1d;\n  }\n"]);return u=function(){return n},n}let v=c.Z.span(u());e.Z=n=>{let{date:e,startDate:t,lastUpdated:i,stopAtZero:c,type:u,pause:h,staticTime:x,placeholder:f,loop:m,variant:p="inherit"}=n,[g,j]=(0,r.useState)();(0,r.useEffect)(()=>{if(e){if(x){if(!isFinite(e))return;return j({...(0,d.getDuration)(new Date().getTime(),e)})}let n=new Date,t=n.getTime()-(null!=i?i:0),l=(0,a.Z)(e);j({...(0,d.getDuration)(null==n?void 0:n.getTime(),e+t*("countdown"===u?-1:1)),overtime:"countdown"===u&&l})}},[e,i]);let Z=()=>{let{days:n,hours:e,minutes:t,seconds:i}=g;60===(i+=1)&&(i=0,60===(t+=1)&&(t=0,24===(e+=1)&&(n+=1))),j({...g,days:n,hours:e,minutes:t,seconds:i})},w=()=>{let{days:n,hours:e,minutes:i,seconds:l}=g;if(0===n&&0===e&&0===i&&0===l){if(c)return;if(m)return j({...(0,d.getDuration)(new Date().getTime(),t)})}-1==(l-=1)&&(l=59,-1==(i-=1)&&(i=59,-1==(e-=1)&&(e=0,n-=1))),j({...g,days:n,hours:e,minutes:i,seconds:l})};(0,o.Z)(()=>{if(!g)return null;"countdown"!==u||(null==g?void 0:g.overtime)?Z():w()},h||x?null:1e3);let y=n=>{let e=String(n);return(null==e?void 0:e.length)===1?"0".concat(n):n};return g?(0,l.jsx)(v,{children:((null==g?void 0:g.overtime)||h)&&f?f:(0,l.jsxs)(s.Z,{variant:p,className:"".concat((null==g?void 0:g.overtime)&&!m?"overtime":""),component:"span",children:[(null==g?void 0:g.days)?y(null==g?void 0:g.days)+"d:":"",y(null==g?void 0:g.hours)+"h:",y(null==g?void 0:g.minutes)+"m",(null==g?void 0:g.days)?"":":",(null==g?void 0:g.days)?"":y(null==g?void 0:g.seconds)+"s"]})}):null}},8362:function(n,e,t){"use strict";t.r(e);var i=t(2729),l=t(5893),r=t(7294),o=t(1490),a=t(5861),d=t(1233),c=t(6242),s=t(4267),u=t(9425),v=t(9574),h=t(3948),x=t(1599),f=t(6554),m=t(2421),p=t(2962);function g(){let n=(0,i._)(["\n  width: 42px;\n  height: 42px;\n"]);return g=function(){return n},n}let j=x.Z.img(g());e.default=()=>{let{state:n}=(0,r.useContext)(o.I),{anvil:e}=(null==n?void 0:n.account)||{};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.PB,{title:"Idleon Toolbox | Anvil",description:"Keep track of your characters anvil production"}),(0,l.jsx)(a.Z,{variant:"h2",mb:3,children:"Anvil"}),(0,l.jsx)(d.Z,{gap:3,children:null==e?void 0:e.map((e,t)=>{var i,r,o,x,p,g,Z,w,y,_,b,C,I;let T=null==n?void 0:null===(i=n.characters)||void 0===i?void 0:null===(r=i[t])||void 0===r?void 0:r.classIndex,M=null==n?void 0:null===(o=n.characters)||void 0===o?void 0:null===(x=o[t])||void 0===x?void 0:x.name,D=null===(p=null==n?void 0:null===(g=n.characters)||void 0===g?void 0:g[t].skillsInfo)||void 0===p?void 0:null===(Z=p.smithing)||void 0===Z?void 0:Z.level,{stats:E,production:k}=(0,m.eW)(null==n?void 0:null===(w=n.characters)||void 0===w?void 0:w[t],null==n?void 0:n.characters,null==n?void 0:n.account),{availablePoints:N,pointsFromCoins:A,pointsFromMats:P}=E||{},S=null==n?void 0:null===(y=n.characters)||void 0===y?void 0:null===(_=y[t])||void 0===_?void 0:_.afkTime,F=null==n?void 0:null===(b=n.characters)||void 0===b?void 0:null===(C=b[t])||void 0===C?void 0:null===(I=C.equippedBubbles)||void 0===I?void 0:I.find(n=>{let{bubbleName:e}=n;return"HAMMER_HAMMER"===e}),H=null==k?void 0:k.filter(n=>{let{hammers:e}=n;return e>0}),R=null==H?void 0:H.reduce((n,e)=>{let{hammers:t}=e;return n+t},0),B=R===(F?3:2)?H:(0,v.fillArrayToLength)(R,H);return(0,l.jsx)(c.Z,{sx:{width:{xs:"100%",lg:700}},children:(0,l.jsx)(s.Z,{children:(0,l.jsxs)(d.Z,{sx:{flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,l.jsxs)(d.Z,{sx:{width:175,textAlign:"center",flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,l.jsx)(d.Z,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)("img",{className:"class-icon",src:"".concat(v.prefix,"data/ClassIcons").concat(T,".png"),alt:""})}),(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(a.Z,{className:"character-name",children:M}),(0,l.jsxs)(a.Z,{variant:"caption",children:["Smithing lv. ",D]}),(0,l.jsxs)(a.Z,{variant:"caption",color:0===N?"":N>0?"error.light":"secondary",children:["Points ",A+P-N," / ",A+P]})]})]}),(0,l.jsx)(d.Z,{sx:{justifyContent:{xs:"center",md:"flex-start"}},direction:"row",alignItems:"center",flexWrap:"wrap",gap:3,children:null==B?void 0:B.map((e,t)=>{let{rawName:i,hammers:r,currentAmount:o,currentProgress:x,time:p}=e,g=(new Date().getTime()-S)/1e3,Z=Math.min(Math.round(o+(x+g*(null==E?void 0:E.anvilSpeed)/3600)/p*(null!=r?r:0)),null==E?void 0:E.anvilCapacity),w=Math.round(Z/(null==E?void 0:E.anvilCapacity)*100),y=(0,m.MH)({...e,stats:E,afkTime:S});return(0,l.jsx)(c.Z,{elevation:5,sx:{boxShadow:r>0?"inherit":"0px 0px 5px #ff0707"},children:(0,l.jsx)(s.Z,{children:r>0?(0,l.jsxs)(d.Z,{sx:{width:90,height:65},justifyContent:"flex-start",alignItems:"center",children:[(0,l.jsx)(u.Z,{color:"secondary",variant:"standard",badgeContent:r>1?r:0,children:(0,l.jsx)(j,{src:"".concat(v.prefix,"data/").concat(i,".png"),alt:""})}),(0,l.jsx)(f.Z,{percent:w,label:!1}),(0,l.jsx)(h.Z,{date:new Date().getTime()+1e3*y,type:"countdown",placeholder:(0,l.jsx)(a.Z,{color:"error.light",children:"Full"}),lastUpdated:null==n?void 0:n.lastUpdated})]}):(0,l.jsx)(d.Z,{sx:{width:90,height:65},alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.Z,{variant:"caption",children:"EMPTY"})})})},"".concat(i,"-").concat(t))})})]})})},"printer-row-".concat(t))})})]})}}},function(n){n.O(0,[3006,9774,2888,179],function(){return n(n.s=435)}),_N_E=n.O()}]);