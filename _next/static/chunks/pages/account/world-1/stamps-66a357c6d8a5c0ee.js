(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{84986:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-1/stamps",function(){return e(19450)}])},10372:function(n,t,e){"use strict";var l=e(82729),i=e(85893),a=e(39574),o=e(61599),r=e(15861),c=e(51233);function s(){let n=(0,l._)(["\n  width: 23px;\n  height: 27px;\n  object-fit: contain;\n"]);return s=function(){return n},n}let d=o.Z.img(s());t.Z=n=>{let{centered:t=!0,style:e={},money:l,title:o="Total Money",maxCoins:s=5}=n;return(0,i.jsxs)("div",{style:e,children:[o?(0,i.jsx)(r.Z,{style:{textAlign:"center"},children:o}):null,(0,i.jsx)(c.Z,{flexWrap:"wrap",justifyContent:t?"center":"flex-start",direction:"row",gap:2.3,children:null==l?void 0:l.map((n,t)=>{let[e,l]=n;return t<s&&Number(l)>0?(0,i.jsxs)(c.Z,{justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(d,{src:"".concat(a.prefix,"data/Coins").concat(e,".png"),alt:""}),(0,i.jsx)(r.Z,{variant:"body1",component:"span",className:"coin-value",children:Number(l)})]},l+""+e):null})})]})}},33583:function(n,t,e){"use strict";var l=e(85893),i=e(67294),a=e(98396),o=e(11703),r=e(40044);t.Z=n=>{let{tabs:t,children:e,onTabChange:c}=n,[s,d]=(0,i.useState)(0),u=(0,a.Z)(n=>n.breakpoints.down("md"),{noSsr:!0}),v=Array.isArray(e)?e:[e];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Z,{centered:!u||u&&t.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:u&&t.length>4?"scrollable":"standard",value:s,onChange:(n,t)=>{d(t),c&&c(t)},children:null==t?void 0:t.map((n,t)=>(0,l.jsx)(r.Z,{label:n},"".concat(n,"-").concat(t)))}),c?e:null==v?void 0:v.map((n,t)=>t===s?n:null)]})}},19450:function(n,t,e){"use strict";e.r(t);var l=e(82729),i=e(85893),a=e(15861),o=e(87357),r=e(51233),c=e(66242),s=e(44267),d=e(50480),u=e(69368),v=e(61903),m=e(67294),h=e(41422),p=e(39574),x=e(61599),g=e(29222),j=e(10372),f=e(51053),Z=e(91296),y=e.n(Z),b=e(2962),w=e(65492),C=e(12458),N=e(72032),_=e(91909),M=e(33583);function S(){let n=(0,l._)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  transform: translate(10%, -50%);\n  position: absolute;\n  top: 0;\n  right: 0;\n"]);return S=function(){return n},n}function I(){let n=(0,l._)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n"]);return I=function(){return n},n}function k(){let n=(0,l._)(["\n  opacity: ",";\n"]);return k=function(){return n},n}function B(){let n=(0,l._)(["\n  width: 32px;\n  height: 32px;\n  opacity: ",";\n"]);return B=function(){return n},n}let E=x.Z.div(S()),A=x.Z.img(I()),P=n=>{let{func:t,level:e,goalLevel:l,x1:o,x2:r,displayName:c,effect:s,multiplier:d=1,goalBonus:u}=n,v=(0,p.growth)(t,e,o,r,!0)*d;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{variant:"h5",children:(0,p.cleanUnderscore)(c)}),(0,i.jsxs)(a.Z,{sx:{color:e>0&&d>1?"multi":""},variant:"body1",children:["+",(0,p.cleanUnderscore)(s.replace(/\+{/,v))]}),e!==l?(0,i.jsxs)(a.Z,{mt:1,sx:{color:e>0&&d>1?"multi":""},variant:"body1",children:["Goal: +",(0,p.cleanUnderscore)(s.replace(/\+{/,u))]}):null]})},F=x.Z.img(k(),n=>{let{level:t}=n;return 0===t?.5:1}),G=x.Z.img(B(),n=>{let{hide:t}=n;return t?.5:1});t.default=()=>{var n,t,e,l,x,Z;let{state:S}=(0,m.useContext)(h.I),I=(0,w.R)(null==S?void 0:null===(n=S.account)||void 0===n?void 0:n.rift,"Stamp_Mastery")?null==S?void 0:null===(t=S.account)||void 0===t?void 0:null===(e=t.accountOptions)||void 0===e?void 0:e[154]:0,k=null==S?void 0:null===(l=S.account)||void 0===l?void 0:null===(x=l.atoms)||void 0===x?void 0:x.stampReducer,[B,O]=(0,m.useState)(0),[T,q]=(0,m.useState)(),[L,U]=(0,m.useState)(k),[R,V]=(0,m.useState)(!1),[Y,z]=(0,m.useState)(!1),W=()=>{var n,t,e,l;let i=null===(n=Object.keys(null==S?void 0:null===(t=S.account)||void 0===t?void 0:t.stamps))||void 0===n?void 0:n[B];return null==S?void 0:null===(e=S.account)||void 0===e?void 0:null===(l=e.stamps)||void 0===l?void 0:l[i]},X=(0,m.useMemo)(()=>W(),[B]),K=(n,t,e,l)=>{let i=(null==T?void 0:T[n])-t,a="gold"===e?Q:J;if(i<=0){let n=a(t,l);return"material"===e?Math.floor(n):n}let o=Array(i||0).fill(1).map((n,t)=>t+1),r=o.reduce((n,i)=>{if("material"===e&&(t+i)%(null==l?void 0:l.reqItemMultiplicationLevel)==0||"gold"===e){let e=a(t+i,l);return n+e}return n},a(t,l));return"material"===e?Math.floor(r):r},D=(0,m.useCallback)((n,t,e,l)=>K(n,t,e,l),[T,L,R]),H=(0,m.useCallback)((n,t,e)=>(0,_.tc)(n,t,e),[S]),J=(n,t)=>{var e,l,i,a,o;let{reqItemMultiplicationLevel:r,baseMatCost:c,powMatBase:s}=t,d=(0,g.YG)(null==S?void 0:null===(e=S.account)||void 0===e?void 0:null===(l=e.alchemy)||void 0===l?void 0:l.vials,"material_cost_for_stamps"),u=(0,g.Vq)(null==S?void 0:null===(i=S.account)||void 0===i?void 0:null===(a=i.alchemy)||void 0===a?void 0:null===(o=a.p2w)||void 0===o?void 0:o.sigils,"ENVELOPE_PILE"),v=Math.max(.1,1-(L!==k?L:k)/100);return c*(I>0||R?.05:1)*v*(1/(1+u/100))*Math.pow(s,Math.pow(Math.round(n/r)-1,.8))*Math.max(.1,1-d/100)||0},Q=(n,t)=>{var e,l,i,a;let{reqItemMultiplicationLevel:o,baseCoinCost:r,powCoinBase:c}=t,s=(0,g.YG)(null==S?void 0:null===(e=S.account)||void 0===e?void 0:null===(l=e.alchemy)||void 0===l?void 0:l.vials,"material_cost_for_stamps"),d=null==S?void 0:null===(i=S.account)||void 0===i?void 0:null===(a=i.bribes)||void 0===a?void 0:a[0],u=(null==d?void 0:d.done)?r*(1-(null==d?void 0:d.value)/100):r;return Math.floor(u*Math.pow(c-n/(n+5*o)*.25,n*(10/o))*Math.max(.1,1-s/100))},$=y()((n,t)=>{let{value:e}=n.target;q({...T,[t]:e?parseInt(e):0})},100);return(0,i.jsxs)("div",{children:[(0,i.jsx)(b.PB,{title:"Idleon Toolbox | Stamps",description:"Keep track of your stamps levels and requirements"}),(0,i.jsx)(a.Z,{textAlign:"center",variant:"h2",mb:3,children:"Stamps"}),(0,i.jsx)(a.Z,{textAlign:"center",component:"div",variant:"caption",mb:3,children:"* Green border means you have enough material, money and space to craft"}),(0,i.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"center",my:1},children:[(0,i.jsxs)(r.Z,{gap:1,children:[(0,i.jsx)(c.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,i.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,i.jsx)("img",{src:"".concat(p.prefix,"data/GildedStamp.png"),alt:""}),I]})}),(0,i.jsx)(c.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,i.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,i.jsx)("img",{src:"".concat(p.prefix,"data/Atom0.png"),height:36,alt:""}),null!=k?k:0,"%"]})})]}),(0,i.jsxs)(r.Z,{sx:{mx:2},children:[(0,i.jsx)(d.Z,{control:(0,i.jsx)(u.Z,{name:"mini",checked:Y,onChange:()=>z(!Y),size:"small"}),label:"Subtract green stacks"}),(0,i.jsx)(d.Z,{control:(0,i.jsx)(u.Z,{name:"mini",checked:R,onChange:()=>V(!R),size:"small"}),label:"Force gilded stamp"}),(0,i.jsx)(v.Z,{label:"Stamp Reducer",value:L,onChange:n=>U(n.target.value),type:"number",InputProps:{inputProps:{min:0,max:90}}})]})]}),(0,i.jsx)(M.Z,{tabs:Object.keys(null==S?void 0:null===(Z=S.account)||void 0===Z?void 0:Z.stamps),onTabChange:n=>{O(n)},children:(0,i.jsx)(r.Z,{direction:"row",flexWrap:"wrap",justifyContent:"center",gap:3,children:null==X?void 0:X.map((n,t)=>{var e,l,o,d,u;let h,x,g,Z;let{displayName:y,rawName:b,level:w,itemReq:_,multiplier:M=1,func:I,x1:k,x2:B,reqItemMultiplicationLevel:O}=n,q=(null==T?void 0:T[t])?(null==T?void 0:T[t])<w?w:null==T?void 0:T[t]:w,L=(0,p.growth)(I,q,k,B,!0)*M,U=null==_?void 0:_.map(e=>{var l,i,a,o,r,c;let{rawName:s}=e,d=(0,C.F6)(N.crafts[null===N.items||void 0===N.items?void 0:null===(l=N.items[s])||void 0===l?void 0:l.displayName]),u=D(t,w,"material",n),v=D(t,w,"gold",n),m=q%O==0;return v&&(x=(null==S?void 0:null===(i=S.account)||void 0===i?void 0:null===(a=i.currencies)||void 0===a?void 0:a.rawMoney)>=v),(null==d?void 0:d.length)>0?h=null==d?void 0:d.every(n=>{var t,e,l;let{rawName:i,type:a,itemQuantity:o}=n;if("Equip"===a)return!0;let r=null===(t=null==S?void 0:null===(e=S.account)||void 0===e?void 0:null===(l=e.storage)||void 0===l?void 0:l.find(n=>{let{rawName:t}=n;return t===i}))||void 0===t?void 0:t.amount;return(r=Y?r-1e7:r)>=o*u}):(Z=null===(o=null==S?void 0:null===(r=S.account)||void 0===r?void 0:null===(c=r.storage)||void 0===c?void 0:c.find(n=>{let{rawName:t}=n;return t===s}))||void 0===o?void 0:o.amount,h=(Z=Y?Z-1e7:Z)>=u),{...e,materials:d,materialCost:u,goldCost:v,isMaterialCost:m,hasMaterials:h,hasMoney:x}}),R=H(null===N.items||void 0===N.items?void 0:N.items[null==_?void 0:null===(e=_[0])||void 0===e?void 0:e.rawName],null==S?void 0:S.characters,null==S?void 0:S.account);return g=(null==R?void 0:R.maxCapacity)>=(null==U?void 0:null===(l=U[0])||void 0===l?void 0:l.materialCost),(0,i.jsx)(m.Fragment,{children:(0,i.jsx)(c.Z,{sx:{overflow:"visible",position:"relative",width:230,border:h&&x&&g&&w>0?"1px solid #81c784":""},children:(0,i.jsxs)(s.Z,{sx:{"&:last-child":{paddingBottom:4}},children:[w>0?(0,i.jsxs)(E,{children:[h?null:(0,i.jsx)(f.Z,{title:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.Z,{children:["Not enough ",(0,p.cleanUnderscore)(null==_?void 0:null===(o=_[0])||void 0===o?void 0:o.name)]}),(0,i.jsxs)(a.Z,{children:["You have ",(0,p.notateNumber)(null!=Z?Z:0,"Big"),", you need ",(0,p.notateNumber)(Math.abs((null!=Z?Z:0)-(null==U?void 0:null===(d=U[0])||void 0===d?void 0:d.materialCost)),"Big")]})]}),children:(0,i.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(null==_?void 0:null===(u=_[0])||void 0===u?void 0:u.rawName,".png"),alt:""})}),x?null:(0,i.jsx)(f.Z,{title:"Not enough coins",children:(0,i.jsx)("img",{width:20,height:20,src:"".concat(p.prefix,"data/Coins5.png"),alt:""})}),g?null:(0,i.jsx)(f.Z,{title:"Not enough capacity",children:(0,i.jsx)("img",{width:24,height:24,style:{objectFit:"contain"},src:"".concat(p.prefix,"etc/Character.png"),alt:""})})]}):null,(0,i.jsxs)(r.Z,{direction:"row",alignItems:"center",justifyContent:"space-around",gap:2,children:[(0,i.jsxs)(r.Z,{alignItems:"center",children:[(0,i.jsx)(f.Z,{title:(0,i.jsx)(P,{...n,goalLevel:q,goalBonus:L}),children:(0,i.jsx)(F,{width:48,height:48,level:w,src:"".concat(p.prefix,"data/").concat(b,".png"),alt:""})}),(0,i.jsxs)(a.Z,{variant:"body1",children:["Lv. ",w]})]}),(0,i.jsx)(v.Z,{type:"number",sx:{width:90},defaultValue:q,onChange:n=>$(n,t),label:"Goal",variant:"outlined",inputProps:{min:w||0}})]}),null==U?void 0:U.map((n,t)=>{var e;let{rawName:l,name:o,materialCost:c,isMaterialCost:s,goldCost:d}=n;return(0,i.jsxs)(r.Z,{gap:1,mt:2,children:[(0,i.jsxs)(r.Z,{gap:2,justifyContent:"center",direction:"row",alignItems:"center",children:[(0,i.jsx)(A,{src:"".concat(p.prefix,"data/SignStar3b.png"),alt:""}),(0,i.jsx)(a.Z,{children:isNaN(L)?0:L}),(0,i.jsx)(f.Z,{title:"Best to craft with ".concat(null!==(e=null==R?void 0:R.character)&&void 0!==e?e:"Nobody"," (Capacity: ").concat(isNaN(null==R?void 0:R.maxCapacity)?0:(0,p.notateNumber)(null==R?void 0:R.maxCapacity,"Big"),")"),children:(0,i.jsxs)(r.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,i.jsx)(G,{hide:!c||!s,src:"".concat(p.prefix,"data/").concat(l,".png"),alt:""}),c?(0,p.notateNumber)(c,"Big"):null]})})]}),(0,i.jsx)(j.Z,{title:"",money:(0,p.getCoinsArray)(d)})]},"".concat(l,"-").concat(o,"-").concat(t))})]})})},b+""+y+t)})})})]})}}},function(n){n.O(0,[4680,1909,9774,2888,179],function(){return n(n.s=84986)}),_N_E=n.O()}]);