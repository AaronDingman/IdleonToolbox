(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7339],{70435:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-1/anvil",function(){return t(48362)}])},86554:function(n,e,t){"use strict";var l=t(85893),i=t(87357),r=t(81458),o=t(15861);t(67294),e.Z=n=>{let{percent:e,bgColor:t,label:a=!0,sx:d,pre:c}=n;return(0,l.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[c,(0,l.jsx)(i.Z,{sx:{width:"100%",mr:1},children:(0,l.jsx)(r.Z,{sx:{width:"100%",height:10,borderRadius:5,"& .MuiLinearProgress-bar":{backgroundColor:t||""},...d},variant:"determinate",value:e>100?100:e})}),a?(0,l.jsx)(i.Z,{children:(0,l.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(e),"%")})}):null]})}},33948:function(n,e,t){"use strict";var l=t(85893),i=t(67294),r=t(96986),o=t(33913),a=t(39574),d=t(15861);e.Z=n=>{let{date:e,startDate:t,lastUpdated:c,stopAtZero:s,type:u,pause:v,staticTime:h,placeholder:x,loop:f,variant:p="inherit"}=n,[g,m]=(0,i.useState)();(0,i.useEffect)(()=>{if(e){if(h){if(!isFinite(e))return;return m({...(0,a.getDuration)(new Date().getTime(),e)})}let n=new Date,t=n.getTime()-(null!=c?c:0),l=(0,o.Z)(e);m({...(0,a.getDuration)(null==n?void 0:n.getTime(),e+t*("countdown"===u?-1:1)),overtime:"countdown"===u&&l})}},[e,c]);let j=()=>{let{days:n,hours:e,minutes:t,seconds:l}=g;60===(l+=1)&&(l=0,60===(t+=1)&&(t=0,24===(e+=1)&&(n+=1))),m({...g,days:n,hours:e,minutes:t,seconds:l})},Z=()=>{let{days:n,hours:e,minutes:l,seconds:i}=g;if(0===n&&0===e&&0===l&&0===i){if(s)return;if(f)return m({...(0,a.getDuration)(new Date().getTime(),t)})}-1==(i-=1)&&(i=59,-1==(l-=1)&&(l=59,-1==(e-=1)&&(e=0,n-=1))),m({...g,days:n,hours:e,minutes:l,seconds:i})};(0,r.Z)(()=>{if(!g)return null;"countdown"!==u||(null==g?void 0:g.overtime)?j():Z()},v||h?null:1e3);let w=n=>{let e=String(n);return(null==e?void 0:e.length)===1?"0".concat(n):n};return g?((null==g?void 0:g.overtime)||v)&&x?x:(0,l.jsxs)(d.Z,{variant:p,sx:{color:"".concat((null==g?void 0:g.overtime)&&!f?"#f91d1d":"")},component:"span",children:[(null==g?void 0:g.days)?w(null==g?void 0:g.days)+"d:":"",w(null==g?void 0:g.hours)+"h:",w(null==g?void 0:g.minutes)+"m",(null==g?void 0:g.days)?"":":",(null==g?void 0:g.days)?"":w(null==g?void 0:g.seconds)+"s"]}):null}},48362:function(n,e,t){"use strict";t.r(e);var l=t(82729),i=t(85893),r=t(67294),o=t(41422),a=t(15861),d=t(51233),c=t(66242),s=t(44267),u=t(49425),v=t(39574),h=t(33948),x=t(61599),f=t(86554),p=t(77905),g=t(2962);function m(){let n=(0,l._)(["\n  width: 42px;\n  height: 42px;\n"]);return m=function(){return n},n}let j=x.Z.img(m());e.default=()=>{let{state:n}=(0,r.useContext)(o.I),{anvil:e}=(null==n?void 0:n.account)||{};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.PB,{title:"Idleon Toolbox | Anvil",description:"Keep track of your characters anvil production"}),(0,i.jsx)(a.Z,{variant:"h2",mb:3,children:"Anvil"}),(0,i.jsx)(d.Z,{gap:3,children:null==e?void 0:e.map((e,t)=>{var l,r,o,x,g,m,Z,w,y,_,b,C,I;let T=null==n?void 0:null===(l=n.characters)||void 0===l?void 0:null===(r=l[t])||void 0===r?void 0:r.classIndex,M=null==n?void 0:null===(o=n.characters)||void 0===o?void 0:null===(x=o[t])||void 0===x?void 0:x.name,D=null===(g=null==n?void 0:null===(m=n.characters)||void 0===m?void 0:m[t].skillsInfo)||void 0===g?void 0:null===(Z=g.smithing)||void 0===Z?void 0:Z.level,{stats:E,production:k}=(0,p.eW)(null==n?void 0:null===(w=n.characters)||void 0===w?void 0:w[t],null==n?void 0:n.characters,null==n?void 0:n.account),{availablePoints:N,pointsFromCoins:A,pointsFromMats:P}=E||{},S=null==n?void 0:null===(y=n.characters)||void 0===y?void 0:null===(_=y[t])||void 0===_?void 0:_.afkTime,F=null==n?void 0:null===(b=n.characters)||void 0===b?void 0:null===(C=b[t])||void 0===C?void 0:null===(I=C.equippedBubbles)||void 0===I?void 0:I.find(n=>{let{bubbleName:e}=n;return"HAMMER_HAMMER"===e}),H=null==k?void 0:k.filter(n=>{let{hammers:e}=n;return e>0}),R=null==H?void 0:H.reduce((n,e)=>{let{hammers:t}=e;return n+t},0),B=R===(F?3:2)?H:(0,v.fillArrayToLength)(R,H);return(0,i.jsx)(c.Z,{sx:{width:{xs:"100%",lg:700}},children:(0,i.jsx)(s.Z,{children:(0,i.jsxs)(d.Z,{sx:{flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,i.jsxs)(d.Z,{sx:{width:175,textAlign:"center",flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,i.jsx)(d.Z,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)("img",{className:"class-icon",src:"".concat(v.prefix,"data/ClassIcons").concat(T,".png"),alt:""})}),(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(a.Z,{className:"character-name",children:M}),(0,i.jsxs)(a.Z,{variant:"caption",children:["Smithing lv. ",D]}),(0,i.jsxs)(a.Z,{variant:"caption",color:0===N?"":N>0?"error.light":"secondary",children:["Points ",A+P-N," / ",A+P]})]})]}),(0,i.jsx)(d.Z,{sx:{justifyContent:{xs:"center",md:"flex-start"}},direction:"row",alignItems:"center",flexWrap:"wrap",gap:3,children:null==B?void 0:B.map((e,t)=>{let{rawName:l,hammers:r,currentAmount:o,currentProgress:x,time:g}=e,m=(new Date().getTime()-S)/1e3,Z=Math.min(Math.round(o+(x+m*(null==E?void 0:E.anvilSpeed)/3600)/g*(null!=r?r:0)),null==E?void 0:E.anvilCapacity),w=Math.round(Z/(null==E?void 0:E.anvilCapacity)*100),y=(0,p.MH)({...e,stats:E,afkTime:S});return(0,i.jsx)(c.Z,{elevation:5,sx:{boxShadow:r>0?"inherit":"0px 0px 5px #ff0707"},children:(0,i.jsx)(s.Z,{children:r>0?(0,i.jsxs)(d.Z,{sx:{width:90,height:65},justifyContent:"flex-start",alignItems:"center",children:[(0,i.jsx)(u.Z,{color:"secondary",variant:"standard",badgeContent:r>1?r:0,children:(0,i.jsx)(j,{src:"".concat(v.prefix,"data/").concat(l,".png"),alt:""})}),(0,i.jsx)(f.Z,{percent:w,label:!1}),(0,i.jsx)(h.Z,{date:new Date().getTime()+1e3*y,type:"countdown",placeholder:(0,i.jsx)(a.Z,{color:"error.light",children:"Full"}),lastUpdated:null==n?void 0:n.lastUpdated})]}):(0,i.jsx)(d.Z,{sx:{width:90,height:65},alignItems:"center",justifyContent:"center",children:(0,i.jsx)(a.Z,{variant:"caption",children:"EMPTY"})})})},"".concat(l,"-").concat(t))})})]})})},"printer-row-".concat(t))})})]})}}},function(n){n.O(0,[1362,9774,2888,179],function(){return n(n.s=70435)}),_N_E=n.O()}]);