(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7339],{70435:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-1/anvil",function(){return t(48362)}])},86554:function(n,e,t){"use strict";var i=t(85893),l=t(87357),r=t(81458),o=t(15861);t(67294),e.Z=n=>{let{percent:e,bgColor:t,label:a=!0,sx:c,boxSx:d={},pre:s}=n;return(0,i.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",...d},children:[s,(0,i.jsx)(l.Z,{sx:{width:"100%",mr:1},children:(0,i.jsx)(r.Z,{sx:{width:"100%",height:10,borderRadius:5,"& .MuiLinearProgress-bar":{backgroundColor:t||""},...c},variant:"determinate",value:e>100?100:e})}),a?(0,i.jsx)(l.Z,{children:(0,i.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(e),"%")})}):null]})}},33948:function(n,e,t){"use strict";var i=t(85893),l=t(67294),r=t(96986),o=t(33913),a=t(39574),c=t(15861);e.Z=n=>{let{date:e,startDate:t,lastUpdated:d,stopAtZero:s,type:u,pause:h,staticTime:v,placeholder:x,loop:p,variant:m="inherit"}=n,[g,j]=(0,l.useState)();(0,l.useEffect)(()=>{if(e){if(v){if(!isFinite(e))return;return j({...(0,a.getDuration)(new Date().getTime(),e)})}let n=new Date,t=n.getTime()-(null!=d?d:0),i=(0,o.Z)(e);j({...(0,a.getDuration)(null==n?void 0:n.getTime(),e+t*("countdown"===u?-1:1)),overtime:"countdown"===u&&i})}},[e,d]);let f=()=>{let{days:n,hours:e,minutes:t,seconds:i}=g;60===(i+=1)&&(i=0,60===(t+=1)&&(t=0,24===(e+=1)&&(n+=1))),j({...g,days:n,hours:e,minutes:t,seconds:i})},Z=()=>{let{days:n,hours:e,minutes:i,seconds:l}=g;if(0===n&&0===e&&0===i&&0===l){if(s)return;if(p)return j({...(0,a.getDuration)(new Date().getTime(),t)})}-1==(l-=1)&&(l=59,-1==(i-=1)&&(i=59,-1==(e-=1)&&(e=0,n-=1))),j({...g,days:n,hours:e,minutes:i,seconds:l})};(0,r.Z)(()=>{if(!g)return null;"countdown"!==u||(null==g?void 0:g.overtime)?f():Z()},h||v?null:1e3);let w=n=>{let e=String(n);return(null==e?void 0:e.length)===1?"0".concat(n):n};return g?((null==g?void 0:g.overtime)||h)&&x?x:(0,i.jsxs)(c.Z,{variant:m,sx:{color:"".concat((null==g?void 0:g.overtime)&&!p?"#f91d1d":"")},component:"span",children:[(null==g?void 0:g.days)?w(null==g?void 0:g.days)+"d:":"",w(null==g?void 0:g.hours)+"h:",w(null==g?void 0:g.minutes)+"m",(null==g?void 0:g.days)?"":":",(null==g?void 0:g.days)?"":w(null==g?void 0:g.seconds)+"s"]}):null}},48362:function(n,e,t){"use strict";t.r(e);var i=t(82729),l=t(85893),r=t(67294),o=t(41422),a=t(15861),c=t(51233),d=t(66242),s=t(44267),u=t(49425),h=t(39574),v=t(33948),x=t(61599),p=t(77905),m=t(2962),g=t(51053),j=t(86554);function f(){let n=(0,i._)(["\n  width: 42px;\n  height: 42px;\n"]);return f=function(){return n},n}let Z=x.Z.img(f());e.default=()=>{let{state:n}=(0,r.useContext)(o.I),{anvil:e}=(null==n?void 0:n.account)||{},t=(0,r.useMemo)(()=>(0,p.J7)(null==n?void 0:n.account,null==n?void 0:n.characters),[null==n?void 0:n.account,null==n?void 0:n.characters]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.PB,{title:"Idleon Toolbox | Anvil",description:"Keep track of your characters anvil production"}),(0,l.jsx)(a.Z,{variant:"h2",mb:3,children:"Anvil"}),(0,l.jsxs)(c.Z,{direction:"row",alignItems:"baseline",gap:1,children:[(0,l.jsx)(a.Z,{variant:"h4",children:"Totals"}),(0,l.jsx)(a.Z,{variant:"caption",children:"* per hour"})]}),(0,l.jsx)(c.Z,{direction:"row",gap:2,sx:{mt:2,mb:5},flexWrap:"wrap",children:Object.entries(t||{}).map((n,e)=>{let[t,i]=n;return(0,l.jsx)(d.Z,{children:(0,l.jsx)(g.Z,{title:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.Z,{children:[(0,h.notateNumber)(24*i,"Big")," / day"]}),(0,l.jsx)(a.Z,{variant:"caption",children:"In case you're claiming before full"})]}),children:(0,l.jsx)(s.Z,{children:(0,l.jsxs)(c.Z,{alignItems:"center",gap:1,children:[(0,l.jsx)("img",{width:25,height:25,src:"".concat(h.prefix,"data/").concat(t,".png"),alt:""}),(0,l.jsx)(a.Z,{children:(0,h.notateNumber)(i,"Big")})]})})})},"total"+t+e)})}),(0,l.jsx)(c.Z,{gap:3,children:null==e?void 0:e.map((e,t)=>{var i,r,o,x,m,f,w,y,b,T,I,M,_;let C=null==n?void 0:null===(i=n.characters)||void 0===i?void 0:null===(r=i[t])||void 0===r?void 0:r.classIndex,D=null==n?void 0:null===(o=n.characters)||void 0===o?void 0:null===(x=o[t])||void 0===x?void 0:x.name,E=null===(m=null==n?void 0:null===(f=n.characters)||void 0===f?void 0:f[t].skillsInfo)||void 0===m?void 0:null===(w=m.smithing)||void 0===w?void 0:w.level,{stats:N,production:k}=(0,p.eW)(null==n?void 0:null===(y=n.characters)||void 0===y?void 0:y[t],null==n?void 0:n.characters,null==n?void 0:n.account),{availablePoints:A,pointsFromCoins:P,pointsFromMats:F}=N||{},B=null==n?void 0:null===(b=n.characters)||void 0===b?void 0:null===(T=b[t])||void 0===T?void 0:T.afkTime,S=null==n?void 0:null===(I=n.characters)||void 0===I?void 0:null===(M=I[t])||void 0===M?void 0:null===(_=M.equippedBubbles)||void 0===_?void 0:_.find(n=>{let{bubbleName:e}=n;return"HAMMER_HAMMER"===e}),H=null==k?void 0:k.filter(n=>{let{hammers:e}=n;return e>0}),O=null==H?void 0:H.reduce((n,e)=>{let{hammers:t}=e;return n+t},0),U=O===(S?3:2)?H:(0,h.fillArrayToLength)(O,H);return(0,l.jsx)(d.Z,{sx:{width:{xs:"100%",lg:700}},children:(0,l.jsx)(s.Z,{children:(0,l.jsxs)(c.Z,{sx:{flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,l.jsxs)(c.Z,{sx:{width:175,textAlign:"center",flexDirection:{xs:"column",md:"row"}},alignItems:"center",gap:2,children:[(0,l.jsx)(c.Z,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)("img",{className:"class-icon",src:"".concat(h.prefix,"data/ClassIcons").concat(C,".png"),alt:""})}),(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(a.Z,{className:"character-name",children:D}),(0,l.jsxs)(a.Z,{variant:"caption",children:["Smithing lv. ",E]}),(0,l.jsxs)(a.Z,{variant:"caption",color:0===A?"":A>0?"error.light":"secondary",children:["Points ",P+F-A," / ",P+F]})]})]}),(0,l.jsx)(c.Z,{sx:{justifyContent:{xs:"center",md:"flex-start"}},direction:"row",alignItems:"center",flexWrap:"wrap",gap:3,children:null==U?void 0:U.map((e,t)=>{let{rawName:i,hammers:r,currentAmount:o,currentProgress:x,requiredAmount:m,currentXP:f}=e,w=(new Date().getTime()-B)/1e3,y=Math.min(Math.round(o+(x+w*(null==N?void 0:N.anvilSpeed)/3600)/m*(null!=r?r:0)),null==N?void 0:N.anvilCapacity),b=Math.round(y/(null==N?void 0:N.anvilCapacity)*100),T=(0,p.MH)({...e,stats:N,afkTime:B}),I=(0,p.MH)({...e,stats:N,afkTime:B,currentAmount:0,currentProgress:0});return(0,l.jsx)(d.Z,{elevation:5,sx:{boxShadow:r>0?"inherit":"0px 0px 5px #ff0707"},children:(0,l.jsx)(g.Z,{title:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Z,{children:"Max from zero"}),(0,l.jsx)(v.Z,{date:new Date().getTime()+1e3*I,staticTime:!0,type:"countdown",placeholder:(0,l.jsx)(a.Z,{color:"error.light",children:"Full"}),lastUpdated:null==n?void 0:n.lastUpdated})]}),children:(0,l.jsx)(s.Z,{children:r>0?(0,l.jsxs)(c.Z,{justifyContent:"flex-start",children:[(0,l.jsx)(u.Z,{anchorOrigin:{vertical:"top",horizontal:"left"},color:"secondary",variant:"standard",badgeContent:r>1?r:0,children:(0,l.jsx)(Z,{src:"".concat(h.prefix,"data/").concat(i,".png"),alt:""})}),(0,l.jsx)(v.Z,{date:new Date().getTime()+1e3*T,staticTime:!0,type:"countdown",placeholder:(0,l.jsx)(a.Z,{color:"error.light",children:"Full"}),lastUpdated:null==n?void 0:n.lastUpdated}),(0,l.jsxs)(a.Z,{children:["Exp: ",(0,h.notateNumber)(f,"Big")]}),(0,l.jsx)(j.Z,{percent:b,label:!1})]}):(0,l.jsx)(c.Z,{sx:{width:90,height:65},alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.Z,{variant:"caption",children:"EMPTY"})})})})},"".concat(i,"-").concat(t))})})]})})},"printer-row-".concat(t))})})]})}}},function(n){n.O(0,[1362,9774,2888,179],function(){return n(n.s=70435)}),_N_E=n.O()}]);