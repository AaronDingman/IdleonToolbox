(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{5228:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/dungeons",function(){return c(5488)}])},134:function(e,b,a){"use strict";var f=a(5893),g=a(7294),h=a(3277),i=a(3913),j=a(7702),c=a(5934),k=a(5861);function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){l(d,a,c[a])})}return d}function d(){var a,b,c=(a=["\n  .overtime {\n    font-weight: bold;\n    color: #f91d1d;\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return d=function(){return c},c}var n=c.Z.span(d());b.Z=function(b){var p=b.date,t=b.startDate,q=b.lastUpdated,r=b.type,d=b.pause,s=b.staticTime,e=b.placeholder,u=b.loop,l=(0,g.useState)(),a=l[0],v=l[1],o=(0,g.useState)(r),w=o[0],x=o[1];(0,g.useEffect)(function(){if(p){if(s)return v(m({},(0,j.getDuration)(new Date().getTime(),p)));var a=new Date,c=a.getTime()-(null!=q?q:0),b=(0,i.Z)(p);v(m({},(0,j.getDuration)(null==a?void 0:a.getTime(),p+c*("countdown"===r?-1:1)),{overtime:"countdown"===r&&b})),b&&x("cooldown")}},[p,q]);var y=function(){var d=a.days,e=a.hours,b=a.minutes,c=a.seconds;60===(c+=1)&&(c=0,60===(b+=1)&&(b=0,24===(e+=1)&&(d+=1))),v(m({},a,{days:d,hours:e,minutes:b,seconds:c}))},z=function(){var e=a.days,b=a.hours,c=a.minutes,d=a.seconds;if(0===e&&0===b&&0===c&&0===d&&u)return v(m({},(0,j.getDuration)(new Date().getTime(),t)));-1==(d-=1)&&(d=59,-1==(c-=1)&&(c=59,-1==(b-=1)&&(b=0,e-=1))),v(m({},a,{days:e,hours:b,minutes:c,seconds:d}))};(0,h.Z)(function(){if(!a)return null;"countdown"===w?z():y()},d||s?null:1e3);var c=function(a){var b=String(a);return(null==b?void 0:b.length)===1?"0".concat(a):a};return a?(0,f.jsx)(n,{className:"".concat((null==a?void 0:a.overtime)?"overtime":""),children:((null==a?void 0:a.overtime)||d)&&e?e:(0,f.jsxs)(k.Z,{component:"span",children:[(null==a?void 0:a.days)?c(null==a?void 0:a.days)+"d:":"",c(null==a?void 0:a.hours)+"h:",c(null==a?void 0:a.minutes)+"m",(null==a?void 0:a.days)?"":":",(null==a?void 0:a.days)?"":c(null==a?void 0:a.seconds)+"s"]})}):null}},5488:function(e,b,a){"use strict";a.r(b);var f=a(5893),g=a(7294),h=a(5861),i=a(6447),j=a(7358),k=a(8895),l=a(2797),m=a(6242),n=a(4267),o=a(7702),p=a(4897),c=a(5934),q=a(1260),r=a(8366),s=a(3913),t=a(134),u=a(3508);function d(){var a,b,c=(a=["\n  width: 25px;\n  object-fit: contain;\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return d=function(){return c},c}var v=function(b){var a=(0,q.Z)((0,r.Z)());return a=a.getTime()-6e4*a.getTimezoneOffset(),null==b?void 0:b.map(function(b){return b+Math.round(a/1e3)-3600})},w=function(a){var c=a.column,b=a.sx,d=a.children;return(0,f.jsx)(m.Z,{sx:void 0===b?{}:b,children:(0,f.jsx)(n.Z,{sx:{height:"100%",display:"flex"},children:(0,f.jsx)(i.Z,{direction:c?"column":"row",gap:1,justifyContent:"center",alignItems:"center",children:d})})})},x=c.Z.img(d()),y=function(a){var c=a.isFlurbo,b=a.upgrades,d=function(d){for(var b=0,a=d;a<(c?50:100);a++)b+=e(a);return b},e=function(a){if(c){var b=Math.pow(1.7*a,1.05),d=1.027+(a-30)/(a+30)*.01*Math.floor((a+970)/1e3);return Math.floor(1+b*Math.pow(d,a))}return Math.floor(2+Math.pow(1.5*a,1.04)*Math.pow(1.024+(a-60)/(a+60)*.01*Math.floor((a+940)/1e3),a))};return(0,f.jsxs)(i.Z,{children:[(0,f.jsxs)(h.Z,{my:2,variant:"h4",children:[c?"Flurbo":"Dungeon"," Upgrades"]}),(0,f.jsx)(i.Z,{gap:1,children:(void 0===b?[]:b).map(function(b,p){var a,g=b.level,j=b.type,k=b.effect,l=g>=(c?50:100);return(0,f.jsx)(m.Z,{sx:{width:450},children:(0,f.jsx)(n.Z,{children:(0,f.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",gap:2,children:[(0,f.jsxs)(i.Z,{children:[(0,f.jsxs)(h.Z,{children:["+",(a=b,(0,o.growth)(null==a?void 0:a.func,null==a?void 0:a.level,null==a?void 0:a.x1,null==a?void 0:a.x2)),"%"===j?j:""," ",(0,o.cleanUnderscore)(k)]}),(0,f.jsx)(h.Z,{color:l?"success.light":"",children:l?"MAXED":"Lv. ".concat(g," / ").concat(c?50:100)})]}),(0,f.jsxs)(i.Z,{direction:"row",gap:3,children:[(0,f.jsxs)(i.Z,{children:[(0,f.jsx)(h.Z,{color:"info.light",children:"Cost"}),(0,f.jsx)(h.Z,{children:e(g)})]}),(0,f.jsxs)(i.Z,{children:[(0,f.jsx)(h.Z,{color:"info.light",children:"Cost to max"}),(0,f.jsx)(h.Z,{children:d(g)})]})]})]})})},"".concat(k,"-").concat(p))})})]})};b.default=function(){var c=(0,g.useContext)(p.I).state,a=(null==c?void 0:c.account).dungeons,d=(0,g.useMemo)(function(){var a;return v(null==c?void 0:null===(a=c.serverVars)|| void 0===a?void 0:a.HappyHours)||[]},[c]),b=null==d?void 0:d.filter(function(a){return!(0,s.Z)(1e3*a)}).map(function(a){return 1e3*a});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.Z,{my:2,variant:"h2",children:"Dungeons"}),(0,f.jsxs)(i.Z,{direction:"row",gap:4,children:[(0,f.jsxs)(w,{children:[(0,f.jsx)(x,{src:"".concat(o.prefix,"data/Dung_Rank").concat(a.rank,".png"),alt:""}),(0,f.jsxs)(i.Z,{children:[(0,f.jsxs)(h.Z,{children:["Rank: ",a.rank]}),(0,f.jsxs)(h.Z,{children:[a.progress," / ",a.rankReq]})]})]}),(0,f.jsx)(w,{children:(0,f.jsxs)(h.Z,{children:["Boosted Runs: ",a.boostedRuns]})}),(0,f.jsxs)(w,{children:[(0,f.jsx)(x,{src:"".concat(o.prefix,"data/DungCredits1.png"),alt:""}),a.credits]}),(0,f.jsxs)(w,{children:[(0,f.jsx)(x,{src:"".concat(o.prefix,"data/DungCredits2.png"),alt:""}),a.flurbos]})]}),(null==b?void 0:b.length)>0?(0,f.jsx)(i.Z,{my:2,direction:"row",gap:4,children:(0,f.jsxs)(j.Z,{children:[(0,f.jsx)(k.Z,{expandIcon:b.length>1?(0,f.jsx)(u.Z,{}):null,children:(0,f.jsxs)(i.Z,{direction:"row",gap:2,children:[(0,f.jsx)(h.Z,{children:"Next happy hour:"}),(0,f.jsx)(t.Z,{date:null==b?void 0:b[0],lastUpdated:null==c?void 0:c.lastUpdated})]})}),b.length>1?(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(h.Z,{mb:1,children:"Future happy hours"}),(0,f.jsx)(i.Z,{gap:2,children:b.map(function(b,a){return 0===a?null:(0,f.jsx)(t.Z,{date:b,lastUpdated:null==c?void 0:c.lastUpdated},"happy-".concat(a))})})]}):null]})}):null,(0,f.jsxs)(i.Z,{direction:"row",gap:4,children:[(0,f.jsx)(y,{upgrades:null==a?void 0:a.insideUpgrades}),(0,f.jsx)(y,{isFlurbo:!0,upgrades:null==a?void 0:a.upgrades})]})]})}}},function(a){a.O(0,[0,774,888,179],function(){return a(a.s=5228)}),_N_E=a.O()}])