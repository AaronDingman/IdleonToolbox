(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1379],{5789:function(n,e,t){"use strict";var l=t(5318);e.Z=void 0;var r=l(t(4938)),i=t(5893),a=(0,r.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");e.Z=a},3713:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/characters",function(){return t(7756)}])},7756:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nF}});var l=t(5893),r=t(7294),i=t(6886),a=t(6447),s=t(5861),c=t(2729),o=t(7357),d=t(9574),x=t(1053),u=t(5934),h=t(3283);function p(){let n=(0,c._)(["\n  display: grid;\n  gap: 5px;\n  grid-template-columns: repeat(4, minmax(36px, max-content));\n  justify-content: center;\n"]);return p=function(){return n},n}function j(){let n=(0,c._)(["\n  filter: ",";\n  opacity: ",";\n  justify-self: center;\n  width: 48px;\n  height: 48px;\n\n  @media (max-width: 370px) {\n    width: 36px;\n    height: 36px;\n  }\n"]);return j=function(){return n},n}let v=n=>{let{bags:e,capBags:t}=n;return(0,l.jsxs)(m,{children:[null==e?void 0:e.map((n,e)=>(0,l.jsx)(x.Z,{title:(0,l.jsx)(h.Z,{...n}),children:(0,l.jsx)(g,{exists:null==n?void 0:n.acquired,src:"".concat(d.prefix,"data/").concat(null==n?void 0:n.rawName,".png"),alt:""})},(null==n?void 0:n.displayName)+e)),null==t?void 0:t.map((n,e)=>{let{displayName:t,rawName:r,capacity:i}=n;return(0,l.jsx)(x.Z,{title:(0,l.jsx)(h.Z,{...n}),children:(0,l.jsx)(g,{exists:!0,src:"".concat(d.prefix,"data/").concat(r,".png"),alt:""})},t+e)})]})},m=u.Z.div(p()),g=u.Z.img(j(),n=>{let{exists:e}=n;return e?"grayscale(0)":"grayscale(1)"},n=>{let{exists:e}=n;return e?"1":"0.3"});var f=t(1703),Z=t(44),y=t(5164);function w(){let n=(0,c._)(["\n  width: 50px;\n  height: 50px;\n  margin-bottom: ",";\n"]);return w=function(){return n},n}function b(){let n=(0,c._)(["\n  text-align: center;\n\n  .tabs {\n    position: relative;\n    display: grid;\n    margin-top: 10px;\n    grid-template-columns: repeat(auto-fill, 50px);\n    grid-template-rows: 50px;\n    column-gap: 2px;\n    justify-content: center;\n\n    .active {\n      filter: brightness(1);\n    }\n\n    .star {\n      position: absolute;\n      right: 0;\n    }\n\n    > img {\n      cursor: pointer;\n      filter: brightness(0.4);\n\n      &:last-child {\n        justify-self: flex-end;\n      }\n    }\n  }\n\n  .star-talents-arrows {\n    height: 80%;\n  }\n\n  .arrow {\n    cursor: pointer;\n    align-self: center;\n  }\n\n\n  .talents-wrapper {\n    position: relative;\n    margin-top: 25px;\n    display: grid;\n    min-height: 245px;\n    grid-template-columns: repeat(5, 50px);\n    //column-gap: 10px;\n    row-gap: 10px;\n    justify-content: center;\n    margin-bottom: 10px;\n  }\n"]);return b=function(){return n},n}let k=n=>{var e,t;let{talents:i,starTalents:a}=n,[c,o]=(0,r.useState)(0),[u,h]=(0,r.useState)(0),[p,j]=(0,r.useState)(),[v,m]=(0,r.useState)(1);(0,r.useEffect)(()=>{let n=4===u?w(a,v):i[u];j(n),m(1)},[u]);let g=n=>{m(n),j(w(a,n))},w=(n,e)=>{let t=JSON.parse(JSON.stringify(null==n?void 0:n.orderedTalents)),l=1===e?null==t?void 0:t.slice(0,13):2===e?null==t?void 0:t.slice(13,26):null==t?void 0:t.slice(26,t.length);if(l.length<13){var r;l=Array(13).fill(1).map((n,e)=>null!==(r=l[e])&&void 0!==r?r:{})}return null==l||l.splice(10,0,{talentId:"arrow"}),null==l||l.splice(14,0,{talentId:"arrow"}),{...n,orderedTalents:l}},b=(n,e)=>n&&-1!==n&&e&&-1!==e?"".concat(n,"/").concat(e):"";return(0,l.jsxs)(N,{active:u,children:[(0,l.jsxs)(f.Z,{centered:!0,value:c,onChange:(n,e)=>o(e),children:[null===(e=Object.keys(i))||void 0===e?void 0:e.map(n=>{var e,t;let r=null==i?void 0:null===(e=i[n])||void 0===e?void 0:e.name;return(0,l.jsx)(Z.Z,{sx:{minWidth:{xs:"unset",sm:"inherit"}},icon:(0,l.jsx)(C,{src:"".concat(d.prefix,"data/ClassIcons").concat(null==i?void 0:null===(t=i[n])||void 0===t?void 0:t.id,".png"),alt:r}),"aria-label":"".concat(r,"-tab"),onClick:()=>h(parseInt(n))},"".concat(r,"-").concat(n))}),(0,l.jsx)(Z.Z,{sx:{minWidth:{xs:"unset",sm:"inherit"}},onClick:()=>h(4),"aria-label":"star-sign-tab",icon:(0,l.jsx)(C,{src:"".concat(d.prefix,"data/ClassIcons0.png"),alt:""})})]}),(0,l.jsx)("div",{className:"talents-wrapper",children:null==p?void 0:null===(t=p.orderedTalents)||void 0===t?void 0:t.map((n,e)=>{let{talentId:t,level:r,maxLevel:i}=n;if(e>=15)return null;let a=b(r,i);return"Blank"===t||"84"===t||"arrow"===t?(0,l.jsxs)("div",{className:"blank ".concat((10===e||14===e)&&"arrow"),children:[10!==e&&14!==e&&(0,l.jsx)(I,{src:"".concat(d.prefix,"data/UISkillIconLocke.png"),alt:""}),10===e&&v>1?(0,l.jsx)("div",{children:(0,l.jsx)(I,{onClick:()=>g(v-1),className:"arrow",src:"".concat(d.prefix,"data/UIAnvilArrowsG2.png"),arrow:!0,alt:""})}):null,(14===e||26===e)&&v<4?(0,l.jsx)("div",{children:(0,l.jsx)(I,{onClick:()=>g(v+1),className:"arrow",src:"".concat(d.prefix,"data/UIAnvilArrowsG1.png"),arrow:!0,alt:""})}):null]},t+""+e):(0,l.jsx)(x.Z,{title:(0,l.jsx)(y.u3,{...n}),children:(0,l.jsxs)("div",{className:"talent-wrapper",children:[isNaN(t)?(0,l.jsx)(I,{src:"".concat(d.prefix,"data/UISkillIconLocke.png"),alt:""}):(0,l.jsx)(I,{src:"".concat(d.prefix,"data/UISkillIcon").concat(t,".png"),alt:""}),(0,l.jsxs)(s.Z,{fontSize:12,children:[a,"\xa0"]})]})},t+""+e)})}),(0,l.jsx)("div",{className:"star-talents-arrows",children:(0,l.jsxs)("span",{style:{opacity:4===u?1:0},children:["Specials ",v]})})]})},C=n=>{let{src:e}=n;return(0,l.jsx)(o.Z,{sx:{width:{xs:30},"> img":{width:{xs:30}}},children:(0,l.jsx)("img",{src:e,alt:""})})},I=u.Z.img(w(),n=>{let{arrow:e}=n;return e?"20px":0}),N=u.Z.div(b());var S=t(510);function U(){let n=(0,c._)(["\n  width: 56px;\n  height: 72px;\n  border: 2px solid #5d5d5d;\n  border-radius: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return U=function(){return n},n}let _=n=>{let{cards:e}=n,{equippedCards:t,cardSet:r}=e;return(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(s.Z,{mb:2,variant:"h5",children:"Equipped cards"}),(0,l.jsxs)(a.Z,{children:[(null==r?void 0:r.rawName)?(0,l.jsx)(a.Z,{mb:3,justifyContent:"center",direction:"row",children:(0,l.jsx)(o.Z,{sx:{position:"relative"},children:(0,l.jsx)(y.iy,{variant:"cardSet",...r})})}):null,(0,l.jsx)(i.ZP,{container:!0,rowGap:3,children:null==t?void 0:t.map((n,e)=>{let{cardName:t,amount:r}=n,a=(0,S.BZ)(n);return(0,l.jsx)(i.ZP,{display:"flex",justifyContent:"center",position:"relative",xs:3,item:!0,children:r>0?(0,l.jsx)(y.iy,{...n,bonus:a}):(0,l.jsx)(F,{children:(0,l.jsx)(s.Z,{variant:"subtitle2",children:"EMPTY"})})},"".concat(t,"-").concat(e))})})]})]})},F=u.Z.div(U());var T=t(6242),M=t(4267),W=t(8216),A=t(6554);let P=n=>({1:"success.light",2:"warning.light",3:"secondary.main"})[n],D=n=>{var e;let{skills:t,charName:r}=n;return(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(s.Z,{variant:"h5",children:"Skills"}),(0,l.jsx)(T.Z,{children:(0,l.jsx)(M.Z,{children:(0,l.jsx)(o.Z,{sx:{display:"grid",gridAutoFlow:"column",gridTemplateColumns:{xs:"repeat(4, minmax(45px, 100px))"},gridTemplateRows:{xs:"repeat(3, minmax(45px, 100px))"},justifyContent:"center"},children:null===(e=Object.keys(t))||void 0===e?void 0:e.map((n,e)=>{let{level:i,rank:a,icon:c}=t[n];return"character"===n?null:(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(x.Z,{title:(0,l.jsx)(E,{...null==t?void 0:t[n],skillName:n,charName:r}),children:(0,l.jsx)("img",{src:"".concat(d.prefix,"data/").concat(c,".png"),style:{width:38,height:36},alt:""})}),(0,l.jsxs)(s.Z,{children:["Lv ",i]}),(0,l.jsx)(x.Z,{title:"Rank across the account",children:(0,l.jsxs)(s.Z,{sx:{width:"fit-content",color:P(a),fontWeight:1===a||2===a||3===a?"bold":"400"},children:["R: ",a]})})]},e)})})})})]})},E=n=>{let{exp:e,expReq:t,charName:r,skillName:i,level:a}=n,c=e/t*100;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Z,{variant:"h5",fontWeight:"bold",children:r}),(0,l.jsxs)(s.Z,{variant:"body1",children:[(0,W.Z)(i)," ",(0,l.jsxs)(s.Z,{variant:"body1",component:"span",children:["(Lv. ",a,")"]})]}),(0,l.jsx)(A.Z,{percent:c,bgColor:"#f3dd4c"}),(0,l.jsxs)(s.Z,{variant:"body1",children:[(0,d.notateNumber)(e,"Big")," / ",(0,d.notateNumber)(t,"Big")," ",(0,l.jsxs)(s.Z,{variant:"body1",component:"span",children:["(",Math.round(c),"%)"]})]})]})};var O=t(7450);function B(){let n=(0,c._)(["\n  width: 50px;\n  height: 50px;\n"]);return B=function(){return n},n}let R=n=>{let{prayers:e}=n;return(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(s.Z,{variant:"h5",children:"Prayers"}),(0,l.jsx)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",justifyContent:"center",children:null==e?void 0:e.map((n,e)=>(0,l.jsx)(x.Z,{title:(0,l.jsx)(L,{...n}),children:(0,l.jsx)(z,{src:"".concat(d.prefix,"data/Prayer").concat(null==n?void 0:n.prayerIndex,".png"),alt:""})},name+e))})]})},z=u.Z.img(B()),L=n=>{let{name:e,x1:t,x2:r,level:i,prayerIndex:a,effect:c,curse:x,maxLevel:u,totalAmount:h,costMulti:p}=n,j=(0,O.il)({name:e,x1:t,x2:r,level:i,prayerIndex:a,costMulti:p});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Z,{mb:1,fontWeight:"bold",variant:"h5",children:(0,d.cleanUnderscore)(e)}),(0,l.jsxs)(s.Z,{fontWeight:"bold",variant:"body1",color:"success.dark",children:["Bonus: ",(0,l.jsx)(s.Z,{color:"black",fontWeight:400,component:"span",children:(0,d.cleanUnderscore)(c).replace("{",t+t*(i-1)/10)})]}),(0,l.jsxs)(s.Z,{fontWeight:"bold",variant:"body1",color:"error.dark",children:["Curse: ",(0,l.jsx)(s.Z,{color:"black",fontWeight:400,component:"span",children:(0,d.cleanUnderscore)(x).replace("{",r+r*(i-1)/10)})]}),(0,l.jsxs)(o.Z,{mt:1,children:["Cost: ",i!==u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Z,{component:"span",sx:{color:0===i?"":j<=h?"success.dark":"error.dark"},children:(0,d.kFormatter)((0,d.round)(j),2)})," (",(0,d.kFormatter)(h,2),")"]}):(0,l.jsx)(s.Z,{fontWeight:"bold",color:"success.dark",component:"span",children:"Maxed"})]})]})};function q(){let n=(0,c._)(["\n  width: 70px;\n  height: 70px;\n  object-fit: contain;\n"]);return q=function(){return n},n}let G=n=>{let{boxes:e,totalPointsSpent:t,totalOrders:r}=n;return(0,l.jsxs)(a.Z,{children:[(0,l.jsxs)(s.Z,{variant:"h5",children:["Post Office (",(0,l.jsx)(s.Z,{variant:"h5",color:t<r?"error.light":"",component:"span",children:t}),"/",(0,l.jsx)(s.Z,{variant:"h5",component:"span",children:r}),")"]}),(0,l.jsx)(a.Z,{direction:"row",gap:1,flexWrap:"wrap",sx:{maxWidth:310},children:null==e?void 0:e.map((n,e)=>(null==n?void 0:n.name)!=="Filler"?(0,l.jsx)("div",{children:(0,l.jsx)(x.Z,{title:(0,l.jsx)(J,{...n}),children:(0,l.jsx)(y.j8,{color:"primary",anchorOrigin:{vertical:"top",horizontal:"left"},overlap:"circular",badgeContent:(null==n?void 0:n.level)?(0,l.jsx)(s.Z,{fontSize:14,fontWeight:500,color:"black",children:null==n?void 0:n.level}):null,max:401,children:(0,l.jsx)(X,{src:"".concat(d.prefix,"data/UIboxUpg").concat(e,".png"),alt:""})})})},(null==n?void 0:n.name)+" "+e):null)})]})},X=u.Z.img(q()),J=n=>{let{name:e,upgrades:t,level:r}=n;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Z,{fontWeight:"bold",variant:"h6",children:(0,d.cleanUnderscore)(e)}),null==t?void 0:t.map((n,e)=>{let{bonus:t,func:i,x1:a,x2:s}=n;return(0,l.jsxs)("div",{children:[Math.max(0,(0,d.growth)(i,0===e?r:1===e?r-25:r-100,a,s)),(0,d.cleanUnderscore)(t)]},t+" "+e)})]})};var V=t(8973);function Y(){let n=(0,c._)(["\n  width: 50px;\n  height: 50px;\n  object-fit: contain;\n"]);return Y=function(){return n},n}let K=n=>{let{equipment:e,tools:t,food:r,account:i,character:c}=n;return(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(s.Z,{variant:"h5",children:"Equipment"}),(0,l.jsxs)(a.Z,{mt:2,direction:"row",gap:1,flexWrap:"wrap",justifyContent:"center",children:[(0,l.jsx)(Q,{items:e,character:c,account:i}),(0,l.jsx)(Q,{items:t,character:c,account:i}),(0,l.jsx)(Q,{items:r,character:c,account:i})]})]})},Q=n=>{let{items:e,character:t,account:r}=n;return(0,l.jsx)(o.Z,{sx:{display:"grid",justifyContent:"center",gridTemplateColumns:"repeat(2, 60px)"},children:e.map((n,e)=>{let{rawName:i,displayName:s,amount:c}=n;return s&&"ERROR"!==s?(0,l.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},variant:"outlined",children:(0,l.jsx)(M.Z,{sx:{"&:last-child":{padding:0}},children:(0,l.jsxs)(a.Z,{alignItems:"center",justifyContent:"center",children:[(0,l.jsx)(x.Z,{title:(0,l.jsx)(h.Z,{...n,character:t,account:r}),children:(0,l.jsx)($,{src:"".concat(d.prefix,"data/").concat(i,".png"),alt:i})}),c]})})},"".concat(i,"-").concat(e)):null})})},$=u.Z.img(Y());var H=t(372),nn=t(9597),ne=t(2421);function nt(){let n=(0,c._)(["\n  width: 30px;\n  height: 30px;\n"]);return nt=function(){return n},n}let nl=n=>{let{character:e,anvil:t}=n,{state:i}=(0,r.useContext)(nn.I),{pointsFromCoins:c,pointsFromMats:o,xpPoints:x,speedPoints:u,capPoints:h,anvilSpeed:p,anvilCapacity:j,anvilCost:v,anvilExp:m}=null==t?void 0:t.stats;return(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(s.Z,{variant:"h5",children:"Anvil Details"}),(0,l.jsxs)(a.Z,{children:[(0,l.jsxs)(ns,{title:(0,l.jsx)(ni,{...null==t?void 0:t.stats}),children:[(0,l.jsx)(na,{title:"Exp",value:x}),(0,l.jsx)(na,{title:"Speed",value:u}),(0,l.jsx)(na,{title:"Capacity",value:h})]}),(0,l.jsxs)(ns,{title:"Bonus",children:[(0,l.jsx)(na,{title:"Exp",value:"".concat((0,d.notateNumber)((0,ne.uv)(null==i?void 0:i.characters,e,m,x),"Big"),"%")}),(0,l.jsx)(na,{title:"Speed",value:(0,d.notateNumber)(p,"Big")}),(0,l.jsx)(na,{title:"Capacity",value:(0,d.kFormatter)(j)})]}),(0,l.jsxs)(ns,{title:"Material",children:[(0,l.jsx)(na,{title:"Item",value:(null==v?void 0:v.rawName)?(0,l.jsx)(nr,{src:"".concat(d.prefix,"data/").concat(null==v?void 0:v.rawName,".png"),alt:""}):(0,l.jsx)(l.Fragment,{})}),(0,l.jsx)(na,{title:"Upg. cost",value:(0,d.kFormatter)(null==v?void 0:v.nextMatUpgrade,2)}),(0,l.jsx)(na,{title:"Total Spent",value:(0,d.kFormatter)(null==v?void 0:v.totalMats)})]}),(0,l.jsxs)(ns,{title:"Money",children:[(0,l.jsx)(na,{title:"Upg. cost",money:!0,sx:{pb:2},value:(0,l.jsx)(H.Z,{title:"",maxCoins:3,money:(0,d.getCoinsArray)(null==v?void 0:v.nextCoinUpgrade)})}),(0,l.jsx)(na,{title:"Total Spent",money:!0,sx:{pb:2},value:(0,l.jsx)(H.Z,{title:"",maxCoins:3,money:(0,d.getCoinsArray)(null==v?void 0:v.totalCoins)})})]}),(null==v?void 0:v.coinsToMax)>0?(0,l.jsx)(na,{title:"Coins to max",money:!0,sx:{pb:2,my:2},value:(0,l.jsx)(H.Z,{title:"",maxCoins:3,money:(0,d.getCoinsArray)(null==v?void 0:v.coinsToMax)})}):null]})]})},nr=u.Z.img(nt()),ni=n=>{let{availablePoints:e,pointsFromCoins:t,pointsFromMats:r}=n;return(0,l.jsxs)(a.Z,{mb:1,children:[(0,l.jsxs)(s.Z,{my:1,variant:"h6",children:["Points (",(0,l.jsx)(s.Z,{variant:"h6",component:"span",color:0===e?"":e>0?"error.light":"secondary",children:t+r-e})," ","/ ",t+r,")"]}),(0,l.jsxs)(s.Z,{variant:"caption",children:["Points from mats: ",r]}),(0,l.jsxs)(s.Z,{variant:"caption",children:["Points from coins: ",t]})]})},na=n=>{let{title:e,value:t,money:r,sx:i}=n;return(0,l.jsx)(T.Z,{sx:{width:"100%",...i},children:(0,l.jsxs)(M.Z,{sx:{"&:last-child":{p:"10px"}},children:[(0,l.jsx)(s.Z,{fontWeight:"bold",children:e}),r?t:(0,l.jsx)(s.Z,{children:t})]})})},ns=n=>{let{title:e,children:t}=n;return(0,l.jsxs)(l.Fragment,{children:["object"==typeof e?e:(0,l.jsx)(s.Z,{my:1,variant:"h6",children:e}),(0,l.jsx)(a.Z,{direction:"row",gap:2,children:t})]})},nc=n=>{let{signs:e}=n;return(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(s.Z,{variant:"h5",children:"Star Signs"}),(0,l.jsx)(a.Z,{gap:1,children:null==e?void 0:e.map((n,e)=>{let{starName:t,bonuses:r}=n,i=null==r?void 0:r.some(n=>{let{chipBoost:e}=n;return e>1});return"None"!==t?(0,l.jsx)(T.Z,{children:(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(s.Z,{fontWeight:"bold",variant:"body1",children:(0,d.cleanUnderscore)(t)}),(0,l.jsx)(s.Z,{color:i?"info.light":"",children:null==r?void 0:r.map((n,e)=>{let{rawName:t}=n;return"".concat((0,d.cleanUnderscore)(t)).concat(r.length-1===e?"":", ")})})]})},t+e):null})})]})},no=n=>{let{bubbles:e}=n;return(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(s.Z,{variant:"h5",children:"Bubbles"}),(0,l.jsx)(a.Z,{direction:"row",children:null==e?void 0:e.map((n,e)=>{let{bubbleName:t,rawName:r}=n,i="BUG]"===t?"Bug2":t;return(0,l.jsx)(x.Z,{title:(0,l.jsx)(nd,{...n,bubbleName:i}),children:(0,l.jsx)("img",{src:"".concat(d.prefix,"data/").concat(r,".png"),style:{width:70,height:70},alt:""})},i+e)})})]})},nd=n=>{let{bubbleName:e,desc:t,func:r,level:i,x1:a,x2:c}=n,o=(0,d.growth)(r,i,a,c);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Z,{fontWeight:"bold",variant:"h5",children:(0,d.cleanUnderscore)(e)}),(0,l.jsx)(s.Z,{children:(0,d.cleanUnderscore)(t).replace(/({}?)|\$/g,o)})]})};var nx=t(5789),nu=t(6972),nh=t(9690),np=t(3948);function nj(){let n=(0,c._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return nj=function(){return n},n}let nv=n=>{var e;let{playerId:t,afkTarget:r,account:i,divStyle:c}=n,o=()=>{var n,e,l;return null===(n=null==i?void 0:null===(e=i.lab)||void 0===e?void 0:null===(l=e.connectedPlayers)||void 0===l?void 0:l.find(n=>(null==n?void 0:n.playerId)===t))||void 0===n?void 0:n.isDivinityConnected};return(0,l.jsx)(T.Z,{sx:{width:220},variant:"outlined",children:(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(s.Z,{color:"info.light",children:"Activity"}),r&&"_"!==r?(0,l.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:["Divinity"===r||o()?(0,l.jsx)(x.Z,{title:(0,d.cleanUnderscore)(null==c?void 0:c.description.replace("@","")),children:(0,l.jsx)("img",{style:{height:40,width:58},src:"".concat(d.prefix,"etc/Div_Style_").concat(null!==(e=null==c?void 0:c.index)&&void 0!==e?e:0,".png"),alt:""})}):null,(0,l.jsxs)(a.Z,{children:[(0,l.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)(nm,{src:"".concat(d.prefix,"afk_targets/").concat(r,".png"),alt:""}),(0,l.jsx)(s.Z,{children:(0,d.cleanUnderscore)(r)})]}),o()?(0,l.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)(nm,{src:"".concat(d.prefix,"afk_targets/Divinity.png"),alt:""}),(0,l.jsx)(s.Z,{children:"Divinity"})]}):null]})]}):(0,l.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)(nm,{src:"".concat(d.prefix,"data/Afkz5.png"),alt:""}),(0,l.jsx)(s.Z,{children:"Nothing"})]})]})})},nm=u.Z.img(nj());var ng=t(8593);let nf={strength:"error.light",agility:"success.light",wisdom:"secondary",luck:"warning.light"},nZ=n=>{var e;let{activityFilter:t,statsFilter:i,character:c,lastUpdated:o,account:u,characters:h}=n,{name:p,playerId:j,stats:v,afkTime:m,crystalSpawnChance:g,nextPortal:f,afkTarget:Z,nonConsumeChance:y}=c,{cashMulti:w,breakdown:b}=(0,r.useMemo)(()=>(0,ng.bv)(c,u,h)||{},[c,u]),{dropRate:k,breakdown:C}=(0,r.useMemo)(()=>(0,ng.VK)(c,u,h)||{},[c,u]),I=()=>{var n;let e=null==c?void 0:null===(n=c.activePrayers)||void 0===n?void 0:n.find(n=>{let{name:e}=n;return"Unending_Energy"===e}),t=new Date().getTime()+(m-o),l=(0,nu.Z)(new Date,new Date(t));return e&&l>10};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(a.Z,{gap:2,flexWrap:"wrap",children:[t?(0,l.jsx)(nv,{afkTarget:Z,divStyle:null==c?void 0:c.divStyle,playerId:j,account:u}):null,i?(0,l.jsxs)(l.Fragment,{children:[(null==f?void 0:f.goal)>10&&(null==f?void 0:f.current)<(null==f?void 0:f.goal)?(0,l.jsx)(T.Z,{variant:"outlined",children:(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(s.Z,{color:"info.light",children:"Next Portal"}),(0,l.jsx)(s.Z,{children:"".concat((0,d.kFormatter)(null==f?void 0:f.current)," / ").concat((0,d.kFormatter)(null==f?void 0:f.goal))})]})}):null,null===(e=Object.entries(v))||void 0===e?void 0:e.map((n,e)=>{let[t,r]=n;return"level"!==t?(0,l.jsx)(T.Z,{variant:"outlined",children:(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(s.Z,{sx:{width:80,display:"inline-block"},variant:"body1",color:(null==nf?void 0:nf[t])||"info.light",children:(0,d.pascalCase)(t)}),(0,l.jsxs)(s.Z,{variant:"body1",component:"span",children:[" ",Math.floor(r)]})]})},"".concat(p,"-").concat(t,"-").concat(e)):null}),(0,l.jsx)(T.Z,{variant:"outlined",children:(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(s.Z,{color:"info.light",children:"Cash Multi"}),(0,l.jsx)(x.Z,{title:(0,l.jsx)(ny,{breakdown:b,notate:"Smaller"}),children:(0,l.jsxs)(s.Z,{children:[(0,d.notateNumber)(w),"%"]})})]})}),(0,l.jsx)(T.Z,{variant:"outlined",children:(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(s.Z,{color:"info.light",children:"Drop Rate"}),(0,l.jsx)(x.Z,{title:(0,l.jsx)(ny,{breakdown:C,notate:"Smaller"}),children:(0,l.jsxs)(s.Z,{children:[(0,d.notateNumber)(k,"MultiplierInfo").replace("#",""),"x"]})})]})}),(0,l.jsx)(T.Z,{variant:"outlined",children:(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(s.Z,{color:"info.light",children:"Chance not to consume food"}),(0,l.jsxs)(s.Z,{children:[(0,d.kFormatter)(y,2),"%"]})]})}),(0,l.jsx)(T.Z,{variant:"outlined",children:(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(s.Z,{color:"info.light",children:"Crystal Chance"}),(0,l.jsxs)(a.Z,{direction:"row",gap:1,children:[(0,l.jsxs)(s.Z,{children:["1 in ",Math.floor(1/(null==g?void 0:g.value))]}),(0,l.jsx)(x.Z,{title:(0,l.jsx)(ny,{titleWidth:180,breakdown:null==g?void 0:g.breakdown}),children:(0,l.jsx)(nx.Z,{})})]})]})}),(0,l.jsx)(T.Z,{variant:"outlined",children:(0,l.jsxs)(M.Z,{children:[(0,l.jsx)(s.Z,{color:"info.light",children:"Afk time"}),(0,l.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,color:I()?"error.light":"",children:[(()=>{let n=new Date().getTime()+(m-o),e=(0,nh.Z)(new Date,new Date(n));return e<=5})()?(0,l.jsx)(s.Z,{color:"success.light",children:"Active"}):(0,l.jsx)(np.Z,{type:"up",date:m,lastUpdated:o}),I()?(0,l.jsx)(x.Z,{title:"This character is afk more than 10 hours with Unending Energy prayer",children:(0,l.jsx)(nx.Z,{})}):null]})]})})]}):null]})})},ny=n=>{let{breakdown:e,titleWidth:t=120,notate:r=""}=n;return(0,l.jsx)(a.Z,{children:null==e?void 0:e.map((n,e)=>{let{name:i,value:a}=n;return(0,l.jsx)(y.uQ,{titleStyle:{width:t},title:i,value:isNaN(a)?a:(0,d.notateNumber)(a,r)},"".concat(i,"-").concat(e))})})};var nw=t(7836);function nb(){let n=(0,c._)(["\n  display: flex;\n  justify-content: center;\n\n  .talent {\n    display: flex;\n    align-items: center;\n    gap: 15px;\n  }\n"]);return nb=function(){return n},n}let nk={32:!0,130:!0,490:!0,25:!0},nC=n=>{let{postOffice:e,talents:t,cooldowns:i,afkTime:s,lastUpdated:c}=n,o=(0,nw.x)(e,"Magician_Starterpack",2),u=Math.max(0,o),h=n=>{var e;return null===(e=Object.entries(n))||void 0===e?void 0:e.reduce((n,e)=>{let[l,r]=e;if(!nk[l])return n;let i=null==t?void 0:t.find(n=>{let{talentId:e}=n;return parseInt(l)===e});if(!i)return n;let a=(0,d.growth)(null==i?void 0:i.funcX,null==i?void 0:i.maxLevel,null==i?void 0:i.x1,null==i?void 0:i.x2),c=(0,d.growth)(null==i?void 0:i.funcY,null==i?void 0:i.maxLevel,null==i?void 0:i.y1,null==i?void 0:i.y2),o=(new Date().getTime()-s)/1e3,x=(1-u/100)*r-o;return[...n,{...i,description:null==i?void 0:i.description.replace("{",a).replace("}",c),cd:x<0?x:new Date().getTime()+1e3*x}]},[])},p=(0,r.useMemo)(()=>h(i),[i]);return(null==p?void 0:p.length)?(0,l.jsx)(a.Z,{direction:"row",gap:2,children:null==p?void 0:p.map((n,e)=>(0,l.jsxs)(a.Z,{gap:1,direction:"row",alignItems:"center",className:"talent",children:[(0,l.jsx)(x.Z,{title:(0,l.jsx)(y.u3,{...n}),children:(0,l.jsx)("img",{src:"".concat(d.prefix,"data/UISkillIcon").concat(null==n?void 0:n.talentId,".png"),style:{width:56,height:56},alt:""})}),(0,l.jsx)(np.Z,{placeholder:(0,l.jsx)("span",{style:{color:"#51e406",fontWeight:"bold"},children:"Ready"}),type:"countdown",date:null==n?void 0:n.cd,lastUpdated:c})]},"".concat(null==n?void 0:n.talentId,"-").concat(e)))}):null};function nI(){let n=(0,c._)(["\n  width: 104px;\n  object-fit: contain;\n"]);return nI=function(){return n},n}u.Z.div(nb());let nN=n=>{let{character:e,account:t,lastUpdated:c,filters:x,cols:u,characters:h}=n,{name:p,classIndex:j,level:m,cards:g,skillsInfo:f,activePrayers:Z,starSigns:y,anvil:w,postOffice:b,obols:C,equippedBubbles:I,equipment:N,tools:S,food:U,invBagsUsed:F,carryCapBags:T,talents:M,starTalents:W,flatTalents:A,flatStarTalents:P,cooldowns:E,afkTime:O}=e,B=[{component:(0,l.jsx)(nZ,{activityFilter:null==x?void 0:x.Activity,statsFilter:null==x?void 0:x.Stats,character:e,characters:h,account:t,lastUpdated:c}),filter:["Stats","Activity"]},{component:(0,l.jsx)(V.Z,{obols:C}),filter:"Obols"},{component:(0,l.jsx)(V.Z,{obols:C,obolStats:!0}),filter:"Obols Stats"},{component:(0,l.jsx)(v,{bags:F,capBags:T}),filter:"Bags"},{component:(0,l.jsx)(k,{talents:M,starTalents:W}),filter:"Talents"},{component:(0,l.jsx)(_,{cards:g}),filter:"Cards"},{component:(0,l.jsx)(D,{skills:f,charName:p}),filter:"Skills"},{component:(0,l.jsx)(R,{prayers:Z}),filter:"Prayers"},{component:(0,l.jsx)(nc,{signs:y}),filter:"Star Signs"},{component:(0,l.jsx)(nl,{character:e,anvil:w}),filter:"Anvil Details"},{component:(0,l.jsx)(G,{...b}),filter:"Post Office"},{component:(0,l.jsx)(K,{charName:p,equipment:N,tools:S,food:U,character:e,account:t}),filter:"Equipment"},{component:(0,l.jsx)(no,{bubbles:I}),filter:"Equipped Bubbles"},{component:(0,l.jsx)(nC,{postOffice:b,cooldowns:E,lastUpdated:c,talents:[...A,...P],afkTime:O}),filter:"Active Skills CD"}],z=(0,r.useMemo)(()=>null==N?void 0:N.reduce((n,e)=>{let{rawName:t}=e;return!n&&t.includes("Trophy")?t:n},""),[e]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i.ZP,{item:!0,xl:u,children:(0,l.jsxs)(a.Z,{gap:2,children:[(0,l.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,l.jsx)(o.Z,{sx:{display:{sm:"none",md:"block"}},children:(0,l.jsx)("img",{src:"".concat(d.prefix,"data/ClassIcons").concat(j,".png"),alt:""})}),(0,l.jsxs)(a.Z,{children:[(0,l.jsxs)(s.Z,{sx:{typography:{xs:"body2",sm:"body1"}},children:[p," (",m,")"]}),z?(0,l.jsx)(nS,{src:"".concat(d.prefix,"data/").concat(z,"disp.png"),style:{width:102,height:19},alt:""}):null]})]}),(0,l.jsx)(a.Z,{direction:"row",flexWrap:"wrap",gap:4,children:null==B?void 0:B.map((n,e)=>{let t=null==x?void 0:x[n.filter];return Array.isArray(n.filter)&&(t=n.filter.some(n=>null==x?void 0:x[n])),t?(0,l.jsx)(r.Fragment,{children:n.component},"".concat(p,"-").concat(null==n?void 0:n.filter,"-").concat(e)):null})})]})})})},nS=u.Z.img(nI());var nU=t(2962);let n_=()=>{var n;let{state:e}=(0,r.useContext)(nn.I),t=(0,r.useMemo)(()=>{var n;return null===(n=Object.values((null==e?void 0:e.displayedCharacters)||[]))||void 0===n?void 0:n.filter(n=>n).length},[e]),c=Math.max(3,12/t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nU.PB,{title:"Idleon Toolbox | Characters",description:"Characters overview for a lot of the game aspects"}),t>0?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i.ZP,{container:!0,sx:{gap:{xs:2}},columns:12.5,children:null==e?void 0:null===(n=e.characters)||void 0===n?void 0:n.map((n,t)=>{var r;return(null==e?void 0:null===(r=e.displayedCharacters)||void 0===r?void 0:r[null==n?void 0:n.name])?(0,l.jsx)(nN,{filters:null==e?void 0:e.filters,account:null==e?void 0:e.account,character:n,characters:null==e?void 0:e.characters,cols:c,lastUpdated:null==e?void 0:e.lastUpdated},"".concat(null==n?void 0:n.name,"-").concat(t)):null})})}):(0,l.jsx)(a.Z,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(s.Z,{variant:"h4",children:"Please select a character"})})]})};var nF=n_}},function(n){n.O(0,[9912,9030,8410,2307,9774,2888,179],function(){return n(n.s=3713)}),_N_E=n.O()}]);