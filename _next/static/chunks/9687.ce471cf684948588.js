"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9687],{33913:function(e,l,i){i.d(l,{Z:function(){return t}});var o=i(19013),n=i(13882);function t(e){return(0,n.Z)(1,arguments),(0,o.Z)(e).getTime()<Date.now()}},26873:function(e,l,i){i.d(l,{MH:function(){return r},WA:function(){return t},jS:function(){return a}});var o=i(72032),n=i(65492);let t=(e,l)=>{let i=null==e?void 0:e.reduce((e,l)=>{let{kills:i}=l;return(null==e?void 0:e.length)===0?i:null==i?void 0:i.map((l,i)=>l+e[i])},[]);return o.deathNote.reduce((e,n)=>{var t,r,s;let{rawName:u,world:d}=n,v=null===o.mapEnemies||void 0===o.mapEnemies?void 0:o.mapEnemies[u],c=null==i?void 0:i[v],m=a(l,c);return{...e,[d]:{...(null==e?void 0:e[d])||{},rank:((null==e?void 0:null===(t=e[d])||void 0===t?void 0:t.rank)||0)+m,mobs:[...(null==e?void 0:null===(r=e[d])||void 0===r?void 0:r.mobs)||[],{rawName:u,displayName:null===o.monsters||void 0===o.monsters?void 0:null===(s=o.monsters[u])||void 0===s?void 0:s.Name,kills:c}]}}},{})},a=(e,l)=>25e3>l?0:1e5>l?1:25e4>l?2:5e5>l?3:1e6>l?4:5e6>l?5:1e8>l?7:1e9<l&&(0,n.R)(null==e?void 0:e.rift,"Eclipse_Skulls")?20:10,r=e=>{var l;let i=(0,n.R)(null==e?void 0:e.rift,"Eclipse_Skulls");return i?null===(l=Object.entries((null==e?void 0:e.deathNote)||{}))||void 0===l?void 0:l.reduce((e,l)=>{let[i,{mobs:o}]=l,n=null==o?void 0:o.reduce((e,l)=>{let{kills:i}=l;return e+(i>=1e9?1:0)},0);return e+n},0):0}},64018:function(e,l,i){i.r(l),i.d(l,{parseData:function(){return U}});var o=i(70708),n=i(60510),t=i(96916),a=i(47780),r=i(3478),s=i(62866);let u={1:!0,2:!0,3:!0,4:!0},d={0:"chopping",1:"fishing",2:"catching",3:"mining"},v=e=>{var l,i;let o=(null==e?void 0:null===(l=e.FamilyValuesMap)||void 0===l?void 0:l.ColosseumHighscores)||(null==e?void 0:e.FamValColosseumHighscores),n=(null==e?void 0:null===(i=e.FamilyValuesMap)||void 0===i?void 0:i.MinigameHiscores)||(null==e?void 0:e.FamValMinigameHiscores);return{coloHighscores:c(o),minigameHighscores:m(n)}},c=e=>e.filter((e,l)=>u[l]).map(e=>parseFloat(e)),m=e=>e.filter((e,l)=>d[l]).map((e,l)=>({minigame:d[l],score:e}));var p=i(39574);let g=e=>{let l=(0,p.tryToParse)(null==e?void 0:e.GemItemsPurchased)||(null==e?void 0:e.GemItemsPurchased);return y(l)},y=e=>e;var h=i(85417),f=i(29222),b=i(52762),k=i(53555),w=i(14573),T=i(47450),P=i(72032);let S=(e,l)=>{let i=null==e?void 0:e.ForgeItemOrder,o=(null==e?void 0:e.ForgeItemQuantity)||(null==e?void 0:e.ForgeItemQty),n=(null==e?void 0:e.FurnaceLevels)||(null==e?void 0:e.ForgeLV);return N(i,o,n,l)},A=[{name:"New Forge Slot",maxLevel:16,description:"extra slots to smelt ores",costMulti:void 0},{name:"Ore Capacity Boost",maxLevel:50,description:"Increases max ores per slot",costMulti:1.41},{name:"Forge Speed",maxLevel:90,description:"Ores are turned into bars faster",costMulti:1.2},{name:"Forge EXP Gain",maxLevel:85,description:"Increased EXP gain from using the forge",costMulti:1.21},{name:"Bar Bonanza",maxLevel:75,description:"Increased chance to make an extra bar",costMulti:1.25},{name:"Puff Puff Go",maxLevel:60,description:"Increased chance for a card drop while afk",costMulti:1.33}],N=(e,l,i,o)=>{var n,t;let a=null==A?void 0:A.map((e,l)=>({...e,level:i[l]})),r=null!==(t=null==o?void 0:null===(n=o.gemShopPurchases)||void 0===n?void 0:n.find((e,l)=>104===l))&&void 0!==t?t:0,s=[],u=0;for(let i=0;i<(null==e?void 0:e.length);i+=3){let[o,n,t]=null==e?void 0:e.slice(i,i+3),[a,d,v]=l.slice(i,i+3);s=[...s,{isBrimestone:u<r,ore:{...null===P.items||void 0===P.items?void 0:P.items[o],rawName:o,quantity:a},barrel:{...null===P.items||void 0===P.items?void 0:P.items[n],rawName:n,quantity:d},bar:{...null===P.items||void 0===P.items?void 0:P.items[t],rawName:t,quantity:v}}],u++}return{list:s,upgrades:a}};var B=i(57277),M=i(66148),C=i(9336);let F=e=>{let l=(null==e?void 0:e.Tasks)||[(0,p.tryToParse)(null==e?void 0:e.TaskZZ0),(0,p.tryToParse)(null==e?void 0:e.TaskZZ1),(0,p.tryToParse)(null==e?void 0:e.TaskZZ2),(0,p.tryToParse)(null==e?void 0:e.TaskZZ3),(0,p.tryToParse)(null==e?void 0:e.TaskZZ4),(0,p.tryToParse)(null==e?void 0:e.TaskZZ5)];return Z(l)},Z=e=>e;var E=i(8974),L=i(91909),O=i(72094),x=i(20566),D=i(21994),I=i(9798),_=i(30210),j=i(24051),R=i(2183),V=i(55179),q=i(26873),H=i(58696),z=i(44891),G=i(64529),W=i(30058),K=i(47315),X=i(65492),Q=i(37836);let U=(e,l,i,o,n)=>{let t,a;try{console.info("%cStart Parsing","color:orange"),(null==e?void 0:e.PlayerDATABASE)&&(l=Object.keys(null==e?void 0:e.PlayerDATABASE),a=Object.values(null==e?void 0:e.PlayerDATABASE).reduce((e,l,i)=>{var o;return{...e,...null===(o=Object.entries(l))||void 0===o?void 0:o.reduce((e,l)=>{let[o,n]=l;return{...e,["".concat(o,"_").concat(i)]:n}},{})}},{}),e={...e,...a});let r=J(e,l,i,o,n);return t=null==r?void 0:r.accountData,a=null==r?void 0:r.charactersData,console.info("data",{account:t,characters:a}),console.info("%cParsed successfully","color: green"),{account:t,characters:a}}catch(e){console.error("Error while parsing data",e),void 0!==window.gtag&&window.gtag("event","error",{event_category:"error",event_label:"engagement",value:JSON.stringify(e)})}},J=(e,l,i,u,d)=>{var c,m,y,A,N,Z,U,J,Y,$,ee,el,ei,eo;let en={},et,ea=(0,o.ql)(e,l);en.companions=(0,L.Rf)(i),en.serverVars=d,en.accountOptions=(null==e?void 0:e.OptionsListAccount)||(0,p.tryToParse)(null==e?void 0:e.OptLacc),en.bribes=(0,k.t)(e),en.timeAway=(0,p.tryToParse)(null==e?void 0:e.TimeAway)||(null==e?void 0:e.TimeAway),en.alchemy=(0,f.p4)(e),en.equippedBubbles=(0,f.Tw)(e,null===(c=en.alchemy)||void 0===c?void 0:c.bubbles,ea),en.storage=(0,b.cF)(e),en.saltLick=(0,O.U)(e,en.storage),en.dungeons=(0,x.MR)(e,en.accountOptions),en.prayers=(0,T.hn)(e,en.storage),en.cards=(0,n.vm)(e,en),en.gemShopPurchases=g(e),en.guild=(0,_.Sk)(e,u),en.currencies=(0,L.DE)(e,en),en.stamps=(0,a.t2)(e),en.obols=(0,t.dR)(e),en.looty=(0,L.NQ)(e),en.tasks=F(e),en.breeding=(0,H.N5)(e,en),en.cooking=(0,D.Tt)(e,en,ea),en.divinity=(0,z.y0)(e,ea),en.postOfficeShipments=(0,Q.NU)(e),en.lab=(0,I.Cs)(e,ea,en),en.shrines=(0,s.Xz)(e,en),en.towers=(0,B.d4)(e,en),en.statues=(0,r.Xl)(e,ea),en.achievements=(0,M.j)(e),en.lab.connectedPlayers=null===(m=en.lab.connectedPlayers)||void 0===m?void 0:m.map(e=>{var l,i;return{...e,isDivinityConnected:(null==en?void 0:null===(l=en.divinity)||void 0===l?void 0:null===(i=l.linkedDeities)||void 0===i?void 0:i[null==e?void 0:e.playerId])===4||(0,I.p8)(e,4)}}),en.rift=(0,X.w)(e),en.arcade=(0,E.z)(e,en,d);let er=(0,I.c9)(en.lab.labBonuses,7);en.stamps=(0,a.Md)(en.stamps,er);let es=(0,I.c9)(en.lab.labBonuses,10);if(en.alchemy.vials=(0,f.nm)(en.alchemy.vials,es),(0,X.R)(en.rift,"Vial_Mastery")){let e=null==en?void 0:null===(ei=en.alchemy)||void 0===ei?void 0:null===(eo=ei.vials)||void 0===eo?void 0:eo.filter(e=>{let{level:l}=e;return 13===l}),l=1+2*(null==e?void 0:e.length)/100;en.alchemy.vials=(0,f.nm)(en.alchemy.vials,es*l)}let eu=(0,I.c9)(en.lab.labBonuses,8),ed=(0,I.pc)(en.lab.jewels,16,eu);en.cooking.meals=(0,D.wR)(en.cooking.meals,ed);let ev=null==ea?void 0:ea.map(e=>{var l,i,o;let n=null==e?void 0:e.PersonalValuesMap;return{level:null!==(i=null==n?void 0:null===(l=n.StatList)||void 0===l?void 0:l[4])&&void 0!==i?i:0,class:null!==(o=null===P.classes||void 0===P.classes?void 0:P.classes[null==e?void 0:e.CharacterClass])&&void 0!==o?o:""}});en.starSigns=(0,w.kz)(e),en.constellations=(0,w.tp)(e),en.charactersLevels=ev,et=ea.map(l=>(0,o.SD)(l,ev,{...en},e)),en.lab=(0,I.Cs)(e,ea,en,et),y=[1,2,3,4,5],en.finishedWorlds=void 0===y?void 0:y.reduce((e,l)=>({...e,["World".concat(l)]:(0,V.jZ)(et,l)}),{}),en.statues=(0,r.hE)(en.statues,et);let ec=null==et?void 0:et.map(e=>{let{name:l,skillsInfo:i}=e;return{name:l,skillsInfo:i}});en.totalSkillsLevels=(0,L.B4)(ec),en.construction=(0,B.VR)(e,en),en.atoms=(0,K.nK)(e,en);let em=(0,G.yN)(e,et,en);en.alchemy.p2w.sigils=(0,f.RG)(en.alchemy.p2w.sigils,em),en.alchemy.liquidCauldrons=(0,f.jd)(en),en.gaming=(0,W.gm)(e,et,en,d),en.sailing=(0,G.x0)(e,em,et,en,d,ev);let ep=(0,L.tS)(ec);et=et.map(e=>({...e,skillsInfo:ep[null==e?void 0:e.name]})),en.highscores=v(e),en.shopStock=(0,h.u6)(e),en.forge=S(e,en),en.refinery=(0,C.w)(e,en.storage,en.tasks),en.printer=(0,j.h)(e,et,en),en.traps=(0,R.a)(ea),en.quests=(0,V.zz)(et),en.deathNote=(0,q.WA)(et,en),en.anvil=et.map(e=>{let{anvil:l}=e;return l}),en.bundles=(0,L.kU)(e);let eg=parseFloat(null==e?void 0:e.MoneyBANK),ey=null==et?void 0:et.reduce((e,l)=>e+parseFloat(null==l?void 0:l.money),0),eh=eg+ey;en.currencies.rawMoney=eh,en.currencies.money=(0,p.getCoinsArray)(eh),en.currencies.gems=null==e?void 0:e.GemsOwned,en.currencies.KeysAll=(0,L.Ix)(null==en?void 0:null===(A=en.currencies)||void 0===A?void 0:A.KeysAll,et,en),en.currencies.ColosseumTickets=(0,L.cg)(null==en?void 0:null===(N=en.currencies)||void 0===N?void 0:N.ColosseumTickets,et,en),en.cooking.kitchens=(0,D.vu)(e,et,en),en.libraryTimes=(0,L.W9)(e,et,en),et=null==et?void 0:et.map(e=>{let{carryCapBags:l}=e;return e.carryCapBags=null==l?void 0:l.map(l=>{let i=(0,L.HA)(null==l?void 0:l.Class),o=(0,L.z3)(i,e,en);return{...l,capacityPerSlot:o,maxCapacity:o*(null==e?void 0:e.inventorySlots)}}),e});let ef=Math.floor((null==en?void 0:null===(Z=en.deathNote)||void 0===Z?void 0:null===(U=Z[0])||void 0===U?void 0:null===(J=U.mobs)||void 0===J?void 0:J[0].kills)/1e6),eb=(null===(Y=en.lab.labBonuses)||void 0===Y?void 0:null===($=Y[13])||void 0===$?void 0:$.active)?1.5*ef:0,ek=ef*(null===(ee=en.lab.labBonuses)||void 0===ee?void 0:null===(el=ee[9])||void 0===el?void 0:el.bonusOn);return en.lab.labBonuses=(0,I.ww)(en.lab.labBonuses,ek+eb,9),{accountData:en,charactersData:et}}},2183:function(e,l,i){i.d(l,{a:function(){return n},q:function(){return a}});var o=i(72032);let n=e=>t(e),t=e=>e.map(e=>{let l=(null==e?void 0:e.PldTraps)||[];return l.reduce((e,l)=>{var i;let[n,,t,a,r,s,u]=l;if(-1===n||"-1"===n)return e;let d=o.traps[s].find(e=>e.trapTime===u),v=u-t;return a?[...e,{name:null===(i=o.items[a])||void 0===i?void 0:i.displayName,rawName:a,crittersQuantity:r,trapType:s,timeLeft:new Date().getTime()+1e3*v,trapData:d}]:e},[])}),a=e=>null==e?void 0:e.reduce((e,l)=>(l.reduce((l,i)=>{var o;let{crittersQuantity:n,rawName:t}=i;e={...e,[t]:(null!==(o=null==e?void 0:e[t])&&void 0!==o?o:0)+n}},{}),e),{})}}]);