"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7277],{57277:function(l,o,e){e.d(o,{q5:function(){return y},ZX:function(){return h},VR:function(){return t},Bt:function(){return b},d4:function(){return p}});var n=e(39574),u=e(72032);let i=(l,o)=>{let e=null==l?void 0:l.reduce((l,e,n)=>{let u=d(o[n]);if(!u)return l;let{a:i="",c:t="",d:a="",b:r="",e:s="",g:c="",k:g="",f:p=""}=e||{},f=[i,t,a,r,s,c,g,p].map((l,o)=>o<7?"".concat(v(l)||"",","):v(l)),h=o[n].includes("Player_")?o[n].split("Player_")[1]:"";return"".concat(l,"\n").concat(u,",").concat(h,",").concat(f.join(""))},"cog type,name,build_rate,flaggy_rate,exp_mult,exp_rate,build_rate_boost,flaggy_rate_boost,flaggy_speed,exp_rate_boost"),n="empties_x,empties_y",u=null==o?void 0:o.slice(0,96);for(let l=0;l<8;l++)for(let o=0;o<12;o++){let e=(7-l)*12+o;"Blank"===u[e]&&(n="".concat(n,"\n").concat(o,",").concat(l))}return{cogData:e,empties:n}},d=l=>{if("Blank"===l)return null;if(l.includes("Player_"))return"Character";if("CogY"===l)return"Yang_Cog";if("CogZ"===l)return"Omni_Cog";let o=Object.entries({ad:"Plus",di:"X",up:"Up",do:"Down",ri:"Right",le:"Left",ro:"Row",co:"Col",cr:"Omni"}).find(o=>{let[e]=o;return l.endsWith(e)});return o?"".concat(o[1],"_Cog"):"Cog"},v=l=>{var o;return(null==l?void 0:null===(o=l.name)||void 0===o?void 0:o.includes("%"))?(null==l?void 0:l.value)>0&&!isNaN((null==l?void 0:l.value)/100)?(null==l?void 0:l.value)/100:"":(null==l?void 0:l.value)||""},t=(l,o)=>{let e=(null==l?void 0:l.CogMap)||(0,n.tryToParse)(null==l?void 0:l.CogM),u=(null==l?void 0:l.CogOrder)||(0,n.tryToParse)(null==l?void 0:l.CogO),d=s(e,null==u?void 0:u.length),v=r(d),t=a(l,v,u,o),c=i(v,u);return{...t,cogstruction:c}},a=(l,o,e,u)=>{let i=(null==l?void 0:l.FlagUnlock)||(0,n.tryToParse)(null==l?void 0:l.FlagU),d=(null==l?void 0:l.FlagsPlaced)||(0,n.tryToParse)(null==l?void 0:l.FlagP);return c(i,d,o,e,u)},r=l=>null==l?void 0:l.map(l=>{var o;return null===(o=Object.entries(l))||void 0===o?void 0:o.reduce((l,o)=>{let[e,n]=o;return(null===u.cogKeyMap||void 0===u.cogKeyMap?void 0:u.cogKeyMap[e])&&(null===u.cogKeyMap||void 0===u.cogKeyMap?void 0:u.cogKeyMap[e])!=="_"?{...l,[e]:{name:null===u.cogKeyMap||void 0===u.cogKeyMap?void 0:u.cogKeyMap[e],value:n}}:{...l,[e]:n}},{})}),s=(l,o)=>{let e=[];for(let n=0;n<o;n++)e[n]=(null==l?void 0:l[n])||{};return e},c=(l,o,e,n,i)=>{var d,v,t,a;let r=null==l?void 0:l.reduce((l,i,d)=>{let v=null==n?void 0:n[d],t=null==e?void 0:e[d];return[...l,{currentAmount:-11===i?null===u.flagsReqs||void 0===u.flagsReqs?void 0:u.flagsReqs[d]:parseFloat(i),requiredAmount:null===u.flagsReqs||void 0===u.flagsReqs?void 0:u.flagsReqs[d],flagPlaced:null==o?void 0:o.includes(d),cog:{name:v,stats:t}}]},[]),s=null==e?void 0:e.map((l,o)=>({...l,name:null==n?void 0:n[o]})).filter(l=>{let{name:o}=l;return null==o?void 0:o.includes("Player_")}).reduce((l,o)=>{let{a:e}=o;return l+((null==e?void 0:e.value)||0)},0),c=Array(96).fill(0);for(let l=0;l<8;l++)for(let o=0;o<12;o++){let e=(7-l)*12+o,n=null==r?void 0:null===(v=r[e])||void 0===v?void 0:null===(t=v.cog)||void 0===t?void 0:t.stats,u=g(null==n?void 0:n.h,o,l);if((null==u?void 0:u.length)>0){u=null==u?void 0:u.map(l=>{let[o,e]=l;return(7-e)*12+o});let{e:l,f:o,g:i}=n||{};(l||o||i)&&(null==u||u.forEach(l=>{var o,n;let{e:u,f:i,g:d}=(null==r?void 0:null===(o=r[e])||void 0===o?void 0:null===(n=o.cog)||void 0===n?void 0:n.stats)||{};if((null==c?void 0:c[l])===0)c[l]={e:u,f:i,g:d};else{let{e:o,f:e,g:n}=c[l]||{};c[l]={e:{...o,value:((null==o?void 0:o.value)||0)+((null==u?void 0:u.value)||0)},f:{...e,value:((null==e?void 0:e.value)||0)+((null==i?void 0:i.value)||0)},g:{...n,value:((null==n?void 0:n.value)||0)+((null==d?void 0:d.value)||0)}}}}))}}let p=0,f=0,h=0,y=null!==(a=null==i?void 0:null===(d=i.gemShopPurchases)||void 0===d?void 0:d.find((l,o)=>118===o))&&void 0!==a?a:0,m=null==r?void 0:r.map((l,o)=>{var e,n,u,i,d,v,t,a,r,s,g,y,m,b,_,k,M,w,P,C,x,T;let{cog:R}=l||{},{e:K,f:q,g:O}=(null==c?void 0:c[o])||{},j=(null==K?void 0:K.value)>0&&(null==R?void 0:null===(e=R.stats)||void 0===e?void 0:null===(n=e.a)||void 0===n?void 0:n.value)>0?(null==R?void 0:null===(u=R.stats)||void 0===u?void 0:null===(i=u.a)||void 0===i?void 0:i.value)+(null==R?void 0:null===(d=R.stats)||void 0===d?void 0:null===(v=d.a)||void 0===v?void 0:v.value)*(null==K?void 0:K.value)/100:(null==R?void 0:null===(t=R.stats)||void 0===t?void 0:null===(a=t.a)||void 0===a?void 0:a.value)||0;p+=j,f+=(null==R?void 0:null===(r=R.stats)||void 0===r?void 0:null===(s=r.d)||void 0===s?void 0:s.value)>0?null==R?void 0:null===(g=R.stats)||void 0===g?void 0:null===(y=g.d)||void 0===y?void 0:y.value:0;let F=(null==O?void 0:O.value)>0&&(null==R?void 0:null===(m=R.stats)||void 0===m?void 0:null===(b=m.c)||void 0===b?void 0:b.value)>0?(null==R?void 0:null===(_=R.stats)||void 0===_?void 0:null===(k=_.c)||void 0===k?void 0:k.value)+(null==R?void 0:null===(M=R.stats)||void 0===M?void 0:null===(w=M.c)||void 0===w?void 0:w.value)*(null==O?void 0:O.value)/100:(null==R?void 0:null===(P=R.stats)||void 0===P?void 0:null===(C=P.c)||void 0===C?void 0:C.value)||0;return h+=F,{...l,cog:{...R,stats:{...null==R?void 0:R.stats,a:{...null==R?void 0:null===(x=R.stats)||void 0===x?void 0:x.a,value:j},c:{...null==R?void 0:null===(T=R.stats)||void 0===T?void 0:T.c,value:F}}}}});return{board:m,totalBuildRate:p,totalExpRate:f,totalFlaggyRate:h*(1+50*y/100),playersBuildRate:s}},g=(l,o,e)=>{let n=[];switch(l){case"diagonal":n.push([o-1,e-1],[o+1,e-1],[o-1,e+1],[o+1,e+1]);break;case"adjacent":n.push([o-1,e],[o,e+1],[o+1,e],[o,e-1]);break;case"up":n.push([o-1,e+2],[o,e+2],[o+1,e+2],[o-1,e+1],[o,e+1],[o+1,e+1]);break;case"right":n.push([o+2,e-1],[o+2,e],[o+2,e+1],[o+1,e-1],[o+1,e],[o+1,e+1]);break;case"down":n.push([o-1,e-2],[o,e-2],[o+1,e-2],[o-1,e-1],[o,e-1],[o+1,e-1]);break;case"left":n.push([o-2,e-1],[o-2,e],[o-2,e+1],[o-1,e-1],[o-1,e],[o-1,e+1]);break;case"row":for(let l=0;l<12;l++)o!==l&&n.push([l,e]);break;case"column":for(let l=0;l<8;l++)e!==l&&n.push([o,l]);break;case"corners":n.push([o-2,e-2],[o+2,e-2],[o-2,e+2],[o+2,e+2]);break;case"around":n.push([o,e-2],[o-1,e-1],[o,e-1],[o+1,e-1],[o-2,e],[o-1,e],[o+1,e],[o+2,e],[o-1,e+1],[o,e+1],[o+1,e+1],[o,e+2]);break;case"everything":for(let l=0;l<8;l++)for(let u=0;u<12;u++)(e!==l||o!==u)&&n.push([u,l])}return n},p=l=>{let o=(null==l?void 0:l.TowerInfo)||(0,n.tryToParse)(null==l?void 0:l.Tower),e=(0,n.tryToParse)(null==l?void 0:l.TotemInfo)||(null==l?void 0:l.TotemInfo);return f(o,e)},f=(l,o)=>{var e;let n=null==o?void 0:o[0],i=null==n?void 0:n.reduce((l,o)=>l+o,0),d=Object.keys(u.towers).length,v=l.slice(54,62),t=0,a=0,r=null===(e=Object.entries(u.towers))||void 0===e?void 0:e.map(o=>{let[e,n]=o,u=null==l?void 0:l[null==n?void 0:n.index];return(null==n?void 0:n.index)>=9&&(null==n?void 0:n.index)<=17&&u>50&&(t+=u-50),a+=u,{...n,name:e,level:u,nextLevel:u+1===l[n.index+d],progress:null==l?void 0:l[(null==n?void 0:n.index)+12+2*d],inProgress:null==v?void 0:v.includes(null==n?void 0:n.index),slot:null==v?void 0:v.findIndex(l=>l===(null==n?void 0:n.index))}});return{data:r,buildMultiplier:null===u.randomList||void 0===u.randomList?void 0:u.randomList[13].split(" "),wizardOverLevels:t,totalLevels:a,totalWaves:i,towersTwo:null==l?void 0:l[2]}},h=(l,o,e,n)=>{if(0===n)return 20*Math.pow(o+1,2)*Math.pow(1.6,o+1);{var u;let i=Number(null==l?void 0:null===(u=l.buildMultiplier)||void 0===u?void 0:u[n]);return i*Math.pow(e,o)}},y=[250,500,750,1e3,1250,1500,2500],m=(l,o)=>6===o?l>=(null==y?void 0:y[6])?30:0:4===o?l>=(null==y?void 0:y[3])?100:0:5===o?l>=(null==y?void 0:y[5])?100:0:3===o&&l>=(null==y?void 0:y[1])?35:0,b=(l,o,e)=>50===o?Math.round(2*e+m(l,6,0)):101===o?m(l,4,0):100===o?m(l,5,0):15===o?m(l,3,0):0}}]);